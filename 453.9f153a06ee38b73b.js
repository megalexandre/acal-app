"use strict";(self.webpackChunkvelzon=self.webpackChunkvelzon||[]).push([[453],{115:(g,h,a)=>{a.d(h,{i:()=>m});var i=a(177),d=a(9417),f=a(9830),u=a(4438);let r=(()=>{class l{static{this.\u0275fac=function(t){return new(t||l)}}static{this.\u0275mod=u.$C({type:l})}static{this.\u0275inj=u.G2t({imports:[i.MD]})}}return l})(),c=(()=>{class l{static{this.\u0275fac=function(t){return new(t||l)}}static{this.\u0275mod=u.$C({type:l})}static{this.\u0275inj=u.G2t({imports:[i.MD]})}}return l})();var p=a(7276);let m=(()=>{class l{static{this.\u0275fac=function(t){return new(t||l)}}static{this.\u0275mod=u.$C({type:l})}static{this.\u0275inj=u.G2t({providers:[(0,f.Dw)(),p.t],imports:[i.MD,r,c,d.YN,d.X1,r,c]})}}return l})()},9459:(g,h,a)=>{a.d(h,{Q:()=>u});var i=a(4438),d=a(177);const f=["*"];let u=(()=>{class r{constructor(){this.type="button",this.btnType="primary",this.disabled=!1,this.outline=!1}get buttonClasses(){return["btn",`${this.isOutline?"btn-outline":"btn"}-${this.btnType}`]}get isOutline(){return""===this.outline||!0===this.outline||"true"===this.outline}static{this.\u0275fac=function(m){return new(m||r)}}static{this.\u0275cmp=i.VBU({type:r,selectors:[["app-button"]],inputs:{type:"type",btnType:"btnType",disabled:"disabled",outline:"outline"},ngContentSelectors:f,decls:2,vars:3,consts:[[3,"type","ngClass","disabled"]],template:function(m,l){1&m&&(i.NAR(),i.j41(0,"button",0),i.SdG(1),i.k0s()),2&m&&i.Y8G("type",l.type)("ngClass",l.buttonClasses)("disabled",l.disabled)},dependencies:[d.YU],encapsulation:2})}}return r})()},43:(g,h,a)=>{a.d(h,{q:()=>f});var i=a(4438);const d=["*"];let f=(()=>{class u{static{this.\u0275fac=function(p){return new(p||u)}}static{this.\u0275cmp=i.VBU({type:u,selectors:[["app-card-body"]],ngContentSelectors:d,decls:2,vars:0,consts:[[1,"card-body"]],template:function(p,m){1&p&&(i.NAR(),i.j41(0,"div",0),i.SdG(1),i.k0s())},encapsulation:2})}}return u})()},7186:(g,h,a)=>{a.d(h,{l:()=>f});var i=a(4438);const d=["*"];let f=(()=>{class u{static{this.\u0275fac=function(p){return new(p||u)}}static{this.\u0275cmp=i.VBU({type:u,selectors:[["app-card-header"]],ngContentSelectors:d,decls:2,vars:0,consts:[[1,"card-header","d-flex","align-items-center"]],template:function(p,m){1&p&&(i.NAR(),i.j41(0,"div",0),i.SdG(1),i.k0s())},encapsulation:2})}}return u})()},6356:(g,h,a)=>{a.d(h,{i:()=>u});var i=a(4438);const d=[[["app-card-header"]],[["app-card-body"]],[["app-card-footer"]]],f=["app-card-header","app-card-body","app-card-footer"];let u=(()=>{class r{static{this.\u0275fac=function(m){return new(m||r)}}static{this.\u0275cmp=i.VBU({type:r,selectors:[["app-card"]],ngContentSelectors:f,decls:4,vars:0,consts:[[1,"card"]],template:function(m,l){1&m&&(i.NAR(d),i.j41(0,"div",0),i.SdG(1),i.SdG(2,1),i.SdG(3,2),i.k0s())},encapsulation:2})}}return r})()},7276:(g,h,a)=>{a.d(h,{t:()=>f});class i{static isValid(r){if(!r||/^(\d)\1+$/.test(r)||11!==r.length)return!1;let c=0;for(let l=0;l<9;l++)c+=parseInt(r.charAt(l))*(10-l);let p=10*c%11;if(p>=10&&(p=0),p!==parseInt(r.charAt(9)))return!1;c=0;for(let l=0;l<10;l++)c+=parseInt(r.charAt(l))*(11-l);let m=10*c%11;return m>=10&&(m=0),m===parseInt(r.charAt(10))}static valid(){return r=>{const c=r.value?.replace(/\D/g,"");return c&&this.isValid(c)?null:{invalidCPF:!0}}}}class d{static isValid(r){if(!r||/^(\d)\1+$/.test(r)||14!==r.length)return!1;const c=p=>{const m=12===p?[5,4,3,2,9,8,7,6,5,4,3,2]:[6,5,4,3,2,9,8,7,6,5,4,3,2],C=r.substring(0,p).split("").map(Number).reduce((t,k,E)=>t+k*m[E],0)%11;return(C<2?0:11-C)===parseInt(r.charAt(p))};return c(12)&&c(13)}static valid(){return r=>{const c=r.value?.replace(/\D/g,"");return c&&this.isValid(c)?null:{invalidCNPJ:!0}}}}class f{static valid(){return r=>{const c=r.value?.replace(/\D/g,"");return!c||11===c.length&&i.isValid(c)||14===c.length&&d.isValid(c)?null:{invalidCpfOrCnpj:!0}}}}},4453:(g,h,a)=>{a.r(h),a.d(h,{PlaceModule:()=>L});var i=a(177),d=a(9417),f=a(9005),u=a(8147),r=a(5464),c=a(6411),p=a(115),m=a(3887),l=a(8369),C=a(1188),F=a(467),t=a(4438),k=a(6181),E=a(9459);const y=(n,v)=>({"is-invalid":n,"is-valid":v});function j(n,v){if(1&n&&(t.j41(0,"option",19),t.EFF(1),t.k0s()),2&n){const e=v.$implicit;t.Y8G("value",e.name),t.R7$(),t.JRh(e.name)}}function _(n,v){1&n&&(t.j41(0,"div",20),t.EFF(1,"V\xe1lido"),t.k0s())}function T(n,v){1&n&&(t.qex(0),t.EFF(1," Nome \xe9 obrigat\xf3rio "),t.bVm())}function I(n,v){if(1&n&&(t.j41(0,"div",21),t.DNE(1,T,2,0,"ng-container",22),t.k0s()),2&n){let e;const o=t.XpG();t.R7$(),t.Y8G("ngIf",null==(e=o.getControl("address"))||null==e.errors?null:e.errors.required)}}function P(n,v){1&n&&(t.j41(0,"div",20),t.EFF(1,"V\xe1lido"),t.k0s())}function R(n,v){1&n&&(t.qex(0),t.EFF(1," N\xfamero \xe9 obrigat\xf3rio "),t.bVm())}function D(n,v){if(1&n&&(t.j41(0,"div",21),t.DNE(1,R,2,0,"ng-container",22),t.k0s()),2&n){let e;const o=t.XpG();t.R7$(),t.Y8G("ngIf",null==(e=o.getControl("number"))||null==e.errors?null:e.errors.required)}}function G(n,v){1&n&&(t.j41(0,"div",20),t.EFF(1,"V\xe1lido"),t.k0s())}function V(n,v){1&n&&(t.qex(0),t.EFF(1," Letra \xe9 obrigat\xf3rio "),t.bVm())}function $(n,v){if(1&n&&(t.j41(0,"div",21),t.DNE(1,V,2,0,"ng-container",22),t.k0s()),2&n){let e;const o=t.XpG();t.R7$(),t.Y8G("ngIf",null==(e=o.getControl("letter"))||null==e.errors?null:e.errors.required)}}let M=(()=>{class n{constructor(e,o,s,b){this.fb=e,this.service=o,this.addressService=s,this.activeModal=b,this.sent=new t.bkB,this.submitted=!1,this.addresses=[],this.form=this.fb.group({address:["",[d.k0.required]],number:["",[d.k0.required]],letter:["",[d.k0.required]]})}ngOnInit(){this.addressService.get().subscribe({next:e=>{this.addresses=e.sort((o,s)=>o.name.localeCompare(s.name))},error:()=>{this.addresses=[]}})}onSubmit(){var e=this;return(0,F.A)(function*(){e.submitted=!0,e.form.markAllAsTouched(),e.form.valid&&e.service.create(e.form.value).subscribe({next:()=>{e.sent.emit(),e.close()},error:()=>e.form.reset()})})()}close(){this.activeModal.close()}isValid(e){return this.getControl(e)?.valid&&this.submitted||!1}isInvalid(e){return this.getControl(e)?.invalid&&this.submitted||!1}getControl(e){return this.form.get(e)}static{this.\u0275fac=function(o){return new(o||n)(t.rXU(d.ok),t.rXU(l.Z),t.rXU(k.E),t.rXU(f.Lw))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-place-create"]],outputs:{sent:"sent"},decls:39,vars:20,consts:[[3,"ngSubmit","formGroup"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","outline","","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mb-3"],[1,"form-label"],[1,"text-danger"],["id","address","formControlName","address",1,"form-select",3,"ngClass"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["class","valid-feedback",4,"ngIf"],["class","invalid-feedback",4,"ngIf"],["type","text","id","number","formControlName","number","placeholder","N\xfamero:",1,"form-control",3,"ngClass"],["type","text","id","letter","formControlName","letter","placeholder","Letra:",1,"form-control",3,"ngClass"],[1,"modal-footer"],[1,"d-flex","justify-content-between","col-12"],["type","button","btnType","secondary","outline","",3,"click"],["type","submit","btnType","success","outline",""],[3,"value"],[1,"valid-feedback"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(o,s){1&o&&(t.j41(0,"form",0),t.bIt("ngSubmit",function(){return s.onSubmit()}),t.j41(1,"div",1)(2,"h5",2),t.EFF(3,"Criar Resid\xeancia"),t.k0s(),t.j41(4,"button",3),t.bIt("click",function(){return s.close()}),t.k0s()(),t.j41(5,"div",4)(6,"div",5)(7,"label",6),t.EFF(8,"Nome: "),t.j41(9,"span",7),t.EFF(10,"*"),t.k0s()(),t.j41(11,"select",8)(12,"option",9),t.EFF(13,"Selecione um endere\xe7o"),t.k0s(),t.DNE(14,j,2,2,"option",10),t.k0s(),t.DNE(15,_,2,0,"div",11)(16,I,2,1,"div",12),t.k0s(),t.j41(17,"div",5)(18,"label",6),t.EFF(19,"N\xfamero: "),t.j41(20,"span",7),t.EFF(21,"*"),t.k0s()(),t.nrm(22,"input",13),t.DNE(23,P,2,0,"div",11)(24,D,2,1,"div",12),t.k0s(),t.j41(25,"div",5)(26,"label",6),t.EFF(27,"Letra: "),t.j41(28,"span",7),t.EFF(29,"*"),t.k0s()(),t.nrm(30,"input",14),t.DNE(31,G,2,0,"div",11)(32,$,2,1,"div",12),t.k0s()(),t.j41(33,"div",15)(34,"div",16)(35,"app-button",17),t.bIt("click",function(){return s.close()}),t.EFF(36," Cancelar "),t.k0s(),t.j41(37,"app-button",18),t.EFF(38," Salvar "),t.k0s()()()()),2&o&&(t.Y8G("formGroup",s.form),t.R7$(11),t.Y8G("ngClass",t.l_i(11,y,s.isInvalid("address"),s.isValid("address"))),t.R7$(3),t.Y8G("ngForOf",s.addresses),t.R7$(),t.Y8G("ngIf",s.isValid("address")),t.R7$(),t.Y8G("ngIf",s.isInvalid("address")),t.R7$(6),t.Y8G("ngClass",t.l_i(14,y,s.isInvalid("number"),s.isValid("number"))),t.R7$(),t.Y8G("ngIf",s.isValid("number")),t.R7$(),t.Y8G("ngIf",s.isInvalid("number")),t.R7$(6),t.Y8G("ngClass",t.l_i(17,y,s.isInvalid("letter"),s.isValid("letter"))),t.R7$(),t.Y8G("ngIf",s.isValid("letter")),t.R7$(),t.Y8G("ngIf",s.isInvalid("letter")))},dependencies:[i.YU,i.Sq,i.bT,d.qT,d.xH,d.y7,d.me,d.wz,d.BC,d.cb,d.j4,d.JD,E.Q],encapsulation:2})}}return n})(),A=(()=>{class n{constructor(e,o){this.placeService=e,this.activeModal=o,this.sent=new t.bkB}close(){this.activeModal.dismiss("cancel")}confirm(){this.placeService.delete(this.place.id).subscribe({next:()=>{this.close(),this.sent.emit()}})}static{this.\u0275fac=function(o){return new(o||n)(t.rXU(l.Z),t.rXU(f.Lw))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-place-delete"]],inputs:{place:"place"},outputs:{sent:"sent"},decls:20,vars:1,consts:[[1,"modal-content"],[1,"modal-header"],["type","button","data-bs-dismiss","modal","aria-label","Close","id","btn-close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mt-2","text-center"],[1,"text-danger","d-inline-block","remove-item-btn"],[1,"ri-delete-bin-5-fill","fs-48"],[1,"mt-4","pt-2","fs-15","mx-4","mx-sm-5"],[1,"text-muted","mx-4","mb-0"],[1,"d-flex","gap-2","justify-content-center","mt-4","mb-2"],["data-bs-dismiss","modal","id","deleteRecord-close",1,"btn","btn-link","link-success","fw-medium","text-decoration-none",3,"click"],[1,"ri-close-line","me-1","align-middle"],["type","button","id","delete-product",1,"btn","w-sm","btn-danger",3,"click"]],template:function(o,s){1&o&&(t.j41(0,"div",0)(1,"div",1)(2,"button",2),t.bIt("click",function(){return s.close()}),t.k0s()(),t.j41(3,"div",3)(4,"div",4)(5,"a",5),t.nrm(6,"i",6),t.k0s(),t.j41(7,"div",7)(8,"h4"),t.EFF(9,"Voc\xea est\xe1 certo que quer deletar isso ?"),t.k0s(),t.j41(10,"p",8),t.EFF(11,"Essa a\xe7\xe3o n\xe3o pode ser desfeita."),t.k0s(),t.j41(12,"p",8),t.EFF(13),t.k0s()()(),t.j41(14,"div",9)(15,"button",10),t.bIt("click",function(){return s.close()}),t.nrm(16,"i",11),t.EFF(17," Cancelar"),t.k0s(),t.j41(18,"button",12),t.bIt("click",function(){return s.confirm()}),t.EFF(19,"Sim, Eu quero deletar!"),t.k0s()()()()),2&o&&(t.R7$(13),t.JRh(s.place.name+" "+s.place.number+" "+s.place.letter))},encapsulation:2})}}return n})();var S=a(6356),N=a(7186),B=a(43),U=a(272),Y=a(1272);function O(n,v){if(1&n){const e=t.RV6();t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.k0s(),t.j41(7,"td",14)(8,"ul",15)(9,"li",16),t.bIt("click",function(){const s=t.eBV(e).$implicit,b=t.XpG();return t.Njj(b.delete(s))}),t.j41(10,"a",17),t.nrm(11,"i",18),t.k0s()()()()()}if(2&n){const e=v.$implicit;t.R7$(2),t.JRh(e.name),t.R7$(2),t.JRh(e.number),t.R7$(2),t.JRh(e.letter)}}const x=[{path:"",component:(()=>{class n{ngOnInit(){this.search()}constructor(e,o){this.service=e,this.modalService=o,this.filter={page:0,size:10,sort_orders:[{property:"name",direction:"ASC"}]},this.loading=!0}search(){this.loading=!0,this.service.paginate({...this.filter}).subscribe({next:e=>{this.page={...e},this.loading=!1},error:()=>{this.loading=!1}})}onPageChange(e){this.filter.page=e,this.search()}trackById(e,o){return o.id}create(){this.openModal(M)}delete(e){this.openModal(A,{place:e})}edit(e){}openModal(e,o){const s=this.modalService.open(e,{centered:!0}).componentInstance;o&&Object.assign(s,o),s.sent.subscribe(()=>this.search())}static{this.\u0275fac=function(o){return new(o||n)(t.rXU(l.Z),t.rXU(f.Bq))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-place"]],decls:26,vars:3,consts:[[1,"row"],[1,"col-lg-12"],[1,"card-title","flex-grow-1","mb-0"],[1,"d-flex","gap-1","flex-wrap"],["btnType","success","outline","",3,"click"],[1,"table-responsive","table-card"],[1,"table","align-middle","table-nowrap","mb-0","table-gridjs"],[1,"table-light"],[2,"width","73%"],[2,"width","12%"],[2,"width","3%"],[1,"list","form-check-all"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"pageChange","page"],[1,"text-center"],[1,"list-inline","hstack","gap-2","mb-0"],["ngbTooltip","Remove","placement","top","data-bs-toggle","tooltip","data-bs-trigger","hover",1,"list-inline-item","me-0",3,"click"],[1,"text-danger","d-inline-block","remove-item-btn"],[1,"ri-delete-bin-5-fill","fs-16"]],template:function(o,s){1&o&&(t.j41(0,"div",0)(1,"div",1)(2,"app-card")(3,"app-card-header")(4,"h5",2),t.EFF(5,"Resid\xeancias"),t.k0s(),t.j41(6,"div",3)(7,"app-button",4),t.bIt("click",function(){return s.create()}),t.EFF(8," Adicionar "),t.k0s()()(),t.j41(9,"app-card-body")(10,"div",5)(11,"table",6)(12,"thead",7)(13,"tr")(14,"th",8),t.EFF(15,"Name:"),t.k0s(),t.j41(16,"th",9),t.EFF(17,"N\xfamero:"),t.k0s(),t.j41(18,"th",9),t.EFF(19,"Letra:"),t.k0s(),t.j41(20,"th",10),t.EFF(21,"A\xe7\xf5es:"),t.k0s()()(),t.j41(22,"tbody",11),t.DNE(23,O,12,3,"tr",12),t.k0s()()()(),t.j41(24,"app-card-footer")(25,"app-pagination",13),t.bIt("pageChange",function(w){return s.onPageChange(w)}),t.k0s()()()()()),2&o&&(t.R7$(23),t.Y8G("ngForOf",s.page.content)("ngForTrackBy",s.trackById),t.R7$(2),t.Y8G("page",s.page))},dependencies:[i.Sq,E.Q,S.i,N.l,B.q,U.R,Y.e],encapsulation:2,changeDetection:0})}}return n})()}];let X=(()=>{class n{static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({imports:[C.iI.forChild(x),C.iI]})}}return n})(),L=(()=>{class n{static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({providers:[l.Z],imports:[r.M.pick(c.Wzl),i.MD,m.G,u.h,d.X1,f.c9,p.i,X]})}}return n})()}}]);