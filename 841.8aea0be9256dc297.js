"use strict";(self.webpackChunkvelzon=self.webpackChunkvelzon||[]).push([[841],{115:(_,f,l)=>{l.d(f,{i:()=>m});var u=l(177),o=l(9417),g=l(9830),h=l(4438);let c=(()=>{class d{static{this.\u0275fac=function(C){return new(C||d)}}static{this.\u0275mod=h.$C({type:d})}static{this.\u0275inj=h.G2t({imports:[u.MD]})}}return d})(),p=(()=>{class d{static{this.\u0275fac=function(C){return new(C||d)}}static{this.\u0275mod=h.$C({type:d})}static{this.\u0275inj=h.G2t({imports:[u.MD]})}}return d})();var e=l(7276);let m=(()=>{class d{static{this.\u0275fac=function(C){return new(C||d)}}static{this.\u0275mod=h.$C({type:d})}static{this.\u0275inj=h.G2t({providers:[(0,g.Dw)(),e.t],imports:[u.MD,c,p,o.YN,o.X1,c,p]})}}return d})()},9459:(_,f,l)=>{l.d(f,{Q:()=>h});var u=l(4438),o=l(177);const g=["*"];let h=(()=>{class c{constructor(){this.type="button",this.btnType="primary",this.disabled=!1,this.outline=!1}get buttonClasses(){return["btn",`${this.isOutline?"btn-outline":"btn"}-${this.btnType}`]}get isOutline(){return""===this.outline||!0===this.outline||"true"===this.outline}static{this.\u0275fac=function(m){return new(m||c)}}static{this.\u0275cmp=u.VBU({type:c,selectors:[["app-button"]],inputs:{type:"type",btnType:"btnType",disabled:"disabled",outline:"outline"},ngContentSelectors:g,decls:2,vars:3,consts:[[3,"type","ngClass","disabled"]],template:function(m,d){1&m&&(u.NAR(),u.j41(0,"button",0),u.SdG(1),u.k0s()),2&m&&u.Y8G("type",d.type)("ngClass",d.buttonClasses)("disabled",d.disabled)},dependencies:[o.YU],encapsulation:2})}}return c})()},43:(_,f,l)=>{l.d(f,{q:()=>g});var u=l(4438);const o=["*"];let g=(()=>{class h{static{this.\u0275fac=function(e){return new(e||h)}}static{this.\u0275cmp=u.VBU({type:h,selectors:[["app-card-body"]],ngContentSelectors:o,decls:2,vars:0,consts:[[1,"card-body"]],template:function(e,m){1&e&&(u.NAR(),u.j41(0,"div",0),u.SdG(1),u.k0s())},encapsulation:2})}}return h})()},7186:(_,f,l)=>{l.d(f,{l:()=>g});var u=l(4438);const o=["*"];let g=(()=>{class h{static{this.\u0275fac=function(e){return new(e||h)}}static{this.\u0275cmp=u.VBU({type:h,selectors:[["app-card-header"]],ngContentSelectors:o,decls:2,vars:0,consts:[[1,"card-header","d-flex","align-items-center"]],template:function(e,m){1&e&&(u.NAR(),u.j41(0,"div",0),u.SdG(1),u.k0s())},encapsulation:2})}}return h})()},6356:(_,f,l)=>{l.d(f,{i:()=>h});var u=l(4438);const o=[[["app-card-header"]],[["app-card-body"]],[["app-card-footer"]]],g=["app-card-header","app-card-body","app-card-footer"];let h=(()=>{class c{static{this.\u0275fac=function(m){return new(m||c)}}static{this.\u0275cmp=u.VBU({type:c,selectors:[["app-card"]],ngContentSelectors:g,decls:4,vars:0,consts:[[1,"card"]],template:function(m,d){1&m&&(u.NAR(o),u.j41(0,"div",0),u.SdG(1),u.SdG(2,1),u.SdG(3,2),u.k0s())},encapsulation:2})}}return c})()},7276:(_,f,l)=>{l.d(f,{t:()=>g});class u{static isValid(c){if(!c||/^(\d)\1+$/.test(c)||11!==c.length)return!1;let p=0;for(let d=0;d<9;d++)p+=parseInt(c.charAt(d))*(10-d);let e=10*p%11;if(e>=10&&(e=0),e!==parseInt(c.charAt(9)))return!1;p=0;for(let d=0;d<10;d++)p+=parseInt(c.charAt(d))*(11-d);let m=10*p%11;return m>=10&&(m=0),m===parseInt(c.charAt(10))}static valid(){return c=>{const p=c.value?.replace(/\D/g,"");return p&&this.isValid(p)?null:{invalidCPF:!0}}}}class o{static isValid(c){if(!c||/^(\d)\1+$/.test(c)||14!==c.length)return!1;const p=e=>{const m=12===e?[5,4,3,2,9,8,7,6,5,4,3,2]:[6,5,4,3,2,9,8,7,6,5,4,3,2],R=c.substring(0,e).split("").map(Number).reduce((C,E,w)=>C+E*m[w],0)%11;return(R<2?0:11-R)===parseInt(c.charAt(e))};return p(12)&&p(13)}static valid(){return c=>{const p=c.value?.replace(/\D/g,"");return p&&this.isValid(p)?null:{invalidCNPJ:!0}}}}class g{static valid(){return c=>{const p=c.value?.replace(/\D/g,"");return!p||11===p.length&&u.isValid(p)||14===p.length&&o.isValid(p)?null:{invalidCpfOrCnpj:!0}}}}},5841:(_,f,l)=>{l.r(f),l.d(f,{CategoryModule:()=>Re});var u=l(177),o=l(9417),g=l(9005),h=l(8147),c=l(5464),p=l(6411),e=l(4438);let m=new e.nKC("currency.mask.config");class d{constructor(i){this.htmlInputElement=i}setCursorAt(i){if(this.htmlInputElement.setSelectionRange)this.htmlInputElement.focus(),this.htmlInputElement.setSelectionRange(i,i);else if(this.htmlInputElement.createTextRange){let t=this.htmlInputElement.createTextRange();t.collapse(!0),t.moveEnd("character",i),t.moveStart("character",i),t.select()}}updateValueAndCursor(i,t,a){this.rawValue=i,this.setCursorAt(a-=t-i.length)}get canInputMoreNumbers(){let i=!(this.rawValue.length>=this.htmlInputElement.maxLength&&this.htmlInputElement.maxLength>=0),t=this.inputSelection.selectionStart,a=this.inputSelection.selectionEnd,r=!(t==a||!this.htmlInputElement.value.substring(t,a).match(/\d/)),s="0"==this.htmlInputElement.value.substring(0,1);return i||r||s}get inputSelection(){let i=0,t=0;if("number"==typeof this.htmlInputElement.selectionStart&&"number"==typeof this.htmlInputElement.selectionEnd)i=this.htmlInputElement.selectionStart,t=this.htmlInputElement.selectionEnd;else{let a=document.getSelection().anchorNode;if(a&&a.firstChild==this.htmlInputElement){let r=this.htmlInputElement.value.length,s=this.htmlInputElement.value.replace(/\r\n/g,"\n"),v=this.htmlInputElement.createTextRange(),I=this.htmlInputElement.createTextRange();I.collapse(!1),v.compareEndPoints("StartToEnd",I)>-1?i=t=r:(i=-v.moveStart("character",-r),i+=s.slice(0,i).split("\n").length-1,v.compareEndPoints("EndToEnd",I)>-1?t=r:(t=-v.moveEnd("character",-r),t+=s.slice(0,t).split("\n").length-1))}}return{selectionStart:i,selectionEnd:t}}get rawValue(){return this.htmlInputElement&&this.htmlInputElement.value}set rawValue(i){this._storedRawValue=i,this.htmlInputElement&&(this.htmlInputElement.value=i)}get storedRawValue(){return this._storedRawValue}}class R{constructor(i,t){this.htmlInputElement=i,this.options=t,this.inputManager=new d(i)}addNumber(i){this.rawValue||(this.rawValue=this.applyMask(!1,"0"));let t=String.fromCharCode(i),a=this.inputSelection.selectionStart,r=this.inputSelection.selectionEnd;this.rawValue=this.rawValue.substring(0,a)+t+this.rawValue.substring(r,this.rawValue.length),this.updateFieldValue(a+1)}applyMask(i,t){let{allowNegative:a,decimal:r,precision:s,prefix:v,suffix:I,thousands:Me}=this.options,S=(t=i?new Number(t).toFixed(s):t).replace(/[^0-9]/g,"");if(!S)return"";let M=S.slice(0,S.length-s).replace(/^0*/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,Me);""==M&&(M="0");let D=M,y=S.slice(S.length-s);s>0&&(y="0".repeat(s-y.length)+y,D+=r+y);let we=0==parseInt(M)&&(0==parseInt(y)||""==y);return(t.indexOf("-")>-1&&a&&!we?"-":"")+v+D+I}clearMask(i){if(null==i||""==i)return null;let t=i.replace(this.options.prefix,"").replace(this.options.suffix,"");return this.options.thousands&&(t=t.replace(new RegExp("\\"+this.options.thousands,"g"),"")),this.options.decimal&&(t=t.replace(this.options.decimal,".")),parseFloat(t)}changeToNegative(){if(this.options.allowNegative&&""!=this.rawValue&&"-"!=this.rawValue.charAt(0)&&0!=this.value){let i=this.inputSelection.selectionStart;this.rawValue="-"+this.rawValue,this.updateFieldValue(i+1)}}changeToPositive(){let i=this.inputSelection.selectionStart;this.rawValue=this.rawValue.replace("-",""),this.updateFieldValue(i-1)}fixCursorPosition(i){let t=this.inputSelection.selectionStart;t>this.getRawValueWithoutSuffixEndPosition()||i?this.inputManager.setCursorAt(this.getRawValueWithoutSuffixEndPosition()):t<this.getRawValueWithoutPrefixStartPosition()&&this.inputManager.setCursorAt(this.getRawValueWithoutPrefixStartPosition())}getRawValueWithoutSuffixEndPosition(){return this.rawValue.length-this.options.suffix.length}getRawValueWithoutPrefixStartPosition(){return null!=this.value&&this.value<0?this.options.prefix.length+1:this.options.prefix.length}removeNumber(i){let{decimal:t,thousands:a}=this.options,r=this.inputSelection.selectionEnd,s=this.inputSelection.selectionStart;s>this.rawValue.length-this.options.suffix.length&&(r=this.rawValue.length-this.options.suffix.length,s=this.rawValue.length-this.options.suffix.length),r==s&&((46==i||63272==i)&&/^\d+$/.test(this.rawValue.substring(s,r+1))&&(r+=1),(46==i||63272==i)&&(this.rawValue.substring(s,r+1)==t||this.rawValue.substring(s,r+1)==a)&&(r+=2,s+=1),8==i&&/^\d+$/.test(this.rawValue.substring(s-1,r))&&(s-=1),8==i&&(this.rawValue.substring(s-1,r)==t||this.rawValue.substring(s-1,r)==a)&&(s-=2,r-=1)),this.rawValue=this.rawValue.substring(0,s)+this.rawValue.substring(r,this.rawValue.length),this.updateFieldValue(s)}updateFieldValue(i){let t=this.applyMask(!1,this.rawValue||"");this.inputManager.updateValueAndCursor(t,this.rawValue.length,i=i??this.rawValue.length)}updateOptions(i){let t=this.value;this.options=i,this.value=t}get canInputMoreNumbers(){return this.inputManager.canInputMoreNumbers}get inputSelection(){return this.inputManager.inputSelection}get rawValue(){return this.inputManager.rawValue}set rawValue(i){this.inputManager.rawValue=i}get storedRawValue(){return this.inputManager.storedRawValue}get value(){return this.clearMask(this.rawValue)}set value(i){this.rawValue=this.applyMask(!0,""+i)}}class b{constructor(i,t){this.inputService=new R(i,t),this.htmlInputElement=i}handleClick(i,t){0==Math.abs(this.inputService.inputSelection.selectionEnd-this.inputService.inputSelection.selectionStart)&&!isNaN(this.inputService.value)&&this.inputService.fixCursorPosition(t)}handleCut(i){this.isReadOnly()||setTimeout(()=>{this.inputService.updateFieldValue(),this.setValue(this.inputService.value),this.onModelChange(this.inputService.value)},0)}handleInput(i){if(this.isReadOnly())return;let t=this.getNewKeyCode(this.inputService.storedRawValue,this.inputService.rawValue),a=this.inputService.rawValue.length,r=this.inputService.inputSelection.selectionEnd,s=this.inputService.getRawValueWithoutSuffixEndPosition(),v=this.inputService.storedRawValue.length;if(this.inputService.rawValue=this.inputService.storedRawValue,r==s&&1==Math.abs(a-v)||0==v){if(a<v&&(0!=this.inputService.value?this.inputService.removeNumber(8):this.setValue(null)),a>v)switch(t){case 43:this.inputService.changeToPositive();break;case 45:this.inputService.changeToNegative();break;default:if(!this.inputService.canInputMoreNumbers||isNaN(this.inputService.value)&&null==String.fromCharCode(t).match(/\d/))return;this.inputService.addNumber(t)}this.setCursorPosition(i),this.onModelChange(this.inputService.value)}else this.setCursorPosition(i)}handleKeydown(i){if(this.isReadOnly())return;let t=i.which||i.charCode||i.keyCode;if(8==t||46==t||63272==t){i.preventDefault();let a=Math.abs(this.inputService.inputSelection.selectionEnd-this.inputService.inputSelection.selectionStart);(a==this.inputService.rawValue.length||0==this.inputService.value)&&(this.setValue(null),this.onModelChange(this.inputService.value)),0==a&&!isNaN(this.inputService.value)&&(this.inputService.removeNumber(t),this.onModelChange(this.inputService.value)),(8===t||46===t)&&0!=a&&!isNaN(this.inputService.value)&&(this.inputService.removeNumber(t),this.onModelChange(this.inputService.value))}}handleKeypress(i){if(this.isReadOnly())return;let t=i.which||i.charCode||i.keyCode;if(null!=t&&-1==[9,13].indexOf(t)&&!this.isArrowEndHomeKeyInFirefox(i)){switch(t){case 43:this.inputService.changeToPositive();break;case 45:this.inputService.changeToNegative();break;default:this.inputService.canInputMoreNumbers&&(!isNaN(this.inputService.value)||null!=String.fromCharCode(t).match(/\d/))&&this.inputService.addNumber(t)}i.preventDefault(),this.onModelChange(this.inputService.value)}}handleKeyup(i){this.inputService.fixCursorPosition()}handlePaste(i){this.isReadOnly()||setTimeout(()=>{this.inputService.updateFieldValue(),this.setValue(this.inputService.value),this.onModelChange(this.inputService.value)},1)}updateOptions(i){this.inputService.updateOptions(i)}getOnModelChange(){return this.onModelChange}setOnModelChange(i){this.onModelChange=i}getOnModelTouched(){return this.onModelTouched}setOnModelTouched(i){this.onModelTouched=i}setValue(i){this.inputService.value=i}getNewKeyCode(i,t){if(i.length>t.length)return null;for(let a=0;a<t.length;a++)if(i.length==a||i[a]!=t[a])return t.charCodeAt(a);return null}isArrowEndHomeKeyInFirefox(i){return-1!=[35,36,37,38,39,40].indexOf(i.keyCode)&&(null==i.charCode||0==i.charCode)}isReadOnly(){return this.htmlInputElement&&this.htmlInputElement.readOnly}setCursorPosition(i){let t=this.inputService.getRawValueWithoutSuffixEndPosition();const a=i.target;setTimeout(function(){a.setSelectionRange(t,t)},0)}}const C={provide:o.kq,useExisting:(0,e.Rfq)(()=>E),multi:!0};let E=(()=>{class n{constructor(t,a,r){this.currencyMaskConfig=t,this.elementRef=a,this.keyValueDiffers=r,this.options={},this.optionsTemplate={align:"right",allowNegative:!0,decimal:".",precision:2,prefix:"$ ",suffix:"",thousands:","},t&&(this.optionsTemplate=t),this.keyValueDiffer=r.find({}).create()}ngAfterViewInit(){this.elementRef.nativeElement.style.textAlign=this.options.align?this.options.align:this.optionsTemplate.align}ngDoCheck(){this.keyValueDiffer.diff(this.options)&&(this.elementRef.nativeElement.style.textAlign=this.options.align?this.options.align:this.optionsTemplate.align,this.inputHandler.updateOptions(Object.assign({},this.optionsTemplate,this.options)))}ngOnInit(){this.inputHandler=new b(this.elementRef.nativeElement,Object.assign({},this.optionsTemplate,this.options))}handleBlur(t){this.inputHandler.getOnModelTouched().apply(t)}handleClick(t){this.inputHandler.handleClick(t,this.isChromeAndroid())}handleCut(t){this.isChromeAndroid()||this.inputHandler.handleCut(t)}handleInput(t){this.isChromeAndroid()&&this.inputHandler.handleInput(t)}handleKeydown(t){this.isChromeAndroid()||this.inputHandler.handleKeydown(t)}handleKeypress(t){this.isChromeAndroid()||this.inputHandler.handleKeypress(t)}handleKeyup(t){this.isChromeAndroid()||this.inputHandler.handleKeyup(t)}handlePaste(t){this.isChromeAndroid()||this.inputHandler.handlePaste(t)}isChromeAndroid(){return/chrome/i.test(navigator.userAgent)&&/android/i.test(navigator.userAgent)}registerOnChange(t){this.inputHandler.setOnModelChange(t)}registerOnTouched(t){this.inputHandler.setOnModelTouched(t)}setDisabledState(t){this.elementRef.nativeElement.disabled=t}validate(t){let a={};return t.value>this.max&&(a.max=!0),t.value<this.min&&(a.min=!0),a!={}?a:null}writeValue(t){this.inputHandler.setValue(t)}}return n.\u0275fac=function(t){return new(t||n)(e.rXU(m,8),e.rXU(e.aKT),e.rXU(e.MKu))},n.\u0275dir=e.FsC({type:n,selectors:[["","currencyMask",""]],hostBindings:function(t,a){1&t&&e.bIt("blur",function(s){return a.handleBlur(s)})("click",function(s){return a.handleClick(s)})("cut",function(s){return a.handleCut(s)})("input",function(s){return a.handleInput(s)})("keydown",function(s){return a.handleKeydown(s)})("keypress",function(s){return a.handleKeypress(s)})("keyup",function(s){return a.handleKeyup(s)})("paste",function(s){return a.handlePaste(s)})},inputs:{max:"max",min:"min",options:"options"},features:[e.Jv_([C,{provide:o.cz,useExisting:n,multi:!0}])]}),n})(),w=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.$C({type:n}),n.\u0275inj=e.G2t({imports:[[u.MD,o.YN]]}),n})();var $=l(115),x=l(3887),j=l(1188),G=l(467),F=l(6271),T=l(9459);const k=(n,i)=>({"is-invalid":n,"is-valid":i});function Y(n,i){if(1&n&&(e.j41(0,"option",17),e.EFF(1),e.k0s()),2&n){const t=i.$implicit;e.Y8G("value",t.value),e.R7$(),e.JRh(t.name)}}function O(n,i){1&n&&(e.j41(0,"div",22),e.EFF(1,"V\xe1lido"),e.k0s())}function A(n,i){1&n&&(e.qex(0),e.EFF(1," Grupo \xe9 obrigat\xf3rio "),e.bVm())}function P(n,i){if(1&n&&(e.j41(0,"div",23),e.DNE(1,A,2,0,"ng-container",24),e.k0s()),2&n){let t;const a=e.XpG();e.R7$(),e.Y8G("ngIf",null==(t=a.getControl("group"))||null==t.errors?null:t.errors.required)}}function H(n,i){1&n&&(e.j41(0,"div",22),e.EFF(1,"V\xe1lido"),e.k0s())}function B(n,i){1&n&&(e.qex(0),e.EFF(1," Nome \xe9 obrigat\xf3rio "),e.bVm())}function U(n,i){if(1&n&&(e.j41(0,"div",23),e.DNE(1,B,2,0,"ng-container",24),e.k0s()),2&n){let t;const a=e.XpG();e.R7$(),e.Y8G("ngIf",null==(t=a.getControl("name"))||null==t.errors?null:t.errors.required)}}function X(n,i){1&n&&(e.j41(0,"div",22),e.EFF(1,"V\xe1lido"),e.k0s())}function K(n,i){1&n&&(e.qex(0),e.EFF(1," Valor \xe9 obrigat\xf3rio "),e.bVm())}function L(n,i){if(1&n&&(e.j41(0,"div",23),e.DNE(1,K,2,0,"ng-container",24),e.k0s()),2&n){let t;const a=e.XpG();e.R7$(),e.Y8G("ngIf",null==(t=a.getControl("water_value"))||null==t.errors?null:t.errors.required)}}function W(n,i){1&n&&(e.j41(0,"div",22),e.EFF(1,"V\xe1lido"),e.k0s())}function J(n,i){1&n&&(e.qex(0),e.EFF(1," Valor \xe9 obrigat\xf3rio "),e.bVm())}function q(n,i){if(1&n&&(e.j41(0,"div",23),e.DNE(1,J,2,0,"ng-container",24),e.k0s()),2&n){let t;const a=e.XpG();e.R7$(),e.Y8G("ngIf",null==(t=a.getControl("partner_value"))||null==t.errors?null:t.errors.required)}}function z(n,i){1&n&&(e.j41(0,"div",22),e.EFF(1,"V\xe1lido"),e.k0s())}function Q(n,i){1&n&&(e.qex(0),e.EFF(1," Obrigat\xf3rio "),e.bVm())}function Z(n,i){if(1&n&&(e.j41(0,"div",23),e.DNE(1,Q,2,0,"ng-container",24),e.k0s()),2&n){let t;const a=e.XpG();e.R7$(),e.Y8G("ngIf",null==(t=a.getControl("is_hydrometer"))||null==t.errors?null:t.errors.required)}}let ee=(()=>{class n{constructor(t,a,r){this.fb=t,this.service=a,this.activeModal=r,this.sent=new e.bkB,this.submitted=!1,this.addresses=[],this.groups=[],this.service.getGroups().subscribe(s=>{this.groups=s}),this.form=this.fb.group({name:["",[o.k0.required,o.k0.minLength(3),o.k0.maxLength(50)]],water_value:["",[o.k0.required,o.k0.min(0)]],partner_value:["",[o.k0.required,o.k0.min(0)]],group:["",[o.k0.required]],is_hydrometer:[!1,[]]})}ngOnInit(){}onSubmit(){var t=this;return(0,G.A)(function*(){t.submitted=!0,t.form.markAllAsTouched(),t.form.valid&&t.service.create(t.form.value).subscribe({next:()=>{t.sent.emit(),t.close()},error:()=>t.form.reset()})})()}close(){this.activeModal.close()}isValid(t){return this.getControl(t)?.valid&&this.submitted||!1}isInvalid(t){return this.getControl(t)?.invalid&&this.submitted||!1}getControl(t){return this.form.get(t)}static{this.\u0275fac=function(a){return new(a||n)(e.rXU(o.ok),e.rXU(F.M),e.rXU(g.Lw))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-category-create"]],outputs:{sent:"sent"},decls:61,vars:35,consts:[[3,"ngSubmit","formGroup"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","outline","","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mb-3"],[1,"form-label"],[1,"text-danger"],["id","group","formControlName","group",1,"form-select",3,"ngClass"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["class","valid-feedback",4,"ngIf"],["class","invalid-feedback",4,"ngIf"],["type","text","id","name","formControlName","name","placeholder","Name:",1,"form-control",3,"ngClass"],["type","text","currencyMask","","id","waterValue","formControlName","water_value","placeholder","valor:",1,"form-control",3,"ngClass"],["type","text","currencyMask","","id","partner_value","formControlName","partner_value","placeholder","valor:",1,"form-control",3,"ngClass"],["id","is_hydrometer","formControlName","is_hydrometer",1,"form-select",3,"ngClass"],[3,"value"],[1,"modal-footer"],[1,"d-flex","justify-content-between","col-12"],["type","button","btnType","secondary","outline","",3,"click"],["type","submit","btnType","success","outline",""],[1,"valid-feedback"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(a,r){1&a&&(e.j41(0,"form",0),e.bIt("ngSubmit",function(){return r.onSubmit()}),e.j41(1,"div",1)(2,"h5",2),e.EFF(3,"Criar Categoria"),e.k0s(),e.j41(4,"button",3),e.bIt("click",function(){return r.close()}),e.k0s()(),e.j41(5,"div",4)(6,"div",5)(7,"label",6),e.EFF(8,"Grupo: "),e.j41(9,"span",7),e.EFF(10,"*"),e.k0s()(),e.j41(11,"select",8)(12,"option",9),e.EFF(13,"Selecione um Grupo"),e.k0s(),e.DNE(14,Y,2,2,"option",10),e.k0s(),e.DNE(15,O,2,0,"div",11)(16,P,2,1,"div",12),e.k0s(),e.j41(17,"div",5)(18,"label",6),e.EFF(19,"Nome: "),e.j41(20,"span",7),e.EFF(21,"*"),e.k0s()(),e.nrm(22,"input",13),e.DNE(23,H,2,0,"div",11)(24,U,2,1,"div",12),e.k0s(),e.j41(25,"div",5)(26,"label",6),e.EFF(27,"Valor da \xe0gua: "),e.j41(28,"span",7),e.EFF(29,"*"),e.k0s()(),e.nrm(30,"input",14),e.DNE(31,X,2,0,"div",11)(32,L,2,1,"div",12),e.k0s(),e.j41(33,"div",5)(34,"label",6),e.EFF(35,"Valor da Associa\xe7\xe3o: "),e.j41(36,"span",7),e.EFF(37,"*"),e.k0s()(),e.nrm(38,"input",15),e.DNE(39,W,2,0,"div",11)(40,q,2,1,"div",12),e.k0s(),e.j41(41,"div",5)(42,"label",6),e.EFF(43,"Possui Hidr\xf4metro?: "),e.j41(44,"span",7),e.EFF(45,"*"),e.k0s()(),e.j41(46,"select",16)(47,"option",17),e.EFF(48,"Selecione"),e.k0s(),e.j41(49,"option",17),e.EFF(50,"Sim"),e.k0s(),e.j41(51,"option",17),e.EFF(52,"N\xe3o"),e.k0s()(),e.DNE(53,z,2,0,"div",11)(54,Z,2,1,"div",12),e.k0s()(),e.j41(55,"div",18)(56,"div",19)(57,"app-button",20),e.bIt("click",function(){return r.close()}),e.EFF(58," Cancelar "),e.k0s(),e.j41(59,"app-button",21),e.EFF(60," Salvar "),e.k0s()()()()),2&a&&(e.Y8G("formGroup",r.form),e.R7$(11),e.Y8G("ngClass",e.l_i(20,k,r.isInvalid("group"),r.isValid("group"))),e.R7$(3),e.Y8G("ngForOf",r.groups),e.R7$(),e.Y8G("ngIf",r.isValid("group")),e.R7$(),e.Y8G("ngIf",r.isInvalid("group")),e.R7$(6),e.Y8G("ngClass",e.l_i(23,k,r.isInvalid("name"),r.isValid("name"))),e.R7$(),e.Y8G("ngIf",r.isValid("name")),e.R7$(),e.Y8G("ngIf",r.isInvalid("name")),e.R7$(6),e.Y8G("ngClass",e.l_i(26,k,r.isInvalid("water_value"),r.isValid("water_value"))),e.R7$(),e.Y8G("ngIf",r.isValid("water_value")),e.R7$(),e.Y8G("ngIf",r.isInvalid("water_value")),e.R7$(6),e.Y8G("ngClass",e.l_i(29,k,r.isInvalid("partner_value"),r.isValid("partner_value"))),e.R7$(),e.Y8G("ngIf",r.isValid("partner_value")),e.R7$(),e.Y8G("ngIf",r.isInvalid("partner_value")),e.R7$(6),e.Y8G("ngClass",e.l_i(32,k,r.isInvalid("is_hydrometer"),r.isValid("is_hydrometer"))),e.R7$(),e.Y8G("value","null"),e.R7$(2),e.Y8G("value",!0),e.R7$(2),e.Y8G("value",!1),e.R7$(2),e.Y8G("ngIf",r.isValid("is_hydrometer")),e.R7$(),e.Y8G("ngIf",r.isInvalid("is_hydrometer")))},dependencies:[E,u.YU,u.Sq,u.bT,o.qT,o.xH,o.y7,o.me,o.wz,o.BC,o.cb,o.j4,o.JD,T.Q],encapsulation:2})}}return n})();var N=l(922);let te=(()=>{class n{constructor(t,a){this.categoryService=t,this.activeModal=a,this.sent=new e.bkB}close(){this.activeModal.dismiss("cancel")}confirm(){this.categoryService.delete(this.category.id).subscribe({next:()=>{this.close(),this.sent.emit()}})}static{this.\u0275fac=function(a){return new(a||n)(e.rXU(F.M),e.rXU(g.Lw))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-category-delete"]],inputs:{category:"category"},outputs:{sent:"sent"},decls:21,vars:3,consts:[[1,"modal-content"],[1,"modal-header"],["type","button","data-bs-dismiss","modal","aria-label","Close","id","btn-close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mt-2","text-center"],[1,"text-danger","d-inline-block","remove-item-btn"],[1,"ri-delete-bin-5-fill","fs-48"],[1,"mt-4","pt-2","fs-15","mx-4","mx-sm-5"],[1,"text-muted","mx-4","mb-0"],[1,"d-flex","gap-2","justify-content-center","mt-4","mb-2"],["data-bs-dismiss","modal","id","deleteRecord-close",1,"btn","btn-link","link-success","fw-medium","text-decoration-none",3,"click"],[1,"ri-close-line","me-1","align-middle"],["type","button","id","delete-product",1,"btn","w-sm","btn-danger",3,"click"]],template:function(a,r){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"button",2),e.bIt("click",function(){return r.close()}),e.k0s()(),e.j41(3,"div",3)(4,"div",4)(5,"a",5),e.nrm(6,"i",6),e.k0s(),e.j41(7,"div",7)(8,"h4"),e.EFF(9,"Voc\xea est\xe1 certo que quer deletar isso ?"),e.k0s(),e.j41(10,"p",8),e.EFF(11,"Essa a\xe7\xe3o n\xe3o pode ser desfeita."),e.k0s(),e.j41(12,"p",8),e.EFF(13),e.nI1(14,"group"),e.k0s()()(),e.j41(15,"div",9)(16,"button",10),e.bIt("click",function(){return r.close()}),e.nrm(17,"i",11),e.EFF(18," Cancelar "),e.k0s(),e.j41(19,"button",12),e.bIt("click",function(){return r.confirm()}),e.EFF(20," Sim, Eu quero deletar! "),e.k0s()()()()),2&a&&(e.R7$(13),e.JRh(e.bMT(14,1,r.category.group)+" "+r.category.name))},dependencies:[N.c],encapsulation:2})}}return n})();const V=(n,i)=>({"is-invalid":n,"is-valid":i});function ie(n,i){if(1&n&&(e.j41(0,"option",17),e.EFF(1),e.k0s()),2&n){const t=i.$implicit;e.Y8G("value",t.value),e.R7$(),e.JRh(t.name)}}function ne(n,i){1&n&&(e.j41(0,"div",22),e.EFF(1,"V\xe1lido"),e.k0s())}function re(n,i){1&n&&(e.qex(0),e.EFF(1," Grupo \xe9 obrigat\xf3rio "),e.bVm())}function ae(n,i){if(1&n&&(e.j41(0,"div",23),e.DNE(1,re,2,0,"ng-container",24),e.k0s()),2&n){let t;const a=e.XpG();e.R7$(),e.Y8G("ngIf",null==(t=a.getControl("group"))||null==t.errors?null:t.errors.required)}}function se(n,i){1&n&&(e.j41(0,"div",22),e.EFF(1,"V\xe1lido"),e.k0s())}function oe(n,i){1&n&&(e.qex(0),e.EFF(1," Nome \xe9 obrigat\xf3rio "),e.bVm())}function le(n,i){if(1&n&&(e.j41(0,"div",23),e.DNE(1,oe,2,0,"ng-container",24),e.k0s()),2&n){let t;const a=e.XpG();e.R7$(),e.Y8G("ngIf",null==(t=a.getControl("name"))||null==t.errors?null:t.errors.required)}}function ue(n,i){1&n&&(e.j41(0,"div",22),e.EFF(1,"V\xe1lido"),e.k0s())}function ce(n,i){1&n&&(e.qex(0),e.EFF(1," Valor \xe9 obrigat\xf3rio "),e.bVm())}function de(n,i){if(1&n&&(e.j41(0,"div",23),e.DNE(1,ce,2,0,"ng-container",24),e.k0s()),2&n){let t;const a=e.XpG();e.R7$(),e.Y8G("ngIf",null==(t=a.getControl("water_value"))||null==t.errors?null:t.errors.required)}}function pe(n,i){1&n&&(e.j41(0,"div",22),e.EFF(1,"V\xe1lido"),e.k0s())}function he(n,i){1&n&&(e.qex(0),e.EFF(1," Valor \xe9 obrigat\xf3rio "),e.bVm())}function me(n,i){if(1&n&&(e.j41(0,"div",23),e.DNE(1,he,2,0,"ng-container",24),e.k0s()),2&n){let t;const a=e.XpG();e.R7$(),e.Y8G("ngIf",null==(t=a.getControl("partner_value"))||null==t.errors?null:t.errors.required)}}function ge(n,i){1&n&&(e.j41(0,"div",22),e.EFF(1,"V\xe1lido"),e.k0s())}function fe(n,i){1&n&&(e.qex(0),e.EFF(1," Obrigat\xf3rio "),e.bVm())}function ve(n,i){if(1&n&&(e.j41(0,"div",23),e.DNE(1,fe,2,0,"ng-container",24),e.k0s()),2&n){let t;const a=e.XpG();e.R7$(),e.Y8G("ngIf",null==(t=a.getControl("is_hydrometer"))||null==t.errors?null:t.errors.required)}}let Ce=(()=>{class n{constructor(t,a,r){this.fb=t,this.service=a,this.activeModal=r,this.sent=new e.bkB,this.submitted=!1,this.addresses=[],this.groups=[]}ngOnInit(){this.service.getGroups().subscribe(t=>{this.groups=t}),this.form=this.fb.group({id:[this.category.id,[o.k0.required]],name:[this.category.name,[o.k0.required,o.k0.minLength(3),o.k0.maxLength(50)]],water_value:[this.category.water_value,[o.k0.required,o.k0.min(0)]],partner_value:[this.category.partner_value,[o.k0.required,o.k0.min(0)]],group:[this.category.group,[o.k0.required]],is_hydrometer:[this.category.is_hydrometer,[]]})}onSubmit(){var t=this;return(0,G.A)(function*(){t.submitted=!0,t.form.markAllAsTouched(),t.form.valid&&t.service.update(t.form.value).subscribe({next:()=>{t.sent.emit(),t.close()},error:()=>t.form.reset()})})()}close(){this.activeModal.close()}isValid(t){return this.getControl(t)?.valid&&this.submitted||!1}isInvalid(t){return this.getControl(t)?.invalid&&this.submitted||!1}getControl(t){return this.form.get(t)}static{this.\u0275fac=function(a){return new(a||n)(e.rXU(o.ok),e.rXU(F.M),e.rXU(g.Lw))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-category-edit"]],inputs:{category:"category"},outputs:{sent:"sent"},decls:61,vars:35,consts:[[3,"ngSubmit","formGroup"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","outline","","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mb-3"],[1,"form-label"],[1,"text-danger"],["id","group","formControlName","group",1,"form-select",3,"ngClass"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["class","valid-feedback",4,"ngIf"],["class","invalid-feedback",4,"ngIf"],["type","text","id","name","formControlName","name","placeholder","Name:",1,"form-control",3,"ngClass"],["type","text","id","waterValue","currencyMask","","formControlName","water_value","placeholder","valor:",1,"form-control",3,"ngClass"],["type","text","currencyMask","","id","partner_value","formControlName","partner_value","placeholder","valor:",1,"form-control",3,"ngClass"],["id","is_hydrometer","formControlName","is_hydrometer",1,"form-select",3,"ngClass"],[3,"value"],[1,"modal-footer"],[1,"d-flex","justify-content-between","col-12"],["type","button","btnType","secondary","outline","",3,"click"],["type","submit","btnType","success","outline",""],[1,"valid-feedback"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(a,r){1&a&&(e.j41(0,"form",0),e.bIt("ngSubmit",function(){return r.onSubmit()}),e.j41(1,"div",1)(2,"h5",2),e.EFF(3,"Editar Categoria"),e.k0s(),e.j41(4,"button",3),e.bIt("click",function(){return r.close()}),e.k0s()(),e.j41(5,"div",4)(6,"div",5)(7,"label",6),e.EFF(8,"Grupo: "),e.j41(9,"span",7),e.EFF(10,"*"),e.k0s()(),e.j41(11,"select",8)(12,"option",9),e.EFF(13,"Selecione um Grupo"),e.k0s(),e.DNE(14,ie,2,2,"option",10),e.k0s(),e.DNE(15,ne,2,0,"div",11)(16,ae,2,1,"div",12),e.k0s(),e.j41(17,"div",5)(18,"label",6),e.EFF(19,"Nome: "),e.j41(20,"span",7),e.EFF(21,"*"),e.k0s()(),e.nrm(22,"input",13),e.DNE(23,se,2,0,"div",11)(24,le,2,1,"div",12),e.k0s(),e.j41(25,"div",5)(26,"label",6),e.EFF(27,"Valor da \xe0gua: "),e.j41(28,"span",7),e.EFF(29,"*"),e.k0s()(),e.nrm(30,"input",14),e.DNE(31,ue,2,0,"div",11)(32,de,2,1,"div",12),e.k0s(),e.j41(33,"div",5)(34,"label",6),e.EFF(35,"Valor da Associa\xe7\xe3o: "),e.j41(36,"span",7),e.EFF(37,"*"),e.k0s()(),e.nrm(38,"input",15),e.DNE(39,pe,2,0,"div",11)(40,me,2,1,"div",12),e.k0s(),e.j41(41,"div",5)(42,"label",6),e.EFF(43,"Possui Hidr\xf4metro?: "),e.j41(44,"span",7),e.EFF(45,"*"),e.k0s()(),e.j41(46,"select",16)(47,"option",17),e.EFF(48,"Selecione"),e.k0s(),e.j41(49,"option",17),e.EFF(50,"Sim"),e.k0s(),e.j41(51,"option",17),e.EFF(52,"N\xe3o"),e.k0s()(),e.DNE(53,ge,2,0,"div",11)(54,ve,2,1,"div",12),e.k0s()(),e.j41(55,"div",18)(56,"div",19)(57,"app-button",20),e.bIt("click",function(){return r.close()}),e.EFF(58," Cancelar "),e.k0s(),e.j41(59,"app-button",21),e.EFF(60," Salvar "),e.k0s()()()()),2&a&&(e.Y8G("formGroup",r.form),e.R7$(11),e.Y8G("ngClass",e.l_i(20,V,r.isInvalid("group"),r.isValid("group"))),e.R7$(3),e.Y8G("ngForOf",r.groups),e.R7$(),e.Y8G("ngIf",r.isValid("group")),e.R7$(),e.Y8G("ngIf",r.isInvalid("group")),e.R7$(6),e.Y8G("ngClass",e.l_i(23,V,r.isInvalid("name"),r.isValid("name"))),e.R7$(),e.Y8G("ngIf",r.isValid("name")),e.R7$(),e.Y8G("ngIf",r.isInvalid("name")),e.R7$(6),e.Y8G("ngClass",e.l_i(26,V,r.isInvalid("water_value"),r.isValid("water_value"))),e.R7$(),e.Y8G("ngIf",r.isValid("water_value")),e.R7$(),e.Y8G("ngIf",r.isInvalid("water_value")),e.R7$(6),e.Y8G("ngClass",e.l_i(29,V,r.isInvalid("partner_value"),r.isValid("partner_value"))),e.R7$(),e.Y8G("ngIf",r.isValid("partner_value")),e.R7$(),e.Y8G("ngIf",r.isInvalid("partner_value")),e.R7$(6),e.Y8G("ngClass",e.l_i(32,V,r.isInvalid("is_hydrometer"),r.isValid("is_hydrometer"))),e.R7$(),e.Y8G("value","null"),e.R7$(2),e.Y8G("value",!0),e.R7$(2),e.Y8G("value",!1),e.R7$(2),e.Y8G("ngIf",r.isValid("is_hydrometer")),e.R7$(),e.Y8G("ngIf",r.isInvalid("is_hydrometer")))},dependencies:[E,u.YU,u.Sq,u.bT,o.qT,o.xH,o.y7,o.me,o.wz,o.BC,o.cb,o.j4,o.JD,T.Q],encapsulation:2})}}return n})();var _e=l(6364),ye=l(6356),be=l(7186),Ee=l(43),Fe=l(9986);let ke=(()=>{class n{transform(t){return"true"===t||!0===t?"Sim":"N\xe3o"}static{this.\u0275fac=function(a){return new(a||n)}}static{this.\u0275pipe=e.EJ8({name:"yesOrNo",type:n,pure:!0})}}return n})();function Ve(n,i){if(1&n){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.nI1(3,"group"),e.k0s(),e.j41(4,"td"),e.EFF(5),e.nI1(6,"group"),e.k0s(),e.j41(7,"td"),e.EFF(8),e.nI1(9,"currency"),e.k0s(),e.j41(10,"td"),e.EFF(11),e.nI1(12,"currency"),e.k0s(),e.j41(13,"td"),e.EFF(14),e.nI1(15,"currency"),e.k0s(),e.j41(16,"td"),e.EFF(17),e.nI1(18,"yesOrNo"),e.k0s(),e.j41(19,"td",13)(20,"ul",14)(21,"li",15),e.bIt("click",function(){const r=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.edit(r))}),e.nrm(22,"i",16),e.k0s(),e.j41(23,"li",17),e.bIt("click",function(){const r=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.delete(r))}),e.j41(24,"a",18),e.nrm(25,"i",19),e.k0s()()()()()}if(2&n){const t=i.$implicit;e.R7$(2),e.JRh(e.bMT(3,6,t.group)+" "+t.name),e.R7$(3),e.JRh(e.bMT(6,8,t.group)),e.R7$(3),e.JRh(e.bMT(9,10,t.water_value)),e.R7$(3),e.JRh(e.bMT(12,12,t.partner_value)),e.R7$(3),e.JRh(e.bMT(15,14,t.total)),e.R7$(3),e.JRh(e.bMT(18,16,t.is_hydrometer))}}const Ie=[{path:"",component:(()=>{class n{ngOnInit(){this.breadCrumbItems=[{label:"Dashboards"},{label:"Categorias",active:!0}],this.search()}constructor(t,a){this.service=t,this.modalService=a,this.categories=[],this.loading=!0}search(){this.loading=!0,this.service.get().subscribe({next:t=>{this.categories=t,this.loading=!1},error:()=>{this.loading=!1}})}create(){this.openModal(ee)}delete(t){this.openModal(te,{category:t})}edit(t){this.openModal(Ce,{category:t})}openModal(t,a){const r=this.modalService.open(t,{centered:!0}).componentInstance;a&&Object.assign(r,a),r.sent.subscribe(()=>this.search())}static{this.\u0275fac=function(a){return new(a||n)(e.rXU(F.M),e.rXU(g.Bq))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-category"]],decls:30,vars:2,consts:[["title","Categorias",3,"breadcrumbItems"],[1,"row"],[1,"col-lg-12"],[1,"card-title","flex-grow-1","mb-0"],[1,"d-flex","gap-1","flex-wrap"],["btnType","success","outline","",3,"click"],["table-header",""],[2,"width","55%"],[2,"width","10%"],[2,"width","5%"],[1,"text-center",2,"width","5%"],["table-body",""],[4,"ngFor","ngForOf"],[1,"text-center"],[1,"list-inline","hstack","gap-2","mb-0"],["data-bs-toggle","tooltip","data-bs-trigger","hover","ngbTooltip","Edit","placement","top",1,"list-inline-item","edit",3,"click"],[1,"ri-pencil-fill","fs-16"],["ngbTooltip","Remove","placement","top","data-bs-toggle","tooltip","data-bs-trigger","hover",1,"list-inline-item","me-0",3,"click"],[1,"text-danger","d-inline-block","remove-item-btn"],[1,"ri-delete-bin-5-fill","fs-16"]],template:function(a,r){1&a&&(e.nrm(0,"app-breadcrumbs",0),e.j41(1,"div",1)(2,"div",2)(3,"app-card")(4,"app-card-header")(5,"h5",3),e.EFF(6,"Categorias"),e.k0s(),e.j41(7,"div",4)(8,"app-button",5),e.bIt("click",function(){return r.create()}),e.EFF(9," Adicionar "),e.k0s()()(),e.j41(10,"app-card-body")(11,"app-table")(12,"thead",6)(13,"tr")(14,"th",7),e.EFF(15,"Grupo:"),e.k0s(),e.j41(16,"th",8),e.EFF(17,"Categoria:"),e.k0s(),e.j41(18,"th",9),e.EFF(19,"\xc1gua"),e.k0s(),e.j41(20,"th",9),e.EFF(21,"Associa\xe7\xe3o"),e.k0s(),e.j41(22,"th",9),e.EFF(23,"Total"),e.k0s(),e.j41(24,"th",9),e.EFF(25,"Hidr\xf4metro"),e.k0s(),e.j41(26,"th",10),e.EFF(27,"Ac\xf5es"),e.k0s()()(),e.j41(28,"tbody",11),e.DNE(29,Ve,26,18,"tr",12),e.k0s()()()()()()),2&a&&(e.Y8G("breadcrumbItems",r.breadCrumbItems),e.R7$(29),e.Y8G("ngForOf",r.categories))},dependencies:[u.Sq,_e.m,T.Q,ye.i,be.l,Ee.q,Fe.O,u.oe,N.c,ke],encapsulation:2})}}return n})()}];let Se=(()=>{class n{static{this.\u0275fac=function(a){return new(a||n)}}static{this.\u0275mod=e.$C({type:n})}static{this.\u0275inj=e.G2t({imports:[j.iI.forChild(Ie),j.iI]})}}return n})(),Re=(()=>{class n{static{this.\u0275fac=function(a){return new(a||n)}}static{this.\u0275mod=e.$C({type:n})}static{this.\u0275inj=e.G2t({providers:[F.M],imports:[w,Se,c.M.pick(p.Wzl),g.c9,u.MD,x.G,h.h,o.X1,$.i]})}}return n})()}}]);