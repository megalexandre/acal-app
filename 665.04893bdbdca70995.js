"use strict";(self.webpackChunkvelzon=self.webpackChunkvelzon||[]).push([[665],{7665:(P,b,i)=>{i.r(b),i.d(b,{AddressModule:()=>O});var d=i(177),o=i(9417),c=i(7810),u=i(8147),v=i(5464),E=i(6411),F=i(1728),C=i(3887),h=i(803),g=i(467),e=i(4438),m=i(6181),p=i(5794),f=i(9459);const A=(n,l)=>({"is-invalid":n,"is-valid":l});function I(n,l){1&n&&(e.j41(0,"div",15),e.EFF(1,"V\xe1lido"),e.k0s())}function k(n,l){1&n&&(e.qex(0),e.EFF(1," Nome \xe9 obrigat\xf3rio "),e.bVm())}function S(n,l){if(1&n&&(e.qex(0),e.EFF(1),e.nrm(2,"br"),e.EFF(3),e.bVm()),2&n){const t=l.ngIf;e.R7$(),e.SpI(" Nome precisa ter pelo menos ",t.requiredLength," letras. "),e.R7$(2),e.SpI(" Faltam: ",t.requiredLength-t.actualLength," letras. ")}}function T(n,l){if(1&n&&(e.j41(0,"div",16),e.DNE(1,k,2,0,"ng-container",17)(2,S,4,2,"ng-container",17),e.k0s()),2&n){let t,s;const r=e.XpG();e.R7$(),e.Y8G("ngIf",null==(t=r.getControl("name"))||null==t.errors?null:t.errors.required),e.R7$(),e.Y8G("ngIf",null==(s=r.getControl("name"))||null==s.errors?null:s.errors.minlength)}}let _=(()=>{class n{constructor(t,s,r,a){this.fb=t,this.addressService=s,this.activeModal=r,this.t=a,this.sent=new e.bkB,this.submitted=!1,this.form=this.fb.group({name:["",[o.k0.required,o.k0.minLength(3)]]})}onSubmit(){var t=this;return(0,g.A)(function*(){t.submitted=!0,t.form.markAllAsTouched(),t.form.valid&&t.addressService.create(t.form.value).subscribe({next:()=>{t.t.success("Item adicionado"),t.sent.emit(),t.close()},error:s=>{t.t.error(s.message||"Erro ao criar endere\xe7o"),t.form.reset()}})})()}getNameErrors(){const t=this.getControl("name");if(!t||!t.errors)return[];const s=[];if(t.errors.required&&s.push("Nome \xe9 obrigat\xf3rio."),t.errors.minlength){const r=t.errors.minlength;s.push(`Nome precisa de pelo menos ${r.requiredLength} letras. Faltam: ${r.requiredLength-r.actualLength}`)}return s}close(){this.activeModal.close()}isValid(t){return this.getControl(t)?.valid&&this.submitted||!1}isInvalid(t){return this.getControl(t)?.invalid&&this.submitted||!1}getControl(t){return this.form.get(t)}static{this.\u0275fac=function(s){return new(s||n)(e.rXU(o.ok),e.rXU(m.E),e.rXU(c.Lw),e.rXU(p.tw))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-address-create"]],outputs:{sent:"sent"},decls:24,vars:19,consts:[[3,"ngSubmit","formGroup"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","outline","","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mb-3"],[1,"form-label"],[1,"text-danger"],["type","text","id","addressName","formControlName","name",1,"form-control",3,"ngClass","placeholder"],["class","valid-feedback",4,"ngIf"],["class","invalid-feedback",4,"ngIf"],[1,"modal-footer"],[1,"d-flex","justify-content-between","col-12"],["type","button","btnType","secondary","outline","",3,"click"],["type","submit","btnType","success","outline",""],[1,"valid-feedback"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(s,r){1&s&&(e.j41(0,"form",0),e.bIt("ngSubmit",function(){return r.onSubmit()}),e.j41(1,"div",1)(2,"h5",2),e.EFF(3,"Criar Endere\xe7o"),e.k0s(),e.j41(4,"button",3),e.bIt("click",function(){return r.close()}),e.k0s()(),e.j41(5,"div",4)(6,"div",5)(7,"label",6),e.EFF(8),e.nI1(9,"translate"),e.j41(10,"span",7),e.EFF(11,"*"),e.k0s()(),e.nrm(12,"input",8),e.nI1(13,"translate"),e.DNE(14,I,2,0,"div",9)(15,T,3,2,"div",10),e.k0s()(),e.j41(16,"div",11)(17,"div",12)(18,"app-button",13),e.bIt("click",function(){return r.close()}),e.EFF(19),e.nI1(20,"translate"),e.k0s(),e.j41(21,"app-button",14),e.EFF(22),e.nI1(23,"translate"),e.k0s()()()()),2&s&&(e.Y8G("formGroup",r.form),e.R7$(8),e.SpI("",e.bMT(9,8,"PAGES.ADDRESS.NAME"),": "),e.R7$(4),e.FS9("placeholder",e.bMT(13,10,"PAGES.ADDRESS.NAME")),e.Y8G("ngClass",e.l_i(16,A,r.isInvalid("name"),r.isValid("name"))),e.R7$(2),e.Y8G("ngIf",r.isValid("name")),e.R7$(),e.Y8G("ngIf",r.isInvalid("name")),e.R7$(4),e.SpI(" ",e.bMT(20,12,"PAGES.ACTIONS.CANCEL")," "),e.R7$(3),e.SpI(" ",e.bMT(23,14,"PAGES.ACTIONS.SAVE")," "))},dependencies:[d.YU,d.bT,o.qT,o.me,o.BC,o.cb,o.j4,o.JD,f.Q,u.D9],encapsulation:2})}}return n})(),y=(()=>{class n{constructor(t,s,r){this.addressService=t,this.activeModal=s,this.t=r,this.sent=new e.bkB}close(){this.activeModal.dismiss("cancel")}confirm(){this.addressService.delete(this.address.id).subscribe({next:()=>{this.t.success("Deletado com sucesso!"),this.close(),this.sent.emit()}})}static{this.\u0275fac=function(s){return new(s||n)(e.rXU(m.E),e.rXU(c.Lw),e.rXU(p.tw))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-address-delete"]],inputs:{address:"address"},outputs:{sent:"sent"},decls:17,vars:7,consts:[[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","outline","","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mb-3"],[1,"form-label"],[1,"modal-footer"],[1,"d-flex","justify-content-between","col-12"],["type","button","btnType","secondary","outline","",3,"click"],["type","submit","btnType","danger","outline","",3,"click"]],template:function(s,r){1&s&&(e.j41(0,"div",0)(1,"h5",1),e.EFF(2,"Deletar Endere\xe7o"),e.k0s(),e.j41(3,"button",2),e.bIt("click",function(){return r.close()}),e.k0s()(),e.j41(4,"div",3)(5,"div",4)(6,"label",5),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.EFF(9),e.k0s()(),e.j41(10,"div",6)(11,"div",7)(12,"app-button",8),e.bIt("click",function(){return r.close()}),e.EFF(13),e.nI1(14,"translate"),e.k0s(),e.j41(15,"app-button",9),e.bIt("click",function(){return r.confirm()}),e.EFF(16," Deletar "),e.k0s()()()),2&s&&(e.R7$(7),e.SpI("",e.bMT(8,3,"PAGES.ADDRESS.NAME"),": "),e.R7$(2),e.SpI(" ",r.address.name," "),e.R7$(4),e.SpI(" ",e.bMT(14,5,"PAGES.ACTIONS.CANCEL")," "))},dependencies:[f.Q,u.D9],encapsulation:2})}}return n})();const j=(n,l)=>({"is-invalid":n,"is-valid":l});function G(n,l){1&n&&(e.j41(0,"div",15),e.EFF(1,"V\xe1lido"),e.k0s())}function R(n,l){1&n&&(e.qex(0),e.EFF(1," Nome \xe9 obrigat\xf3rio "),e.bVm())}function M(n,l){if(1&n&&(e.qex(0),e.EFF(1),e.nrm(2,"br"),e.EFF(3),e.bVm()),2&n){const t=l.ngIf;e.R7$(),e.SpI(" Nome precisa ter pelo menos ",t.requiredLength," letras. "),e.R7$(2),e.SpI(" Faltam: ",t.requiredLength-t.actualLength," letras. ")}}function N(n,l){if(1&n&&(e.j41(0,"div",16),e.DNE(1,R,2,0,"ng-container",17)(2,M,4,2,"ng-container",17),e.k0s()),2&n){let t,s;const r=e.XpG();e.R7$(),e.Y8G("ngIf",null==(t=r.getControl("name"))||null==t.errors?null:t.errors.required),e.R7$(),e.Y8G("ngIf",null==(s=r.getControl("name"))||null==s.errors?null:s.errors.minlength)}}let $=(()=>{class n{constructor(t,s,r,a){this.fb=t,this.addressService=s,this.activeModal=r,this.t=a,this.sent=new e.bkB,this.submitted=!1,this.loading=!1}ngOnInit(){this.addressForm=this.fb.group({id:[this.address.id,[o.k0.required]],name:[this.address.name,[o.k0.required,o.k0.minLength(3)]]})}onSubmit(){var t=this;return(0,g.A)(function*(){t.submitted=!0,t.addressForm.markAllAsTouched(),t.addressForm.valid&&(t.loading=!0,t.addressService.update(t.addressForm.value).subscribe({next:()=>{t.t.success("Item editado"),t.sent.emit(),t.close()},error:()=>{t.loading=!1,t.addressForm.reset()}}))})()}close(){this.activeModal.close()}isValid(t){return this.getControl(t)?.valid&&this.submitted||!1}isInvalid(t){return this.getControl(t)?.invalid&&this.submitted||!1}getControl(t){return this.addressForm.get(t)}static{this.\u0275fac=function(s){return new(s||n)(e.rXU(o.ok),e.rXU(m.E),e.rXU(c.Lw),e.rXU(p.tw))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-address-edit"]],inputs:{address:"address"},outputs:{sent:"sent"},decls:24,vars:19,consts:[[3,"ngSubmit","formGroup"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","outline","","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mb-3"],[1,"form-label"],[1,"text-danger"],["type","text","id","addressName","formControlName","name",1,"form-control",3,"ngClass","placeholder"],["class","valid-feedback",4,"ngIf"],["class","invalid-feedback",4,"ngIf"],[1,"modal-footer"],[1,"d-flex","justify-content-between","col-12"],["type","button","btnType","secondary","outline","",3,"click"],["type","submit","btnType","success","outline",""],[1,"valid-feedback"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(s,r){1&s&&(e.j41(0,"form",0),e.bIt("ngSubmit",function(){return r.onSubmit()}),e.j41(1,"div",1)(2,"h5",2),e.EFF(3,"Atualizar Endere\xe7o"),e.k0s(),e.j41(4,"button",3),e.bIt("click",function(){return r.close()}),e.k0s()(),e.j41(5,"div",4)(6,"div",5)(7,"label",6),e.EFF(8),e.nI1(9,"translate"),e.j41(10,"span",7),e.EFF(11,"*"),e.k0s()(),e.nrm(12,"input",8),e.nI1(13,"translate"),e.DNE(14,G,2,0,"div",9)(15,N,3,2,"div",10),e.k0s()(),e.j41(16,"div",11)(17,"div",12)(18,"app-button",13),e.bIt("click",function(){return r.close()}),e.EFF(19),e.nI1(20,"translate"),e.k0s(),e.j41(21,"app-button",14),e.EFF(22),e.nI1(23,"translate"),e.k0s()()()()),2&s&&(e.Y8G("formGroup",r.addressForm),e.R7$(8),e.SpI("",e.bMT(9,8,"PAGES.ADDRESS.NAME"),": "),e.R7$(4),e.FS9("placeholder",e.bMT(13,10,"PAGES.ADDRESS.NAME")),e.Y8G("ngClass",e.l_i(16,j,r.isInvalid("name"),r.isValid("name"))),e.R7$(2),e.Y8G("ngIf",r.isValid("name")),e.R7$(),e.Y8G("ngIf",r.isInvalid("name")),e.R7$(4),e.SpI(" ",e.bMT(20,12,"PAGES.ACTIONS.CANCEL")," "),e.R7$(3),e.SpI(" ",e.bMT(23,14,"PAGES.ACTIONS.SAVE")," "))},dependencies:[d.YU,d.bT,o.qT,o.me,o.BC,o.cb,o.j4,o.JD,f.Q,u.D9],encapsulation:2})}}return n})();var D=i(4384),L=i(6356),U=i(7186),V=i(43),X=i(9986);function x(n,l){if(1&n){const t=e.RV6();e.j41(0,"tr")(1,"td",10),e.EFF(2),e.k0s(),e.j41(3,"td")(4,"ul",11)(5,"li",12),e.bIt("click",function(){const r=e.eBV(t).$implicit,a=e.XpG();return e.Njj(a.edit(r))}),e.nrm(6,"i",13),e.k0s(),e.j41(7,"li",14),e.bIt("click",function(){const r=e.eBV(t).$implicit,a=e.XpG();return e.Njj(a.delete(r))}),e.j41(8,"a",15),e.nrm(9,"i",16),e.k0s()()()()()}if(2&n){const t=l.$implicit;e.R7$(2),e.JRh(t.name)}}const B=[{path:"",component:(()=>{class n{ngOnInit(){this.search()}constructor(t,s,r,a){this.addressService=t,this.service=s,this.modalService=r,this.t=a,this.addresses=[],this.loading=!0}search(){this.loading=!0,this.addressService.get().subscribe({next:t=>{this.addresses=t,this.loading=!1},error:()=>{this.loading=!1,this.t.show("error")}})}trackById(t,s){return s.id}create(){this.openModal(_)}delete(t){this.openModal(y,{address:t})}edit(t){this.openModal($,{address:t})}openModal(t,s){const r=this.modalService.open(t,{centered:!0}).componentInstance;s&&Object.assign(r,s),r.sent.subscribe(()=>this.search())}static{this.\u0275fac=function(s){return new(s||n)(e.rXU(m.E),e.rXU(D.m),e.rXU(c.Bq),e.rXU(p.tw))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-address"]],decls:19,vars:2,consts:[[1,"row"],[1,"col-lg-12"],[1,"card-title","flex-grow-1","mb-0"],[1,"d-flex","gap-1","flex-wrap"],["btnType","success","outline","",3,"click"],["table-header",""],[2,"width","97%"],[1,"text-center",2,"width","3%"],["table-body",""],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"name"],[1,"list-inline","hstack","justify-content-center","gap-2","mb-0"],["data-bs-toggle","tooltip","data-bs-trigger","hover","ngbTooltip","Edit","placement","top",1,"list-inline-item","edit",3,"click"],[1,"ri-pencil-fill","fs-16"],["ngbTooltip","Remove","placement","top","data-bs-toggle","tooltip","data-bs-trigger","hover",1,"list-inline-item","me-0",3,"click"],[1,"text-danger","d-inline-block","remove-item-btn"],[1,"ri-delete-bin-5-fill","fs-16"]],template:function(s,r){1&s&&(e.j41(0,"div",0)(1,"div",1)(2,"app-card")(3,"app-card-header")(4,"h5",2),e.EFF(5,"Logradouros"),e.k0s(),e.j41(6,"div",3)(7,"app-button",4),e.bIt("click",function(){return r.create()}),e.EFF(8," Adicionar "),e.k0s()()(),e.j41(9,"app-card-body")(10,"app-table")(11,"thead",5)(12,"tr")(13,"th",6),e.EFF(14,"Name"),e.k0s(),e.j41(15,"th",7),e.EFF(16,"A\xe7\xf5es"),e.k0s()()(),e.j41(17,"tbody",8),e.DNE(18,x,10,1,"tr",9),e.k0s()()()()()()),2&s&&(e.R7$(18),e.Y8G("ngForOf",r.addresses)("ngForTrackBy",r.trackById))},dependencies:[d.Sq,f.Q,L.i,U.l,V.q,X.O],encapsulation:2})}}return n})()}];let Y=(()=>{class n{static{this.\u0275fac=function(s){return new(s||n)}}static{this.\u0275mod=e.$C({type:n})}static{this.\u0275inj=e.G2t({imports:[h.iI.forChild(B),h.iI]})}}return n})(),O=(()=>{class n{static{this.\u0275fac=function(s){return new(s||n)}}static{this.\u0275mod=e.$C({type:n})}static{this.\u0275inj=e.G2t({providers:[m.E],imports:[v.M.pick(E.Wzl),d.MD,Y,C.G,u.h,o.X1,c.c9,F.i,o.YN]})}}return n})()}}]);