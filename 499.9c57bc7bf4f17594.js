"use strict";(self.webpackChunkvelzon=self.webpackChunkvelzon||[]).push([[499],{499:(ke,g,s)=>{s.r(g),s.d(g,{InvoiceModule:()=>be});var d=s(177),a=s(9417),u=s(7810),E=s(8147),C=s(7038),I=s(5464),j=s(6411),y=s(1022),R=s(255),w=s(1728),T=s(3887),p=s(1188),e=s(4438),V=s(5312),$=s(1626);let h=(()=>{class o{constructor(t){this.http=t,this.apiUrl=`${V.c.apiUrl}/invoice`}get(){return this.http.get(this.apiUrl)}paginate(t){return this.http.post(`${this.apiUrl}/paginate`,t)}print(t){return this.http.post(`${this.apiUrl}/print`,t,{responseType:"blob"})}create(t){return this.http.post(`${this.apiUrl}/all`,t)}update(t){return this.http.put(this.apiUrl,t)}delete(t){return this.http.delete(`${this.apiUrl}/${t}`)}preview(t){return this.http.get(`${this.apiUrl}/preview/${t}`)}pay(t){return this.http.post(`${this.apiUrl}/pay/${t}`,{})}cancelPayment(t){return this.http.post(`${this.apiUrl}/cancel-payment/${t}`,{})}static{this.\u0275fac=function(n){return new(n||o)(e.KVO($.Qq))}}static{this.\u0275prov=e.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();var v=s(9459);let M=(()=>{class o{constructor(t,n){this.activeModal=t,this.invoiceService=n,this.sent=new e.bkB}confirm(){this.invoiceService.cancelPayment(this.invoice.id).subscribe({next:()=>{this.close(),this.sent.emit()},error:()=>{}})}close(){this.activeModal.close()}static{this.\u0275fac=function(n){return new(n||o)(e.rXU(u.Lw),e.rXU(h))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["ng-component"]],inputs:{invoice:"invoice"},outputs:{sent:"sent"},decls:15,vars:1,consts:[[1,"modal-content"],[1,"modal-header"],[1,"modal-body"],[1,"modal-footer"],[1,"d-flex","justify-content-between","col-12"],["type","button","btnType","secondary","outline","",3,"click"],["type","button","btnType","danger","outline","",3,"click"]],template:function(n,i){1&n&&(e.j41(0,"div",0),e.nrm(1,"div",1),e.j41(2,"div",2)(3,"h1"),e.EFF(4,"Extornar"),e.k0s(),e.EFF(5," Voc\xea tem certeza que extornar o pagamento "),e.j41(6,"b"),e.EFF(7),e.k0s(),e.EFF(8,"? "),e.k0s(),e.j41(9,"div",3)(10,"div",4)(11,"app-button",5),e.bIt("click",function(){return i.close()}),e.EFF(12," Cancelar "),e.k0s(),e.j41(13,"app-button",6),e.bIt("click",function(){return i.confirm()}),e.EFF(14," Extornar "),e.k0s()()()()),2&n&&(e.R7$(7),e.JRh(i.invoice.number))},dependencies:[v.Q],encapsulation:2})}}return o})(),x=(()=>{class o{constructor(t,n){this.activeModal=t,this.invoiceService=n,this.sent=new e.bkB}confirm(){this.invoiceService.delete(this.invoice.id).subscribe({next:()=>{this.close(),this.sent.emit()},error:()=>{}})}close(){this.activeModal.close()}static{this.\u0275fac=function(n){return new(n||o)(e.rXU(u.Lw),e.rXU(h))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["ng-component"]],inputs:{invoice:"invoice"},outputs:{sent:"sent"},decls:15,vars:1,consts:[[1,"modal-content"],[1,"modal-header"],[1,"modal-body"],[1,"modal-footer"],[1,"d-flex","justify-content-between","col-12"],["type","button","btnType","secondary","outline","",3,"click"],["type","button","btnType","danger","outline","",3,"click"]],template:function(n,i){1&n&&(e.j41(0,"div",0),e.nrm(1,"div",1),e.j41(2,"div",2)(3,"h1"),e.EFF(4,"Deletar"),e.k0s(),e.EFF(5," Voc\xea tem certeza que deletar o pagamento "),e.j41(6,"b"),e.EFF(7),e.k0s(),e.EFF(8,"? "),e.k0s(),e.j41(9,"div",3)(10,"div",4)(11,"app-button",5),e.bIt("click",function(){return i.close()}),e.EFF(12," Cancelar "),e.k0s(),e.j41(13,"app-button",6),e.bIt("click",function(){return i.confirm()}),e.EFF(14," Extornar "),e.k0s()()()()),2&n&&(e.R7$(7),e.JRh(i.invoice.number))},dependencies:[v.Q],encapsulation:2})}}return o})(),f=(()=>{class o{constructor(t,n){this.activeModal=t,this.invoiceService=n,this.sent=new e.bkB}confirm(){this.invoiceService.pay(this.invoice.id).subscribe({next:()=>{this.close(),this.sent.emit()},error:()=>{}})}close(){this.activeModal.close()}static{this.\u0275fac=function(n){return new(n||o)(e.rXU(u.Lw),e.rXU(h))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["ng-component"]],inputs:{invoice:"invoice"},outputs:{sent:"sent"},decls:15,vars:1,consts:[[1,"modal-content"],[1,"modal-header"],[1,"modal-body"],[1,"modal-footer"],[1,"d-flex","justify-content-between","col-12"],["type","button","btnType","secondary","outline","",3,"click"],["type","button","btnType","success","outline","",3,"click"]],template:function(n,i){1&n&&(e.j41(0,"div",0),e.nrm(1,"div",1),e.j41(2,"div",2)(3,"h1"),e.EFF(4,"Confirma\xe7\xe3o"),e.k0s(),e.EFF(5," Voc\xea tem certeza que deseja receber a fatura "),e.j41(6,"b"),e.EFF(7),e.k0s(),e.EFF(8,"? "),e.k0s(),e.j41(9,"div",3)(10,"div",4)(11,"app-button",5),e.bIt("click",function(){return i.close()}),e.EFF(12," Cancelar "),e.k0s(),e.j41(13,"app-button",6),e.bIt("click",function(){return i.confirm()}),e.EFF(14," Receber "),e.k0s()()()()),2&n&&(e.R7$(7),e.JRh(i.invoice.number))},dependencies:[v.Q],encapsulation:2})}}return o})();var G=s(6181),D=s(5794),F=s(6356),S=s(7186),b=s(43),B=s(272),A=s(9986),N=s(1272),U=s(9830),X=s(6436);const O=(o,c,t)=>({"table-success":o,"table-danger":c,"table-secondary":t});function Y(o,c){if(1&o&&(e.j41(0,"option",15),e.EFF(1),e.k0s()),2&o){const t=c.$implicit;e.Y8G("ngValue",t),e.R7$(),e.SpI(" ",t.name," ")}}function J(o,c){1&o&&(e.j41(0,"span",44),e.EFF(1,"Pago"),e.k0s())}function z(o,c){1&o&&(e.j41(0,"span",44),e.EFF(1,"Aguardando"),e.k0s())}function P(o,c){1&o&&(e.j41(0,"span",44),e.EFF(1,"Atrasado"),e.k0s())}function L(o,c){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"a",30),e.bIt("click",function(){e.eBV(t);const i=e.XpG().$implicit,r=e.XpG();return e.Njj(r.receiver(i))}),e.EFF(2,"Receber"),e.k0s(),e.bVm()}}function H(o,c){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"a",30),e.bIt("click",function(){e.eBV(t);const i=e.XpG().$implicit,r=e.XpG();return e.Njj(r.cancel(i))}),e.EFF(2,"Estornar Pagamento"),e.k0s(),e.bVm()}}function q(o,c){if(1&o){const t=e.RV6();e.j41(0,"tr",35),e.bIt("dblclick",function(){const i=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.onDoubleClick(i))}),e.j41(1,"td"),e.EFF(2),e.nI1(3,"reference"),e.k0s(),e.j41(4,"td"),e.EFF(5),e.k0s(),e.j41(6,"td"),e.EFF(7),e.nI1(8,"date"),e.k0s(),e.j41(9,"td"),e.EFF(10),e.nI1(11,"date"),e.DNE(12,J,2,0,"span",36)(13,z,2,0,"span",36)(14,P,2,0,"span",36),e.k0s(),e.j41(15,"td"),e.EFF(16),e.k0s(),e.j41(17,"td"),e.EFF(18),e.k0s(),e.j41(19,"td"),e.EFF(20),e.nI1(21,"currency"),e.k0s(),e.j41(22,"td",37)(23,"div",38)(24,"button",39),e.nrm(25,"i",40),e.k0s(),e.j41(26,"div",41),e.DNE(27,L,3,0,"ng-container",42)(28,H,3,0,"ng-container",42),e.j41(29,"a",43),e.EFF(30," Imprimir "),e.k0s(),e.j41(31,"a",30),e.bIt("click",function(){const i=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.delete(i))}),e.EFF(32," Deletar "),e.k0s()()()()()}if(2&o){const t=c.$implicit;e.Y8G("ngClass",e.sMw(21,O,"PAID"===t.status,"OVERDUE"===t.status,"PENDING"===t.status)),e.R7$(2),e.JRh(e.bMT(3,13,t.reference)),e.R7$(3),e.JRh(t.number),e.R7$(2),e.JRh(e.bMT(8,15,t.due_date)),e.R7$(3),e.SpI(" ",e.bMT(11,17,t.paid_at)," "),e.R7$(2),e.Y8G("ngIf","PAID"===t.status),e.R7$(),e.Y8G("ngIf","PENDING"===t.status),e.R7$(),e.Y8G("ngIf","OVERDUE"===t.status),e.R7$(2),e.JRh(t.place.address.name+" "+t.place.number+" "+t.place.letter),e.R7$(2),e.JRh(t.customer.name),e.R7$(2),e.JRh(e.bMT(21,19,t.total)),e.R7$(7),e.Y8G("ngIf",!t.paid),e.R7$(),e.Y8G("ngIf",t.paid)}}let Q=(()=>{class o{constructor(t,n,i,r,l,m){this.router=t,this.route=n,this.invoiceService=i,this.addressService=r,this.modalService=l,this.toastService=m,this.loading=!1,this.addresses=[],this.filter=this.initializeFilter()}ngOnInit(){this.search(),this.addressService.get().subscribe({next:t=>{this.addresses=t.sort((n,i)=>n.name.localeCompare(i.name))},error:()=>{this.addresses=[]}})}search(){this.loading=!0,this.invoiceService.paginate(this.filter).subscribe({next:t=>{this.page=t,this.loading=!1},error:()=>{this.loading=!1}})}print(){this.invoiceService.print(this.filter).subscribe({next:t=>{const n=new Blob([t],{type:"application/pdf"}),i=window.URL.createObjectURL(n);window.open(i,"_blank")},error:()=>{this.toastService.show("Erro ao realizar o download do arquivo.")}})}clear(){this.filter=this.initializeFilter(),this.search()}initializeFilter(){return{address:null,reference:null,number:null,status:null,page:0,size:10,sort_orders:[{property:"created_at",direction:"DESC"}]}}onPageChange(t){this.filter.page=t-1,this.search()}onDoubleClick(t){this.view(t)}view(t){this.router.navigate(["view"],{relativeTo:this.route,state:{invoice:t}})}receiver(t){const n=this.modalService.open(f,{centered:!0});n.componentInstance.invoice=t,n.componentInstance.sent.subscribe(()=>{this.toastService.show("Recebimento realizado com sucesso!"),this.search()})}cancel(t){const n=this.modalService.open(M,{centered:!0});n.componentInstance.invoice=t,n.componentInstance.sent.subscribe(()=>{this.toastService.show("Recebimento realizado com sucesso!"),this.search()})}delete(t){const n=this.modalService.open(x,{centered:!0});n.componentInstance.invoice=t,n.componentInstance.sent.subscribe(()=>{this.toastService.show("Recebimento realizado com sucesso!"),this.search()})}create(){this.router.navigate(["create"],{relativeTo:this.route})}edit(t){}openModal(t,n){const r=this.modalService.open(t,{centered:!0}).componentInstance;n&&Object.assign(r,n),r.sent.subscribe(()=>this.search())}static{this.\u0275fac=function(n){return new(n||o)(e.rXU(p.Ix),e.rXU(p.nX),e.rXU(h),e.rXU(G.E),e.rXU(u.Bq),e.rXU(D.tw))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-invoice"]],decls:85,vars:11,consts:[[1,"row","mb-3"],[1,"col-lg-12"],[1,"accordion","w-100"],[1,"accordion-item"],["id","headingOne",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseOne","aria-expanded","false","aria-controls","collapseOne",1,"accordion-button","collapsed"],["id","collapseOne","aria-labelledby","headingOne","data-bs-parent","#accordionExample",1,"accordion-collapse","collapse"],[1,"accordion-body"],[1,"container-fluid"],[1,"row","g-2","align-items-end"],[1,"col-md-3","col-6"],[1,"form-label"],["type","text","mask","0000-00/000000","placeholder","N\xfamero da Fatura",1,"form-control",3,"ngModelChange","keydown.enter","dropSpecialCharacters","ngModel"],[1,"col-md-3","col-12"],[1,"form-select",3,"ngModelChange","change","ngModel"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"row"],[1,"col-6","col-md-2","offset-md-8","d-grid"],[1,"form-label","invisible"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"mdi","mdi-magnify"],[1,"col-6","col-md-2","d-grid"],["type","button",1,"btn","btn-outline-primary",3,"click"],[1,"card-title","flex-grow-1","mb-0"],[1,"d-flex","gap-1","flex-wrap"],[1,"btn-group"],["type","button",1,"btn","btn-light"],["type","button","data-bs-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","btn-light","dropdown-toggle","dropdown-toggle-split"],[1,"dropdown-menu"],[1,"dropdown-item",3,"click"],["table-header","",1,"table-light"],["table-body","",1,"list","form-check-all"],[3,"ngClass","dblclick",4,"ngFor","ngForOf"],[3,"pageChange","page"],[3,"dblclick","ngClass"],["class","badge bg-primary-subtle text-body badge-border float-end",4,"ngIf"],[1,"text-center"],[1,"dropdown"],["type","button","id","dropdownMenuButton","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-secondary","btn-sm","dropdown-toggle"],[1,"ri-hexagon-fill","fs-16"],["aria-labelledby","dropdownMenuButton",1,"dropdown-menu"],[4,"ngIf"],[1,"dropdown-item"],[1,"badge","bg-primary-subtle","text-body","badge-border","float-end"]],template:function(n,i){1&n&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4)(5,"button",5),e.EFF(6,"Filtros"),e.k0s()(),e.j41(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"div",10)(12,"label",11),e.EFF(13,"N\xfamero"),e.k0s(),e.j41(14,"input",12),e.mxI("ngModelChange",function(l){return e.DH7(i.filter.number,l)||(i.filter.number=l),l}),e.bIt("keydown.enter",function(){return i.search()}),e.k0s()(),e.j41(15,"div",13)(16,"label",11),e.EFF(17,"Status"),e.k0s(),e.j41(18,"select",14),e.mxI("ngModelChange",function(l){return e.DH7(i.filter.status,l)||(i.filter.status=l),l}),e.bIt("change",function(){return i.search()}),e.j41(19,"option",15),e.EFF(20,"Todos"),e.k0s(),e.j41(21,"option",15),e.EFF(22,"Pagos"),e.k0s(),e.j41(23,"option",15),e.EFF(24,"Abertos"),e.k0s()()(),e.j41(25,"div",13)(26,"label",11),e.EFF(27,"Endere\xe7o:"),e.k0s(),e.j41(28,"select",14),e.mxI("ngModelChange",function(l){return e.DH7(i.filter.address,l)||(i.filter.address=l),l}),e.bIt("change",function(){return i.search()}),e.j41(29,"option",15),e.EFF(30,"Selecione um endere\xe7o"),e.k0s(),e.DNE(31,Y,2,2,"option",16),e.k0s()()(),e.j41(32,"div",17)(33,"div",18)(34,"label",19),e.EFF(35,"Limpar"),e.k0s(),e.j41(36,"button",20),e.bIt("click",function(){return i.clear()}),e.nrm(37,"i",21),e.EFF(38," Limpar"),e.k0s()(),e.j41(39,"div",22)(40,"label",19),e.EFF(41,"Buscar"),e.k0s(),e.j41(42,"button",23),e.bIt("click",function(){return i.search()}),e.nrm(43,"i",21),e.EFF(44," Buscar"),e.k0s()()()()()()()()()(),e.j41(45,"div",17)(46,"div",1)(47,"app-card")(48,"app-card-header")(49,"h5",24),e.EFF(50,"Faturas"),e.k0s(),e.j41(51,"div",25)(52,"div",26)(53,"button",27),e.EFF(54,"A\xe7\xf5es"),e.k0s(),e.nrm(55,"button",28),e.j41(56,"div",29)(57,"a",30),e.bIt("click",function(){return i.create()}),e.EFF(58,"Adicionar"),e.k0s(),e.j41(59,"a",30),e.bIt("click",function(){return i.print()}),e.EFF(60,"Imprimir"),e.k0s()()()()(),e.j41(61,"app-card-body")(62,"app-table")(63,"thead",31)(64,"tr")(65,"th"),e.EFF(66,"Referer\xeancia"),e.k0s(),e.j41(67,"th"),e.EFF(68,"N\xfamero"),e.k0s(),e.j41(69,"th"),e.EFF(70,"Vencimento"),e.k0s(),e.j41(71,"th"),e.EFF(72,"Pagamento"),e.k0s(),e.j41(73,"th"),e.EFF(74,"Endere\xe7o"),e.k0s(),e.j41(75,"th"),e.EFF(76,"Cliente"),e.k0s(),e.j41(77,"th"),e.EFF(78,"Total"),e.k0s(),e.j41(79,"th"),e.EFF(80,"A\xe7\xf5es"),e.k0s()()(),e.j41(81,"tbody",32),e.DNE(82,q,33,25,"tr",33),e.k0s()()(),e.j41(83,"app-card-footer")(84,"app-pagination",34),e.bIt("pageChange",function(l){return i.onPageChange(l)}),e.k0s()()()()()),2&n&&(e.R7$(14),e.Y8G("dropSpecialCharacters",!1),e.R50("ngModel",i.filter.number),e.R7$(4),e.R50("ngModel",i.filter.status),e.R7$(),e.Y8G("ngValue",null),e.R7$(2),e.Y8G("ngValue","paid"),e.R7$(2),e.Y8G("ngValue","not_paid"),e.R7$(5),e.R50("ngModel",i.filter.address),e.R7$(),e.Y8G("ngValue",null),e.R7$(2),e.Y8G("ngForOf",i.addresses),e.R7$(51),e.Y8G("ngForOf",i.page.content),e.R7$(2),e.Y8G("page",i.page))},dependencies:[d.YU,d.Sq,d.bT,F.i,S.l,b.q,B.R,A.O,N.e,a.xH,a.y7,a.me,a.wz,a.BC,a.vS,U.Zr,d.oe,d.vh,X.o],encapsulation:2})}}return o})();function W(o,c){if(1&o){const t=e.RV6();e.j41(0,"li")(1,"a",7),e.bIt("click",function(){const i=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.selectMonth(i))}),e.EFF(2),e.k0s()()}if(2&o){const t=c.$implicit;e.R7$(2),e.SpI(" ",t.label," ")}}function Z(o,c){1&o&&(e.j41(0,"div",8),e.EFF(1,"Data inv\xe1lida"),e.k0s())}let K=(()=>{class o{constructor(){this.dayControl=new a.MJ("",[a.k0.required,a.k0.min(1),a.k0.max(31),a.k0.pattern(/^[0-9]{1,2}$/)]),this.monthControl=new a.MJ("",[a.k0.required]),this.yearControl=new a.MJ("",[a.k0.required,a.k0.minLength(4),a.k0.maxLength(4),a.k0.pattern(/^[0-9]{4}$/)]),this.months=[{value:"01",label:"Janeiro"},{value:"02",label:"Fevereiro"},{value:"03",label:"Mar\xe7o"},{value:"04",label:"Abril"},{value:"05",label:"Maio"},{value:"06",label:"Junho"},{value:"07",label:"Julho"},{value:"08",label:"Agosto"},{value:"09",label:"Setembro"},{value:"10",label:"Outubro"},{value:"11",label:"Novembro"},{value:"12",label:"Dezembro"}],this.selectedMonth=null,this.selectedMonthLabel=null,this.onChange=()=>{},this.onTouched=()=>{},this.dayControl.valueChanges.subscribe(()=>this.updateDate()),this.yearControl.valueChanges.subscribe(()=>this.updateDate())}ngOnChanges(t){t.submitted&&!0===t.submitted.currentValue&&!0!==t.submitted.previousValue&&(this.dayControl.markAsTouched(),this.monthControl.markAsTouched(),this.yearControl.markAsTouched())}writeValue(t){if(t){const[n,i,r]=t.split("-");this.yearControl.setValue(n,{emitEvent:!1}),this.dayControl.setValue(r,{emitEvent:!1});const l=this.months.find(m=>m.value===i);l&&(this.selectedMonth=l.value,this.selectedMonthLabel=l.label)}}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){t?(this.dayControl.disable(),this.monthControl.disable(),this.yearControl.disable()):(this.dayControl.enable(),this.monthControl.enable(),this.yearControl.enable())}validate(t){return this.dayControl.invalid||this.yearControl.invalid||!this.selectedMonth?{dateInvalid:!0}:null}isInvalid(){return!!this.submitted&&(this.dayControl.touched&&this.dayControl.invalid||this.yearControl.touched&&this.yearControl.invalid||!this.selectedMonth)}isValid(){return!!this.submitted&&this.dayControl.valid&&this.yearControl.valid&&!!this.selectedMonth}selectMonth(t){this.selectedMonth=t.value,this.selectedMonthLabel=t.label,this.updateDate()}updateDate(){if(this.selectedMonth&&this.yearControl.valid&&this.dayControl.valid){const t=String(this.dayControl.value).padStart(2,"0");this.onChange(`${this.yearControl.value}-${this.selectedMonth}-${t}`)}else this.onChange(null)}static{this.\u0275fac=function(n){return new(n||o)}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-input-date"]],inputs:{submitted:"submitted"},features:[e.Jv_([{provide:a.kq,useExisting:(0,e.Rfq)(()=>o),multi:!0},{provide:a.cz,useExisting:(0,e.Rfq)(()=>o),multi:!0}]),e.OA$],decls:8,vars:5,consts:[[1,"input-group"],["type","text","maxlength","2","placeholder","Dia",1,"form-control",3,"formControl"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-outline-primary","dropdown-toggle"],[1,"dropdown-menu"],[4,"ngFor","ngForOf"],["type","text","maxlength","4","placeholder","Ano",1,"form-control",3,"formControl"],["class","text-danger",4,"ngIf"],[1,"dropdown-item",3,"click"],[1,"text-danger"]],template:function(n,i){1&n&&(e.j41(0,"div",0),e.nrm(1,"input",1),e.j41(2,"button",2),e.EFF(3),e.k0s(),e.j41(4,"ul",3),e.DNE(5,W,3,1,"li",4),e.k0s(),e.nrm(6,"input",5),e.k0s(),e.DNE(7,Z,2,0,"div",6)),2&n&&(e.R7$(),e.Y8G("formControl",i.dayControl),e.R7$(2),e.SpI(" ",i.selectedMonthLabel||"M\xeas"," "),e.R7$(2),e.Y8G("ngForOf",i.months),e.R7$(),e.Y8G("formControl",i.yearControl),e.R7$(),e.Y8G("ngIf",i.isInvalid()))},dependencies:[d.Sq,d.bT,a.me,a.BC,a.tU,a.l_],encapsulation:2})}}return o})();var ee=s(4988);const _=o=>({"table-success":o});function te(o,c){if(1&o){const t=e.RV6();e.j41(0,"app-card")(1,"app-card-body")(2,"div",2)(3,"div",3)(4,"div",4)(5,"label",5),e.EFF(6,"Refer\xeancia"),e.k0s(),e.j41(7,"app-input-reference",6),e.mxI("ngModelChange",function(i){e.eBV(t);const r=e.XpG();return e.DH7(r.reference,i)||(r.reference=i),e.Njj(i)}),e.bIt("keydown.enter",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.search())}),e.k0s()()(),e.nrm(8,"hr"),e.j41(9,"div",7)(10,"div",8)(11,"label",9),e.EFF(12,"voltar"),e.k0s(),e.j41(13,"button",10),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.back())}),e.nrm(14,"i",11),e.EFF(15," Voltar"),e.k0s()(),e.j41(16,"div",12)(17,"label",9),e.EFF(18,"Buscar"),e.k0s(),e.j41(19,"button",13),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.search())}),e.nrm(20,"i",11),e.EFF(21," Buscar"),e.k0s()()()()()()}if(2&o){const t=e.XpG();e.R7$(7),e.R50("ngModel",t.reference)}}function ne(o,c){if(1&o&&(e.j41(0,"option",20),e.EFF(1),e.k0s()),2&o){const t=c.$implicit;e.Y8G("ngValue",t),e.R7$(),e.JRh(t)}}function ie(o,c){if(1&o&&(e.j41(0,"option",20),e.EFF(1),e.k0s()),2&o){const t=c.$implicit;e.Y8G("ngValue",t),e.R7$(),e.JRh(t)}}function oe(o,c){if(1&o){const t=e.RV6();e.j41(0,"tr",45),e.bIt("click",function(){const i=e.eBV(t).$implicit;return e.Njj(i.checked=!i.checked)}),e.j41(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.nI1(9,"currency"),e.k0s(),e.j41(10,"td"),e.EFF(11),e.k0s(),e.j41(12,"td",46),e.EFF(13),e.nI1(14,"currency"),e.k0s()()}if(2&o){const t=c.$implicit;e.Y8G("ngClass",e.eq3(11,_,t.checked)),e.R7$(2),e.JRh(t.place.number),e.R7$(2),e.JRh(t.customer.name),e.R7$(2),e.JRh(t.category.name),e.R7$(2),e.JRh(e.bMT(9,7,t.water_value)),e.R7$(3),e.JRh(t.consumption),e.R7$(2),e.JRh(e.bMT(14,9,t.total))}}function re(o,c){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"tr",41),e.bIt("click",function(){const i=e.eBV(t).$implicit,r=e.XpG(2);return e.Njj(r.toggleGroup(i))}),e.j41(2,"td",42)(3,"div",7)(4,"div",43),e.EFF(5),e.k0s()()()(),e.DNE(6,oe,15,13,"tr",44),e.bVm()}if(2&o){const t=c.$implicit,n=e.XpG(2);e.R7$(),e.Y8G("ngClass",e.eq3(4,_,t.checked)),e.R7$(4),e.JRh(t.name),e.R7$(),e.Y8G("ngForOf",t.items)("ngForTrackBy",n.trackBySelectableId)}}function ae(o,c){if(1&o){const t=e.RV6();e.j41(0,"div",14)(1,"div")(2,"div",15)(3,"div",16)(4,"div",17)(5,"div",7)(6,"div",18)(7,"label",5),e.EFF(8,"Categorias:"),e.k0s(),e.j41(9,"select",19),e.mxI("ngModelChange",function(i){e.eBV(t);const r=e.XpG();return e.DH7(r.filter.category,i)||(r.filter.category=i),e.Njj(i)}),e.bIt("change",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.onchangeFilter())}),e.j41(10,"option",20),e.EFF(11,"Selecione..."),e.k0s(),e.DNE(12,ne,2,2,"option",21),e.k0s()(),e.j41(13,"div",18)(14,"label",5),e.EFF(15,"Logradouro:"),e.k0s(),e.j41(16,"select",19),e.mxI("ngModelChange",function(i){e.eBV(t);const r=e.XpG();return e.DH7(r.filter.address,i)||(r.filter.address=i),e.Njj(i)}),e.bIt("change",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.onchangeFilter())}),e.j41(17,"option",20),e.EFF(18,"Selecione..."),e.k0s(),e.DNE(19,ie,2,2,"option",21),e.k0s()(),e.j41(20,"div",18)(21,"label",5),e.EFF(22,"Tem Hidr\xf4metro?:"),e.k0s(),e.j41(23,"select",22),e.mxI("ngModelChange",function(i){e.eBV(t);const r=e.XpG();return e.DH7(r.filter.hasMeter,i)||(r.filter.hasMeter=i),e.Njj(i)}),e.bIt("change",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.onchangeFilter())}),e.j41(24,"option",20),e.EFF(25,"Selecione..."),e.k0s(),e.j41(26,"option",20),e.EFF(27,"Sim"),e.k0s(),e.j41(28,"option",20),e.EFF(29,"N\xe3o"),e.k0s()()()()()()()(),e.j41(30,"div")(31,"div",23)(32,"div",24)(33,"table",25)(34,"thead",26)(35,"tr",27),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.toggleAll())}),e.j41(36,"th",28),e.EFF(37,"N\xfamero"),e.k0s(),e.j41(38,"th",29),e.EFF(39,"Categoria"),e.k0s(),e.j41(40,"th",30),e.EFF(41,"Name"),e.k0s(),e.j41(42,"th",31),e.EFF(43,"\xc1gua/lt"),e.k0s(),e.j41(44,"th",31),e.EFF(45,"\xc1gua/Consumo"),e.k0s(),e.j41(46,"th",32),e.EFF(47,"Valor"),e.k0s()()(),e.j41(48,"tbody",33),e.DNE(49,re,7,6,"ng-container",34),e.k0s()()()()(),e.j41(50,"div")(51,"div",35)(52,"app-card")(53,"app-card-body")(54,"div",7)(55,"div",36),e.EFF(56),e.k0s(),e.j41(57,"div",36),e.EFF(58),e.nI1(59,"currency"),e.k0s(),e.j41(60,"div",36),e.EFF(61),e.k0s(),e.j41(62,"div",36),e.EFF(63),e.nI1(64,"currency"),e.k0s()()(),e.j41(65,"app-card-body")(66,"div",2)(67,"div",7)(68,"div",37)(69,"div")(70,"label",38),e.EFF(71,"Data de vencimento"),e.k0s(),e.j41(72,"app-input-date",39),e.mxI("ngModelChange",function(i){e.eBV(t);const r=e.XpG();return e.DH7(r.dueDate,i)||(r.dueDate=i),e.Njj(i)}),e.k0s()()()(),e.j41(73,"div",40)(74,"div",37)(75,"button",13),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.confirm())}),e.EFF(76,"Confirmar"),e.k0s()()()()()()()()()}if(2&o){const t=e.XpG();e.R7$(9),e.R50("ngModel",t.filter.category),e.R7$(),e.Y8G("ngValue",null),e.R7$(2),e.Y8G("ngForOf",t.categories),e.R7$(4),e.R50("ngModel",t.filter.address),e.R7$(),e.Y8G("ngValue",null),e.R7$(2),e.Y8G("ngForOf",t.addresses),e.R7$(4),e.R50("ngModel",t.filter.hasMeter),e.R7$(),e.Y8G("ngValue",null),e.R7$(2),e.Y8G("ngValue",!0),e.R7$(2),e.Y8G("ngValue",!1),e.R7$(21),e.Y8G("ngForOf",t.preview.items)("ngForTrackBy",t.trackByGroupId),e.R7$(7),e.SpI("Total de items: ",t.totalItems(),""),e.R7$(2),e.SpI("Valor Total: ",e.bMT(59,17,t.totalValue()),""),e.R7$(3),e.SpI("Items Selecionados: ",t.totalISelectedtems(),""),e.R7$(2),e.SpI("Valor Selecionado: ",e.bMT(64,19,t.totalSelectedValue()),""),e.R7$(9),e.R50("ngModel",t.dueDate)}}let se=(()=>{class o{constructor(t,n,i){this.service=t,this.router=n,this.route=i,this.reference=null,this.dueDate=null,this.preview={items:[]},this.loading=!0,this.invoices=[],this.addresses=[],this.categories=[],this.filter=this.initializeFilter()}ngOnInit(){}initializeFilter(){return{hasMeter:null,address:null,category:null}}search(){this.loading=!0,this.reference&&this.service.preview(this.reference).subscribe({next:t=>{this.invoices=t,this.preview=this.buildPreview(t),this.loading=!1},error:()=>{this.loading=!1,this.preview.items=[]}})}back(){this.router.navigate(["../"],{relativeTo:this.route})}confirm(){const t=this.preview.items.flatMap(n=>n.items).filter(n=>n.checked);t.forEach(n=>{n.due_date=this.dueDate}),this.service.create(t).subscribe({next:()=>{this.preview.items=this.preview.items.map(n=>{const i=n.items.filter(r=>!r.checked);return{...n,items:i,count:i.length}}).filter(n=>n.count>0)},error:()=>{}})}filterByHasMeter(t){return null===this.filter.hasMeter?t:t.filter(n=>n.category.is_hydrometer===this.filter.hasMeter)}filterByAddress(t){return this.filter.address?t.filter(n=>n.place.address.name===this.filter.address):t}filterByCategory(t){return this.filter.category?t.filter(n=>n.category.name===this.filter.category):t}onchangeFilter(){let t=[...this.invoices];t=this.filterByHasMeter(t),t=this.filterByAddress(t),t=this.filterByCategory(t),this.preview=this.buildPreview(t)}getUniqueAddresses(t){return Array.from(new Set(t.map(n=>n.place.address.name))).sort((n,i)=>n.localeCompare(i))}getUniqueCategories(t){return Array.from(new Set(t.map(n=>n.category.name))).sort((n,i)=>n.localeCompare(i))}createSelectableInvoices(t){return t.map(n=>({checked:!1,...n}))}buildPreview(t){const n=this.createSelectableInvoices(t),i=this.getUniqueAddresses(n),r=this.getUniqueCategories(n),l=i.map(m=>{const k=n.filter(_e=>_e.place.address.name===m);return{name:m,checked:!1,items:k,count:k.length}}).filter(m=>m.count>0);return 0===this.addresses.length&&(this.addresses=i),0===this.categories.length&&(this.categories=r),{items:l}}trackByGroupId(t){return t.id}trackBySelectableId(t){return t.id}totalItems(){return this.preview.items.reduce((t,n)=>t+n.items.length,0)}totalValue(){return this.preview.items.reduce((t,n)=>t+n.items.reduce((i,r)=>i+Number(r.total),0),0)}totalISelectedtems(){return this.preview.items.reduce((t,n)=>t+n.items.filter(i=>i.checked).length,0)}totalSelectedValue(){return this.preview.items.reduce((t,n)=>t+n.items.filter(i=>i.checked).reduce((i,r)=>i+(Number(r.total)??0),0),0)}toggleGroup(t){t.checked=!t.checked,t.items.forEach(n=>n.checked=t.checked)}toggleAll(){const t=this.preview.items.every(n=>n.checked&&n.items.every(i=>i.checked));this.preview.items.forEach(n=>{n.checked=!t,n.items.forEach(i=>i.checked=!t)})}static{this.\u0275fac=function(n){return new(n||o)(e.rXU(h),e.rXU(p.Ix),e.rXU(p.nX))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-invoice-create"]],decls:2,vars:2,consts:[[4,"ngIf"],["class","d-flex flex-column",4,"ngIf"],[1,"container-fluid"],[1,"row","g-2","align-items-end"],[1,"col-md-6","col-12"],[1,"form-label"],[3,"ngModelChange","keydown.enter","ngModel"],[1,"row"],[1,"col-6","col-md-2","offset-md-8","d-grid"],[1,"form-label","invisible"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"mdi","mdi-magnify"],[1,"col-6","col-md-2","d-grid"],["type","button",1,"btn","btn-outline-primary",3,"click"],[1,"d-flex","flex-column"],[1,"border"],[1,"card"],[1,"card-body"],[1,"col-xxl-4","col-md-6"],["id","group",1,"form-select",3,"ngModelChange","change","ngModel"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["id","hasMeterFilter",1,"form-select",3,"ngModelChange","change","ngModel"],[1,"border","d-flex","flex-column"],[1,"border","mb-0","flex-grow-1","overflow-auto"],[1,"table","table-hover","table-bordered","table-striped","mb-0",2,"min-width","100%"],[1,"table-light",2,"position","sticky","top","0","z-index","1"],[2,"cursor","pointer",3,"click"],[2,"width","5%"],[2,"width","20%"],[2,"width","35%"],[2,"width","10%"],[1,"text-center",2,"width","10%"],["table-body","",1,"list","form-check-all"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"border","h-100"],[1,"col-md-3","col-12"],[1,"col-12","col-md-3","offset-md-9","d-grid"],["for","exampleInputdate",1,"form-label"],[3,"ngModelChange","ngModel"],[1,"row","mt-3"],[1,"bg-light",3,"click","ngClass"],["colspan","6"],[1,"text-center","fw-bold",2,"font-size","16px"],["style","cursor: pointer",3,"ngClass","click",4,"ngFor","ngForOf","ngForTrackBy"],[2,"cursor","pointer",3,"click","ngClass"],[1,"text-center"]],template:function(n,i){1&n&&e.DNE(0,te,22,1,"app-card",0)(1,ae,77,21,"div",1),2&n&&(e.Y8G("ngIf",i.loading),e.R7$(),e.Y8G("ngIf",!i.loading))},dependencies:[d.YU,d.Sq,d.bT,F.i,b.q,K,ee.F,a.xH,a.y7,a.wz,a.BC,a.vS,d.oe],encapsulation:2})}}return o})(),ce=(()=>{class o{static{this.\u0275fac=function(n){return new(n||o)}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-invoice-view-header"]],decls:27,vars:0,consts:[[1,"mb-3"],[1,"d-flex","justify-content-between"],[2,"flex","1"],["src","assets/images/acal/acal.jpg","alt","Logo ACAL"],[2,"flex","6"],[1,"h5"],[1,"row","border-top","border-bottom","text-center"],[1,"col-12"]],template:function(n,i){1&n&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2),e.nrm(3,"img",3),e.k0s(),e.j41(4,"div",4)(5,"p",5),e.EFF(6," CNPJ - 13.228.119/0001-68"),e.nrm(7,"br"),e.EFF(8," Publica\xe7\xe3o do estatuto no Di\xe1rio Oficial de 22-06-1983."),e.nrm(9,"br"),e.EFF(10," Reconhecido como \xd3rg\xe3o de utilidade p\xfablica Municipal - conf.lei N 7 de 27-10-1983."),e.nrm(11,"br"),e.EFF(12," Reconhecido como \xd3rg\xe3o de utilidade p\xfablica Estadual - conf.lei N 7049 de 16-04-1997."),e.nrm(13,"br"),e.EFF(14," Rua Morro do Chap\xe9u, CEP 44709-000, S/N. Telefone: (74) 9 8107-4362"),e.nrm(15,"br"),e.EFF(16," Lages do Batata - Jacobina, BA."),e.nrm(17,"br"),e.EFF(18," Email: acallages@hotmail.com "),e.k0s()()(),e.j41(19,"div",6)(20,"div",7)(21,"h2")(22,"u"),e.EFF(23,"ACAL - Associa\xe7\xe3o Comunit\xe1ria e Assist\xeancial de Lages"),e.k0s()(),e.j41(24,"h6")(25,"u"),e.EFF(26,"ECONOMIZAR \xc1GUA \xc9 UM DEVER DE TODO SER HUMANO."),e.k0s()()()()())},encapsulation:2})}}return o})();var le=s(922);function de(o,c){if(1&o&&(e.j41(0,"span")(1,"div",9)(2,"div",10)(3,"h2",11),e.EFF(4,"Pago em:"),e.k0s(),e.j41(5,"p",11),e.EFF(6),e.nI1(7,"date"),e.k0s()()()()),2&o){const t=e.XpG();e.R7$(6),e.JRh(e.bMT(7,1,t.invoice.paid_at))}}function ue(o,c){if(1&o&&(e.j41(0,"tr")(1,"td")(2,"strong"),e.EFF(3),e.k0s()(),e.j41(4,"td"),e.EFF(5),e.nI1(6,"currency"),e.k0s()()),2&o){const t=c.$implicit;e.R7$(3),e.SpI("",t.name,":"),e.R7$(2),e.JRh(e.bMT(6,2,t.value))}}let pe=(()=>{class o{ngOnInit(){}get now(){return new Date}static{this.\u0275fac=function(n){return new(n||o)}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-invoice-view-detail"]],inputs:{invoice:"invoice"},decls:74,vars:23,consts:[[1,"row","mb-3"],[1,"d-flex","justify-content-between",2,"gap","1rem"],[1,"border","rounded","text-center",2,"flex","1"],[1,"border","rounded",2,"flex","1"],[1,"table-responsive"],[1,"table","table-striped","table-bordered"],[1,"border","rounded",2,"flex","1","min-height","200px"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"container","h-100","d-flex","justify-content-center","align-items-center"],[1,"text-center"],[1,"mb-0"]],template:function(n,i){1&n&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"strong"),e.EFF(4,"N\xba de Associado"),e.k0s(),e.nrm(5,"br"),e.EFF(6),e.k0s(),e.j41(7,"div",2)(8,"strong"),e.EFF(9,"Boleto n\xba:"),e.k0s(),e.nrm(10,"br"),e.EFF(11),e.k0s(),e.j41(12,"div",2)(13,"strong"),e.EFF(14,"Conta referente:"),e.k0s(),e.nrm(15,"br"),e.EFF(16),e.k0s()()(),e.j41(17,"div",0)(18,"div",1)(19,"div",3)(20,"div",4)(21,"table",5)(22,"tr")(23,"td")(24,"strong"),e.EFF(25,"S\xf3cio:"),e.k0s()(),e.j41(26,"td"),e.EFF(27),e.k0s()(),e.j41(28,"tr")(29,"td")(30,"strong"),e.EFF(31,"Endere\xe7o:"),e.k0s()(),e.j41(32,"td"),e.EFF(33),e.k0s()(),e.j41(34,"tr")(35,"td")(36,"strong"),e.EFF(37,"Local:"),e.k0s()(),e.j41(38,"td"),e.EFF(39,"Lages do Batata - Jacobina BA."),e.k0s()(),e.j41(40,"tr")(41,"td")(42,"strong"),e.EFF(43,"Categoria:"),e.k0s()(),e.j41(44,"td"),e.EFF(45),e.nI1(46,"group"),e.k0s()()()()(),e.j41(47,"div",6),e.DNE(48,de,8,3,"span",7),e.k0s(),e.j41(49,"div",3)(50,"div",4)(51,"table",5)(52,"tr")(53,"td")(54,"strong"),e.EFF(55,"Data de Emiss\xe3o:"),e.k0s()(),e.j41(56,"td"),e.EFF(57),e.nI1(58,"date"),e.k0s()(),e.j41(59,"tr")(60,"td")(61,"strong"),e.EFF(62,"Vencimento:"),e.k0s()(),e.j41(63,"td"),e.EFF(64),e.nI1(65,"date"),e.k0s()(),e.DNE(66,ue,7,4,"tr",8),e.j41(67,"tr")(68,"td")(69,"strong"),e.EFF(70,"Valor total::"),e.k0s()(),e.j41(71,"td"),e.EFF(72),e.nI1(73,"currency"),e.k0s()()()()()()()),2&n&&(e.R7$(6),e.SpI(" ",i.invoice.customer.partner_number," "),e.R7$(5),e.SpI(" ",i.invoice.number," "),e.R7$(5),e.SpI(" ",i.invoice.reference," "),e.R7$(11),e.JRh(i.invoice.customer.name),e.R7$(6),e.E5c("",i.invoice.place.address.name," ",i.invoice.place.number,"",i.invoice.place.letter,""),e.R7$(12),e.Lme("",e.bMT(46,14,i.invoice.category.group)," ",i.invoice.category.name,""),e.R7$(3),e.Y8G("ngIf",i.invoice.paid_at),e.R7$(9),e.JRh(e.i5U(58,16,i.now,"dd/MM/yyyy")),e.R7$(7),e.JRh(e.bMT(65,19,i.invoice.due_date)),e.R7$(2),e.Y8G("ngForOf",i.invoice.values),e.R7$(6),e.JRh(e.bMT(73,21,i.invoice.total)))},dependencies:[d.Sq,d.bT,d.oe,d.vh,le.c],encapsulation:2})}}return o})();function me(o,c){if(1&o&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s()()),2&o){const t=c.$implicit;e.R7$(2),e.JRh(t.name),e.R7$(2),e.JRh(t.required),e.R7$(2),e.JRh(t.analyzed),e.R7$(2),e.JRh(t.conformity)}}let he=(()=>{class o{ngOnInit(){}static{this.\u0275fac=function(n){return new(n||o)}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-invoice-view-water-quality"]],inputs:{invoice:"invoice"},decls:34,vars:1,consts:[[1,"text-center","mb-2"],[1,"table-responsive","mb-3"],[1,"table","table-bordered","table-striped","text-center"],[1,"table-light"],[4,"ngFor","ngForOf"],[1,"mb-3","small-text"]],template:function(n,i){1&n&&(e.j41(0,"div",0)(1,"strong"),e.EFF(2,"PADR\xc3O DA PORTARIA MS 2914/2011"),e.k0s(),e.nrm(3,"br"),e.EFF(4," Decreto Federal n\xba. 5.440/2005\n"),e.k0s(),e.j41(5,"div",1)(6,"table",2)(7,"thead",3)(8,"tr")(9,"th"),e.EFF(10,"Par\xe2metros"),e.k0s(),e.j41(11,"th"),e.EFF(12,"Exigidas"),e.k0s(),e.j41(13,"th"),e.EFF(14,"Analisadas"),e.k0s(),e.j41(15,"th"),e.EFF(16,"Em Conformidade"),e.k0s()()(),e.j41(17,"tbody"),e.DNE(18,me,9,4,"tr",4),e.k0s()()(),e.j41(19,"div",5)(20,"strong"),e.EFF(21,"Par\xe2metros de Qualidade da \xc1gua"),e.k0s(),e.nrm(22,"br"),e.j41(23,"ul")(24,"li"),e.EFF(25,"Coliformes Totais: Indicador que mensura contamina\xe7\xe3o bacteriol\xf3gica do tipo: bacilos gram-negativos, aer\xf3bios ou anaer\xf3bios facultativos n\xe3o esporog\xeanicos, oxidase-negativos."),e.k0s(),e.j41(26,"li"),e.EFF(27,"E. coli: Indicador que mensura contamina\xe7\xe3o bacteriol\xf3gica de origem fecal."),e.k0s(),e.j41(28,"li"),e.EFF(29,"Cloro Residual: Indicador do Poder Desinfetante oriundo do Cloro (Agente de Desinfec\xe7\xe3o)."),e.k0s(),e.j41(30,"li"),e.EFF(31,"Turbidez: Indicador do espalhamento de luz produzido pela presen\xe7a de part\xedculas em suspens\xe3o ou coloidais."),e.k0s(),e.j41(32,"li"),e.EFF(33,"Cor Aparente: Indicador que mensura a cor em amostras com turbidez."),e.k0s()()()),2&n&&(e.R7$(18),e.Y8G("ngForOf",i.invoice.water_quality.analysis))},dependencies:[d.Sq],encapsulation:2})}}return o})();function ve(o,c){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"a",7),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.receiver())}),e.EFF(2,"Receber"),e.k0s(),e.bVm()}}function ge(o,c){if(1&o&&(e.j41(0,"span"),e.nrm(1,"app-invoice-view-water-quality",11),e.k0s()),2&o){const t=e.XpG();e.R7$(),e.Y8G("invoice",t.invoice)}}const fe=[{path:"",component:Q},{path:"create",component:se},{path:"view",component:(()=>{class o{constructor(t,n,i){this.router=t,this.route=n,this.modalService=i;const r=this.router.getCurrentNavigation();r?.extras?.state&&r.extras.state.invoice?this.invoice=r.extras.state.invoice:this.back()}back(){this.router.navigate(["../"],{relativeTo:this.route})}get status(){return this.invoice.paid_at?"Pago":"Aguardando"}receiver(){const t=this.modalService.open(f,{centered:!0});t.componentInstance.invoice=this.invoice,t.componentInstance.sent.subscribe(()=>{console.log("Invoice receiver modal closed with sent event")})}static{this.\u0275fac=function(n){return new(n||o)(e.rXU(p.Ix),e.rXU(p.nX),e.rXU(u.Bq))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-invoice-view"]],decls:21,vars:4,consts:[[1,"d-flex","align-items-center"],[1,"card-title","flex-grow-1","mb-0"],[1,"d-flex","gap-1","flex-wrap"],[1,"btn-group"],["type","button",1,"btn","btn-light"],["type","button","data-bs-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","btn-light","dropdown-toggle","dropdown-toggle-split"],[1,"dropdown-menu"],[1,"dropdown-item",3,"click"],[4,"ngIf"],[1,"dropdown-item"],[1,"container","border"],[3,"invoice"]],template:function(n,i){1&n&&(e.j41(0,"div",0)(1,"h5",1),e.EFF(2,"Faturas"),e.k0s(),e.j41(3,"div",2)(4,"div",3)(5,"button",4),e.EFF(6,"A\xe7\xf5es"),e.k0s(),e.nrm(7,"button",5),e.j41(8,"div",6)(9,"a",7),e.bIt("click",function(){return i.back()}),e.EFF(10,"Voltar"),e.k0s(),e.DNE(11,ve,3,0,"ng-container",8),e.j41(12,"a",9),e.EFF(13,"Apagar"),e.k0s()()()()(),e.nrm(14,"hr"),e.j41(15,"div",10),e.nrm(16,"app-invoice-view-header")(17,"app-invoice-view-detail",11),e.DNE(18,ge,2,1,"span",8),e.nrm(19,"app-invoice-view-detail",11),e.k0s(),e.nrm(20,"hr")),2&n&&(e.R7$(11),e.Y8G("ngIf",i.invoice.paid),e.R7$(6),e.Y8G("invoice",i.invoice),e.R7$(),e.Y8G("ngIf",i.invoice.water_quality),e.R7$(),e.Y8G("invoice",i.invoice))},dependencies:[d.bT,ce,pe,he],encapsulation:2})}}return o})()}];let Fe=(()=>{class o{static{this.\u0275fac=function(n){return new(n||o)}}static{this.\u0275mod=e.$C({type:o})}static{this.\u0275inj=e.G2t({imports:[p.iI.forChild(fe),p.iI]})}}return o})(),be=(()=>{class o{static{this.\u0275fac=function(n){return new(n||o)}}static{this.\u0275mod=e.$C({type:o})}static{this.\u0275inj=e.G2t({providers:[d.vh],imports:[T.G,Fe,d.MD,E.h,w.i,a.YN,a.X1,u.c9,u.h_,u.zH,R.r,I.M.pick(j.Wzl),y.ND,C.H]})}}return o})()}}]);