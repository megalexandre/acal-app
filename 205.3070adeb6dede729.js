"use strict";(self.webpackChunkvelzon=self.webpackChunkvelzon||[]).push([[205],{8205:(J,p,l)=>{l.r(p),l.d(p,{PlaceModule:()=>L});var c=l(177),o=l(9417),d=l(9005),h=l(8147),v=l(5464),F=l(6411),g=l(115),C=l(3887),k=l(5312),e=l(3953),E=l(1626);let m=(()=>{class n{constructor(t){this.http=t,this.apiUrl=`${k.c.apiUrl}/place`}get(){return this.http.get(this.apiUrl)}create(t){return this.http.post(this.apiUrl,t)}update(t){return this.http.put(this.apiUrl,t)}delete(t){return this.http.delete(`${this.apiUrl}/${t}`)}static{this.\u0275fac=function(i){return new(i||n)(e.KVO(E.Qq))}}static{this.\u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var f=l(1188),j=l(467),I=l(6181),b=l(9459);const u=(n,a)=>({"is-invalid":n,"is-valid":a});function R(n,a){if(1&n&&(e.j41(0,"option",19),e.EFF(1),e.k0s()),2&n){const t=a.$implicit;e.Y8G("value",t.name),e.R7$(),e.JRh(t.name)}}function y(n,a){1&n&&(e.j41(0,"div",20),e.EFF(1,"V\xe1lido"),e.k0s())}function T(n,a){1&n&&(e.qex(0),e.EFF(1," Nome \xe9 obrigat\xf3rio "),e.bVm())}function P(n,a){if(1&n&&(e.j41(0,"div",21),e.DNE(1,T,2,0,"ng-container",22),e.k0s()),2&n){let t;const i=e.XpG();e.R7$(),e.Y8G("ngIf",null==(t=i.getControl("address"))||null==t.errors?null:t.errors.required)}}function G(n,a){1&n&&(e.j41(0,"div",20),e.EFF(1,"V\xe1lido"),e.k0s())}function $(n,a){1&n&&(e.qex(0),e.EFF(1," N\xfamero \xe9 obrigat\xf3rio "),e.bVm())}function N(n,a){if(1&n&&(e.j41(0,"div",21),e.DNE(1,$,2,0,"ng-container",22),e.k0s()),2&n){let t;const i=e.XpG();e.R7$(),e.Y8G("ngIf",null==(t=i.getControl("number"))||null==t.errors?null:t.errors.required)}}function S(n,a){1&n&&(e.j41(0,"div",20),e.EFF(1,"V\xe1lido"),e.k0s())}function V(n,a){1&n&&(e.qex(0),e.EFF(1," Letra \xe9 obrigat\xf3rio "),e.bVm())}function A(n,a){if(1&n&&(e.j41(0,"div",21),e.DNE(1,V,2,0,"ng-container",22),e.k0s()),2&n){let t;const i=e.XpG();e.R7$(),e.Y8G("ngIf",null==(t=i.getControl("letter"))||null==t.errors?null:t.errors.required)}}let U=(()=>{class n{constructor(t,i,s,r){this.fb=t,this.service=i,this.addressService=s,this.activeModal=r,this.sent=new e.bkB,this.submitted=!1,this.addresses=[],this.form=this.fb.group({address:["",[o.k0.required]],number:["",[o.k0.required]],letter:["",[o.k0.required]]})}ngOnInit(){this.addressService.getAddresses().subscribe({next:t=>{this.addresses=t},error:()=>{this.addresses=[]}})}onSubmit(){var t=this;return(0,j.A)(function*(){t.submitted=!0,t.form.markAllAsTouched(),t.form.valid&&t.service.create(t.form.value).subscribe({next:()=>{t.sent.emit(),t.close()},error:()=>t.form.reset()})})()}close(){this.activeModal.close()}isValid(t){return this.getControl(t)?.valid&&this.submitted||!1}isInvalid(t){return this.getControl(t)?.invalid&&this.submitted||!1}getControl(t){return this.form.get(t)}static{this.\u0275fac=function(i){return new(i||n)(e.rXU(o.ok),e.rXU(m),e.rXU(I.E),e.rXU(d.Lw))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-place-create"]],outputs:{sent:"sent"},decls:39,vars:22,consts:[[3,"ngSubmit","formGroup"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","outline","","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mb-3"],[1,"form-label"],[1,"text-danger"],["id","address","formControlName","address",1,"form-select",3,"ngClass"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["class","valid-feedback",4,"ngIf"],["class","invalid-feedback",4,"ngIf"],["type","text","id","number","formControlName","number","placeholder","N\xfamero:",1,"form-control",3,"ngClass"],["type","text","id","letter","formControlName","letter","placeholder","Letra:",1,"form-control",3,"ngClass"],[1,"modal-footer"],[1,"d-flex","justify-content-between","col-12"],["type","button","btnType","secondary","outline","",3,"click"],["type","submit","btnType","success","outline",""],[3,"value"],[1,"valid-feedback"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(i,s){1&i&&(e.j41(0,"form",0),e.bIt("ngSubmit",function(){return s.onSubmit()}),e.j41(1,"div",1)(2,"h5",2),e.EFF(3,"Criar Resid\xeancia"),e.k0s(),e.j41(4,"button",3),e.bIt("click",function(){return s.close()}),e.k0s()(),e.j41(5,"div",4)(6,"div",5)(7,"label",6),e.EFF(8,"Nome: "),e.j41(9,"span",7),e.EFF(10,"*"),e.k0s()(),e.j41(11,"select",8)(12,"option",9),e.EFF(13,"Selecione um endere\xe7o"),e.k0s(),e.DNE(14,R,2,2,"option",10),e.k0s(),e.DNE(15,y,2,0,"div",11)(16,P,2,1,"div",12),e.k0s(),e.j41(17,"div",5)(18,"label",6),e.EFF(19,"N\xfamero: "),e.j41(20,"span",7),e.EFF(21,"*"),e.k0s()(),e.nrm(22,"input",13),e.DNE(23,G,2,0,"div",11)(24,N,2,1,"div",12),e.k0s(),e.j41(25,"div",5)(26,"label",6),e.EFF(27,"Letra: "),e.j41(28,"span",7),e.EFF(29,"*"),e.k0s()(),e.nrm(30,"input",14),e.DNE(31,S,2,0,"div",11)(32,A,2,1,"div",12),e.k0s()(),e.j41(33,"div",15)(34,"div",16)(35,"app-button",17),e.bIt("click",function(){return s.close()}),e.EFF(36),e.k0s(),e.j41(37,"app-button",18),e.EFF(38),e.k0s()()()()),2&i&&(e.Y8G("formGroup",s.form),e.R7$(11),e.Y8G("ngClass",e.l_i(13,u,s.isInvalid("address"),s.isValid("address"))),e.R7$(3),e.Y8G("ngForOf",s.addresses),e.R7$(),e.Y8G("ngIf",s.isValid("address")),e.R7$(),e.Y8G("ngIf",s.isInvalid("address")),e.R7$(6),e.Y8G("ngClass",e.l_i(16,u,s.isInvalid("number"),s.isValid("number"))),e.R7$(),e.Y8G("ngIf",s.isValid("number")),e.R7$(),e.Y8G("ngIf",s.isInvalid("number")),e.R7$(6),e.Y8G("ngClass",e.l_i(19,u,s.isInvalid("letter"),s.isValid("letter"))),e.R7$(),e.Y8G("ngIf",s.isValid("letter")),e.R7$(),e.Y8G("ngIf",s.isInvalid("letter")),e.R7$(4),e.SpI(" ","PAGES.ACTIONS.CANCEL"," "),e.R7$(2),e.SpI(" ","PAGES.ACTIONS.SAVE"," "))},dependencies:[c.YU,c.Sq,c.bT,o.qT,o.xH,o.y7,o.me,o.wz,o.BC,o.cb,o.j4,o.JD,b.Q],encapsulation:2})}}return n})(),Y=(()=>{class n{constructor(t,i){this.placeService=t,this.activeModal=i,this.sent=new e.bkB}close(){this.activeModal.dismiss("cancel")}confirm(){this.placeService.delete(this.place.id).subscribe({next:()=>{this.close(),this.sent.emit()}})}static{this.\u0275fac=function(i){return new(i||n)(e.rXU(m),e.rXU(d.Lw))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-place-delete"]],inputs:{place:"place"},outputs:{sent:"sent"},decls:20,vars:1,consts:[[1,"modal-content"],[1,"modal-header"],["type","button","data-bs-dismiss","modal","aria-label","Close","id","btn-close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mt-2","text-center"],[1,"text-danger","d-inline-block","remove-item-btn"],[1,"ri-delete-bin-5-fill","fs-48"],[1,"mt-4","pt-2","fs-15","mx-4","mx-sm-5"],[1,"text-muted","mx-4","mb-0"],[1,"d-flex","gap-2","justify-content-center","mt-4","mb-2"],["data-bs-dismiss","modal","id","deleteRecord-close",1,"btn","btn-link","link-success","fw-medium","text-decoration-none",3,"click"],[1,"ri-close-line","me-1","align-middle"],["type","button","id","delete-product",1,"btn","w-sm","btn-danger",3,"click"]],template:function(i,s){1&i&&(e.j41(0,"div",0)(1,"div",1)(2,"button",2),e.bIt("click",function(){return s.close()}),e.k0s()(),e.j41(3,"div",3)(4,"div",4)(5,"a",5),e.nrm(6,"i",6),e.k0s(),e.j41(7,"div",7)(8,"h4"),e.EFF(9,"Voc\xea est\xe1 certo que quer deletar isso ?"),e.k0s(),e.j41(10,"p",8),e.EFF(11,"Essa a\xe7\xe3o n\xe3o pode ser desfeita."),e.k0s(),e.j41(12,"p",8),e.EFF(13),e.k0s()()(),e.j41(14,"div",9)(15,"button",10),e.bIt("click",function(){return s.close()}),e.nrm(16,"i",11),e.EFF(17," Cancelar "),e.k0s(),e.j41(18,"button",12),e.bIt("click",function(){return s.confirm()}),e.EFF(19," Sim, Eu quero deletar! "),e.k0s()()()()),2&i&&(e.R7$(13),e.JRh(s.place.address+" "+s.place.number+" "+s.place.letter))},encapsulation:2})}}return n})();var x=l(6364),D=l(6356),_=l(7186),M=l(43);function X(n,a){if(1&n){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td",14)(8,"ul",15)(9,"li",16),e.bIt("click",function(){const s=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.delete(s))}),e.j41(10,"a",17),e.nrm(11,"i",18),e.k0s()()()()()}if(2&n){const t=a.$implicit;e.R7$(2),e.JRh(t.address),e.R7$(2),e.JRh(t.number),e.R7$(2),e.JRh(t.letter)}}const O=[{path:"",component:(()=>{class n{ngOnInit(){this.breadCrumbItems=[{label:"Dashboards"},{label:"Resid\xeancias",active:!0}],this.search()}constructor(t,i){this.service=t,this.modalService=i,this.places=[],this.loading=!0}search(){this.loading=!0,this.service.get().subscribe({next:t=>{this.places=t,this.loading=!1},error:()=>{this.loading=!1}})}create(){this.openModal(U)}delete(t){this.openModal(Y,{place:t})}edit(t){}openModal(t,i){const s=this.modalService.open(t,{centered:!0}).componentInstance;i&&Object.assign(s,i),s.sent.subscribe(()=>this.search())}static{this.\u0275fac=function(i){return new(i||n)(e.rXU(m),e.rXU(d.Bq))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-place"]],decls:25,vars:2,consts:[["title","Resid\xeancias",3,"breadcrumbItems"],[1,"row"],[1,"col-lg-12"],[1,"card-title","flex-grow-1","mb-0"],[1,"d-flex","gap-1","flex-wrap"],["btnType","success","outline","",3,"click"],[1,"table-responsive","table-card"],[1,"table","align-middle","table-nowrap","mb-0","table-gridjs"],[1,"table-light"],[1,"col-9"],[1,"col-1"],[1,"col-1","text-center"],[1,"list","form-check-all"],[4,"ngFor","ngForOf"],[1,"text-center"],[1,"list-inline","hstack","gap-2","mb-0"],["ngbTooltip","Remove","placement","top","data-bs-toggle","tooltip","data-bs-trigger","hover",1,"list-inline-item","me-0",3,"click"],[1,"text-danger","d-inline-block","remove-item-btn"],[1,"ri-delete-bin-5-fill","fs-16"]],template:function(i,s){1&i&&(e.nrm(0,"app-breadcrumbs",0),e.j41(1,"div",1)(2,"div",2)(3,"app-card")(4,"app-card-header")(5,"h5",3),e.EFF(6,"Resid\xeancias"),e.k0s(),e.j41(7,"div",4)(8,"app-button",5),e.bIt("click",function(){return s.create()}),e.EFF(9," Adicionar "),e.k0s()()(),e.j41(10,"app-card-body")(11,"div",6)(12,"table",7)(13,"thead",8)(14,"tr")(15,"th",9),e.EFF(16,"Name"),e.k0s(),e.j41(17,"th",10),e.EFF(18,"N\xfamero"),e.k0s(),e.j41(19,"th",10),e.EFF(20,"Letra"),e.k0s(),e.j41(21,"th",11),e.EFF(22,"Action"),e.k0s()()(),e.j41(23,"tbody",12),e.DNE(24,X,12,3,"tr",13),e.k0s()()()()()()()),2&i&&(e.Y8G("breadcrumbItems",s.breadCrumbItems),e.R7$(24),e.Y8G("ngForOf",s.places))},dependencies:[c.Sq,x.m,b.Q,D.i,_.l,M.q],encapsulation:2})}}return n})()}];let B=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=e.$C({type:n})}static{this.\u0275inj=e.G2t({imports:[f.iI.forChild(O),f.iI]})}}return n})(),L=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=e.$C({type:n})}static{this.\u0275inj=e.G2t({providers:[m],imports:[v.M.pick(F.Wzl),c.MD,C.G,h.h,o.X1,d.c9,g.i,B]})}}return n})()}}]);