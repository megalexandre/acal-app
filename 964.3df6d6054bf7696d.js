"use strict";(self.webpackChunkvelzon=self.webpackChunkvelzon||[]).push([[964],{115:(y,v,r)=>{r.d(v,{i:()=>f});var c=r(177),i=r(9417),C=r(9830),g=r(4438);let u=(()=>{class p{static{this.\u0275fac=function(b){return new(b||p)}}static{this.\u0275mod=g.$C({type:p})}static{this.\u0275inj=g.G2t({imports:[c.MD]})}}return p})(),h=(()=>{class p{static{this.\u0275fac=function(b){return new(b||p)}}static{this.\u0275mod=g.$C({type:p})}static{this.\u0275inj=g.G2t({imports:[c.MD]})}}return p})();var m=r(7276);let f=(()=>{class p{static{this.\u0275fac=function(b){return new(b||p)}}static{this.\u0275mod=g.$C({type:p})}static{this.\u0275inj=g.G2t({providers:[(0,C.Dw)(),m.t],imports:[c.MD,u,h,i.YN,i.X1,u,h]})}}return p})()},9459:(y,v,r)=>{r.d(v,{Q:()=>g});var c=r(4438),i=r(177);const C=["*"];let g=(()=>{class u{constructor(){this.type="button",this.btnType="primary",this.disabled=!1,this.outline=!1}get buttonClasses(){return["btn",`${this.isOutline?"btn-outline":"btn"}-${this.btnType}`]}get isOutline(){return""===this.outline||!0===this.outline||"true"===this.outline}static{this.\u0275fac=function(f){return new(f||u)}}static{this.\u0275cmp=c.VBU({type:u,selectors:[["app-button"]],inputs:{type:"type",btnType:"btnType",disabled:"disabled",outline:"outline"},ngContentSelectors:C,decls:2,vars:3,consts:[[3,"type","ngClass","disabled"]],template:function(f,p){1&f&&(c.NAR(),c.j41(0,"button",0),c.SdG(1),c.k0s()),2&f&&c.Y8G("type",p.type)("ngClass",p.buttonClasses)("disabled",p.disabled)},dependencies:[i.YU],encapsulation:2})}}return u})()},43:(y,v,r)=>{r.d(v,{q:()=>C});var c=r(4438);const i=["*"];let C=(()=>{class g{static{this.\u0275fac=function(m){return new(m||g)}}static{this.\u0275cmp=c.VBU({type:g,selectors:[["app-card-body"]],ngContentSelectors:i,decls:2,vars:0,consts:[[1,"card-body"]],template:function(m,f){1&m&&(c.NAR(),c.j41(0,"div",0),c.SdG(1),c.k0s())},encapsulation:2})}}return g})()},7186:(y,v,r)=>{r.d(v,{l:()=>C});var c=r(4438);const i=["*"];let C=(()=>{class g{static{this.\u0275fac=function(m){return new(m||g)}}static{this.\u0275cmp=c.VBU({type:g,selectors:[["app-card-header"]],ngContentSelectors:i,decls:2,vars:0,consts:[[1,"card-header","d-flex","align-items-center"]],template:function(m,f){1&m&&(c.NAR(),c.j41(0,"div",0),c.SdG(1),c.k0s())},encapsulation:2})}}return g})()},6356:(y,v,r)=>{r.d(v,{i:()=>g});var c=r(4438);const i=[[["app-card-header"]],[["app-card-body"]],[["app-card-footer"]]],C=["app-card-header","app-card-body","app-card-footer"];let g=(()=>{class u{static{this.\u0275fac=function(f){return new(f||u)}}static{this.\u0275cmp=c.VBU({type:u,selectors:[["app-card"]],ngContentSelectors:C,decls:4,vars:0,consts:[[1,"card"]],template:function(f,p){1&f&&(c.NAR(i),c.j41(0,"div",0),c.SdG(1),c.SdG(2,1),c.SdG(3,2),c.k0s())},encapsulation:2})}}return u})()},7276:(y,v,r)=>{r.d(v,{t:()=>C});class c{static isValid(u){if(!u||/^(\d)\1+$/.test(u)||11!==u.length)return!1;let h=0;for(let p=0;p<9;p++)h+=parseInt(u.charAt(p))*(10-p);let m=10*h%11;if(m>=10&&(m=0),m!==parseInt(u.charAt(9)))return!1;h=0;for(let p=0;p<10;p++)h+=parseInt(u.charAt(p))*(11-p);let f=10*h%11;return f>=10&&(f=0),f===parseInt(u.charAt(10))}static valid(){return u=>{const h=u.value?.replace(/\D/g,"");return h&&this.isValid(h)?null:{invalidCPF:!0}}}}class i{static isValid(u){if(!u||/^(\d)\1+$/.test(u)||14!==u.length)return!1;const h=m=>{const f=12===m?[5,4,3,2,9,8,7,6,5,4,3,2]:[6,5,4,3,2,9,8,7,6,5,4,3,2],F=u.substring(0,m).split("").map(Number).reduce((b,e,k)=>b+e*f[k],0)%11;return(F<2?0:11-F)===parseInt(u.charAt(m))};return h(12)&&h(13)}static valid(){return u=>{const h=u.value?.replace(/\D/g,"");return h&&this.isValid(h)?null:{invalidCNPJ:!0}}}}class C{static valid(){return u=>{const h=u.value?.replace(/\D/g,"");return!h||11===h.length&&c.isValid(h)||14===h.length&&i.isValid(h)?null:{invalidCpfOrCnpj:!0}}}}},8964:(y,v,r)=>{r.r(v),r.d(v,{LinkModule:()=>pe});var c=r(177),i=r(9417),C=r(9005),g=r(8147),u=r(5464),h=r(6411),m=r(115),f=r(3887),p=r(6354),F=r(5312);class _{constructor(d,t,s,n,a){this.id=d,this.number=t,this.letter=s,this.name=n,this.has_hydrometer=a}static fromJson(d){return new _(d.id,d.number,d.letter,d.name,d.has_hydrometer)}}class b{constructor(d,t,s,n,a,l,he,ge){this.id=d,this.number=t,this.category=s,this.customer=n,this.place=a,this.total=l,this.exclusive_member=he,this.active=ge}static fromJson(d){return new b(d.id,d.number,d.category,d.customer,_.fromJson(d.place),d.total,d.exclusive_member,d.active)}}var e=r(4438),k=r(1626);let M=(()=>{class o{constructor(t){this.http=t,this.apiUrl=`${F.c.apiUrl}/link`}paginate(t){const s={...t,group_name:t.group?t.group.value:null,category_id:t.category?t.category.id:null,address_id:t.address?t.address.name:null};return delete s.group,delete s.category,delete s.address,this.http.post(`${this.apiUrl}/paginate`,s).pipe((0,p.T)(n=>(n.content=n.content.map(a=>b.fromJson(a)),n)))}create(t){return this.http.post(this.apiUrl,t)}update(t){return this.http.put(this.apiUrl,t)}delete(t){return this.http.delete(`${this.apiUrl}/${t}`)}static{this.\u0275fac=function(s){return new(s||o)(e.KVO(k.Qq))}}static{this.\u0275prov=e.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();var T=r(1188),V=r(467),G=r(5794),E=r(9459),S=r(6271),R=r(922);const O=(o,d)=>({"is-invalid":o,"is-valid":d});function D(o,d){if(1&o&&(e.j41(0,"option",5),e.EFF(1),e.k0s()),2&o){const t=d.$implicit;e.Y8G("ngValue",t),e.R7$(),e.SpI(" ",t.name," ")}}function L(o,d){if(1&o&&(e.qex(0),e.j41(1,"optgroup",3),e.nI1(2,"group"),e.DNE(3,D,2,2,"option",4),e.k0s(),e.bVm()),2&o){const t=d.$implicit;e.R7$(),e.Y8G("label",e.bMT(2,2,t.group)),e.R7$(2),e.Y8G("ngForOf",t.categories)}}let j=(()=>{class o{constructor(t){this.service=t,this.disabled=!1,this.control=null,this.groups=[],this.value=null,this.onChange=()=>{},this.onTouch=()=>{},this.loadCategories()}loadCategories(){this.service.get().subscribe({next:t=>{this.groups=this.buildGroups(t)}})}buildGroups(t){return Array.from(new Set(t.map(s=>s.group))).sort((s,n)=>s.localeCompare(n)).map(s=>({group:s,categories:t.filter(n=>n.group===s).sort((n,a)=>n.name.localeCompare(a.name))}))}writeValue(t){this.value=t}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouch=t}setDisabledState(t){this.disabled=t}onSelectionChange(t){this.value=t,this.onChange(t),this.onTouch()}isInvalid(){return!(!this.control||!this.control.invalid||!this.control.dirty&&!this.control.touched)}isValid(){return!(!this.control||!this.control.valid||!this.control.dirty&&!this.control.touched)}static{this.\u0275fac=function(s){return new(s||o)(e.rXU(S.M))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-category-select"]],inputs:{disabled:"disabled",control:"control"},features:[e.Jv_([{provide:i.kq,useExisting:(0,e.Rfq)(()=>o),multi:!0}])],decls:4,vars:8,consts:[[1,"form-select",3,"ngModelChange","disabled","ngClass","ngModel"],[1,"text-muted",3,"ngValue"],[4,"ngFor","ngForOf"],[3,"label"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"]],template:function(s,n){1&s&&(e.j41(0,"select",0),e.mxI("ngModelChange",function(l){return e.DH7(n.value,l)||(n.value=l),l}),e.bIt("ngModelChange",function(l){return n.onSelectionChange(l)}),e.j41(1,"option",1),e.EFF(2,"Selecione..."),e.k0s(),e.DNE(3,L,4,4,"ng-container",2),e.k0s()),2&s&&(e.Y8G("disabled",n.disabled)("ngClass",e.l_i(5,O,n.isInvalid(),n.isValid())),e.R50("ngModel",n.value),e.R7$(),e.Y8G("ngValue",null),e.R7$(2),e.Y8G("ngForOf",n.groups))},dependencies:[c.YU,c.Sq,i.xH,i.y7,i.wz,i.BC,i.vS,R.c],encapsulation:2})}}return o})();var Y=r(6181);function $(o,d){if(1&o&&(e.j41(0,"option",3),e.EFF(1),e.k0s()),2&o){const t=d.$implicit;e.Y8G("ngValue",t),e.R7$(),e.SpI(" ",t.name," ")}}let I=(()=>{class o{constructor(t){this.service=t,this.disabled=!1,this.addresses=[],this.value=null,this.onChange=()=>{},this.onTouch=()=>{},this.loading()}loading(){this.service.get().subscribe({next:t=>this.addresses=t})}writeValue(t){this.value=t}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouch=t}setDisabledState(t){this.disabled=t}onSelectionChange(t){this.value=t,this.onChange(t),this.onTouch()}static{this.\u0275fac=function(s){return new(s||o)(e.rXU(Y.E))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-address-select"]],inputs:{disabled:"disabled"},features:[e.Jv_([{provide:i.kq,useExisting:(0,e.Rfq)(()=>o),multi:!0}])],decls:4,vars:4,consts:[[1,"form-select",3,"ngModelChange","disabled","ngModel"],[1,"text-muted",3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"]],template:function(s,n){1&s&&(e.j41(0,"select",0),e.bIt("ngModelChange",function(l){return n.onSelectionChange(l)}),e.j41(1,"option",1),e.EFF(2,"Selecione..."),e.k0s(),e.DNE(3,$,2,2,"option",2),e.k0s()),2&s&&(e.Y8G("disabled",n.disabled)("ngModel",n.value),e.R7$(),e.Y8G("ngValue",null),e.R7$(2),e.Y8G("ngForOf",n.addresses))},dependencies:[c.Sq,i.xH,i.y7,i.wz,i.BC,i.vS],encapsulation:2})}}return o})();var U=r(2863);const B=(o,d)=>({"is-invalid":o,"is-valid":d});function A(o,d){if(1&o&&(e.j41(0,"option",6),e.EFF(1),e.k0s()),2&o){const t=d.$implicit;e.Y8G("value",t.id),e.R7$(),e.SpI(" ",t.name+" "+t.identity_card," ")}}let w=(()=>{class o{constructor(t){this.customerService=t,this.control=null,this.customers=[],this.value=null,this.disabled=!1,this.onChange=s=>{},this.onTouched=()=>{}}ngOnInit(){this.customerService.get().subscribe(t=>{this.customers=t.sort((s,n)=>s.name.localeCompare(n.name))})}writeValue(t){this.value=t}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t}onSelectChange(t){this.value=this.customers[t.target.selectedIndex-1]??null,this.onChange(this.value),this.onTouched()}isValid(){return!!this.control&&this.control.valid&&(this.control.dirty||this.control.touched)}isInvalid(){return!!this.control&&this.control.invalid&&(this.control.dirty||this.control.touched)}static{this.\u0275fac=function(s){return new(s||o)(e.rXU(U.m))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-customer-select"]],inputs:{control:"control"},features:[e.Jv_([{provide:i.kq,useExisting:(0,e.Rfq)(()=>o),multi:!0}])],decls:9,vars:7,consts:[[1,"mb-3"],[1,"form-label"],[1,"text-danger"],[1,"form-select",3,"change","disabled","ngClass"],["value","","disabled","",3,"selected"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(s,n){1&s&&(e.j41(0,"div",0)(1,"label",1),e.EFF(2,"Usu\xe1rio: "),e.j41(3,"span",2),e.EFF(4,"*"),e.k0s()(),e.j41(5,"select",3),e.bIt("change",function(l){return n.onSelectChange(l)}),e.j41(6,"option",4),e.EFF(7,"Selecione"),e.k0s(),e.DNE(8,A,2,2,"option",5),e.k0s()()),2&s&&(e.R7$(5),e.Y8G("disabled",n.disabled)("ngClass",e.l_i(4,B,n.isInvalid(),n.isValid())),e.R7$(),e.Y8G("selected",null===n.value),e.R7$(2),e.Y8G("ngForOf",n.customers))},dependencies:[c.YU,c.Sq,i.xH,i.y7],encapsulation:2})}}return o})();const N=(o,d)=>({"is-invalid":o,"is-valid":d});let H=(()=>{class o{constructor(){this.label="",this.control=null,this.value=null,this.isDisabled=!1,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this.value=t}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.isDisabled=t}onValueChange(t){this.value=t,this.onChange(t),this.onTouched()}isInvalid(){return!(!this.control||!this.control.invalid||!this.control.dirty&&!this.control.touched)}isValid(){return!(!this.control||!this.control.valid||!this.control.dirty&&!this.control.touched)}static{this.\u0275fac=function(s){return new(s||o)}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-yes-or-no-select"]],inputs:{label:"label",control:"control"},features:[e.Jv_([{provide:i.kq,useExisting:(0,e.Rfq)(()=>o),multi:!0}])],decls:9,vars:10,consts:[[1,"form-label"],[1,"form-select",3,"ngModelChange","ngClass","ngModel","disabled"],[3,"ngValue"]],template:function(s,n){1&s&&(e.j41(0,"label",0),e.EFF(1),e.k0s(),e.j41(2,"select",1),e.mxI("ngModelChange",function(l){return e.DH7(n.value,l)||(n.value=l),l}),e.bIt("ngModelChange",function(l){return n.onValueChange(l)}),e.j41(3,"option",2),e.EFF(4,"Selecione"),e.k0s(),e.j41(5,"option",2),e.EFF(6,"Sim"),e.k0s(),e.j41(7,"option",2),e.EFF(8,"N\xe3o"),e.k0s()()),2&s&&(e.R7$(),e.JRh(n.label),e.R7$(),e.Y8G("ngClass",e.l_i(7,N,n.isInvalid(),n.isValid())),e.R50("ngModel",n.value),e.Y8G("disabled",n.isDisabled),e.R7$(),e.Y8G("ngValue",null),e.R7$(2),e.Y8G("ngValue",!0),e.R7$(2),e.Y8G("ngValue",!1))},dependencies:[c.YU,i.xH,i.y7,i.wz,i.BC,i.vS],encapsulation:2})}}return o})();var J=r(8369);const P=(o,d)=>({"is-invalid":o,"is-valid":d});function X(o,d){if(1&o&&(e.j41(0,"option",5),e.EFF(1),e.k0s()),2&o){const t=d.$implicit;e.Y8G("ngValue",t),e.R7$(),e.SpI(" ",t.number+" "+t.letter," ")}}function z(o,d){if(1&o&&(e.qex(0),e.j41(1,"optgroup",3),e.DNE(2,X,2,2,"option",4),e.k0s(),e.bVm()),2&o){const t=d.$implicit;e.R7$(),e.Y8G("label",t.name),e.R7$(),e.Y8G("ngForOf",t.itens)}}let K=(()=>{class o{constructor(t){this.service=t,this.disabled=!1,this.address=null,this.control=null,this.groups=null,this.value=null,this.onChange=()=>{},this.onTouch=()=>{},this.load()}load(){this.service.get().subscribe({next:t=>{this.groups=this.build(t)}})}ngOnChanges(t){t.address&&this.load()}build(t){const s=t.filter(n=>n.name===this.address?.name);return Array.from(new Set(s.map(n=>n.name))).sort((n,a)=>n.localeCompare(a)).map(n=>({name:n,itens:s.filter(a=>a.name===n).sort((a,l)=>a.name.localeCompare(l.name))}))}writeValue(t){this.value=t}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouch=t}setDisabledState(t){this.disabled=t}onSelectionChange(t){this.value=t,this.onChange(t),this.onTouch()}isInvalid(){return!(!this.control||!this.control.invalid||!this.control.dirty&&!this.control.touched)}isValid(){return!(!this.control||!this.control.valid||!this.control.dirty&&!this.control.touched)}static{this.\u0275fac=function(s){return new(s||o)(e.rXU(J.Z))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-place-address-select"]],inputs:{disabled:"disabled",address:"address",control:"control"},features:[e.Jv_([{provide:i.kq,useExisting:(0,e.Rfq)(()=>o),multi:!0}]),e.OA$],decls:4,vars:8,consts:[[1,"form-select",3,"ngModelChange","disabled","ngClass","ngModel"],[1,"text-muted",3,"ngValue"],[4,"ngFor","ngForOf"],[3,"label"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"]],template:function(s,n){1&s&&(e.j41(0,"select",0),e.mxI("ngModelChange",function(l){return e.DH7(n.value,l)||(n.value=l),l}),e.bIt("ngModelChange",function(l){return n.onSelectionChange(l)}),e.j41(1,"option",1),e.EFF(2,"Selecione..."),e.k0s(),e.DNE(3,z,3,2,"ng-container",2),e.k0s()),2&s&&(e.Y8G("disabled",n.disabled)("ngClass",e.l_i(5,P,n.isInvalid(),n.isValid())),e.R50("ngModel",n.value),e.R7$(),e.Y8G("ngValue",null),e.R7$(2),e.Y8G("ngForOf",n.groups))},dependencies:[c.YU,c.Sq,i.xH,i.y7,i.wz,i.BC,i.vS],encapsulation:2})}}return o})();const W=()=>({standalone:!0});let Q=(()=>{class o{constructor(t,s,n,a){this.fb=t,this.service=s,this.activeModal=n,this.t=a,this.sent=new e.bkB,this.submitted=!1,this.address=null,this.form=this.fb.group({number:["A",[i.k0.required]],customer_id:[null,[i.k0.required]],place_id:[null,[i.k0.required]],category_id:[null,[i.k0.required]],exclusive_member:[null,[i.k0.required]]})}ngOnInit(){}onSubmit(){var t=this;return(0,V.A)(function*(){t.submitted=!0,t.form.markAllAsTouched(),t.form.valid&&t.service.create({number:"2025",customer_id:t.customerControl.value.id,place_id:t.placeControl.value.id,category_id:t.categoryControl.value.id,exclusive_member:t.exclusiveMenberControl.value}).subscribe({next:()=>{t.sent.emit(),t.close()},error:n=>{t.form.reset(),t.t.error("Error",n)}})})()}close(){this.activeModal.close()}isValid(t){return this.getControl(t)?.valid&&this.submitted||!1}isInvalid(t){return this.getControl(t)?.invalid&&this.submitted||!1}getControl(t){return this.form.get(t)}get customerControl(){return this.form.get("customer_id")}get categoryControl(){return this.form.get("category_id")}get exclusiveMenberControl(){return this.form.get("exclusive_member")}get placeControl(){return this.form.get("place_id")}static{this.\u0275fac=function(s){return new(s||o)(e.rXU(i.ok),e.rXU(M),e.rXU(C.Lw),e.rXU(G.tw))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["ng-component"]],outputs:{sent:"sent"},decls:33,vars:10,consts:[[3,"ngSubmit","formGroup"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","outline","","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["formControlName","customer_id",3,"control"],[1,"mb-3"],[1,"form-label"],[1,"text-danger"],["formControlName","category_id",3,"control"],[3,"ngModelChange","ngModel","ngModelOptions"],["formControlName","place_id",3,"address","control","disabled"],["formControlName","exclusive_member","label","\xc9 exclusivamente s\xf3cio?",3,"control"],[1,"modal-footer"],[1,"d-flex","justify-content-between","col-12"],["type","button","btnType","secondary","outline","",3,"click"],["type","submit","btnType","success","outline",""]],template:function(s,n){1&s&&(e.j41(0,"form",0),e.bIt("ngSubmit",function(){return n.onSubmit()}),e.j41(1,"div",1)(2,"h5",2),e.EFF(3,"Criar Liga\xe7\xe3o"),e.k0s(),e.j41(4,"button",3),e.bIt("click",function(){return n.close()}),e.k0s()(),e.j41(5,"div",4),e.nrm(6,"app-customer-select",5),e.j41(7,"div",6)(8,"label",7),e.EFF(9,"Categoria: "),e.j41(10,"span",8),e.EFF(11,"*"),e.k0s()(),e.nrm(12,"app-category-select",9),e.k0s(),e.j41(13,"div",6)(14,"label",7),e.EFF(15," Rua: "),e.j41(16,"span",8),e.EFF(17,"*"),e.k0s()(),e.j41(18,"app-address-select",10),e.mxI("ngModelChange",function(l){return e.DH7(n.address,l)||(n.address=l),l}),e.k0s()(),e.j41(19,"div",6)(20,"label",7),e.EFF(21," Local: "),e.j41(22,"span",8),e.EFF(23,"*"),e.k0s()(),e.nrm(24,"app-place-address-select",11),e.k0s(),e.j41(25,"div",6),e.nrm(26,"app-yes-or-no-select",12),e.k0s()(),e.j41(27,"div",13)(28,"div",14)(29,"app-button",15),e.bIt("click",function(){return n.close()}),e.EFF(30," Cancelar "),e.k0s(),e.j41(31,"app-button",16),e.EFF(32," Salvar "),e.k0s()()()()),2&s&&(e.Y8G("formGroup",n.form),e.R7$(6),e.Y8G("control",n.customerControl),e.R7$(6),e.Y8G("control",n.categoryControl),e.R7$(6),e.R50("ngModel",n.address),e.Y8G("ngModelOptions",e.lJ4(9,W)),e.R7$(6),e.Y8G("address",n.address)("control",n.placeControl)("disabled",!n.address),e.R7$(2),e.Y8G("control",n.exclusiveMenberControl))},dependencies:[i.qT,i.BC,i.cb,i.vS,i.j4,i.JD,E.Q,j,I,w,H,K],encapsulation:2})}}return o})();var Z=r(9830);let q=(()=>{class o{constructor(){this.value="",this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this.value=t||""}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}onChangeValue(t){this.value=t,this.onChange(t)}static{this.\u0275fac=function(s){return new(s||o)}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["monetary"]],features:[e.Jv_([{provide:i.kq,useExisting:(0,e.Rfq)(()=>o),multi:!0}])],decls:1,vars:2,consts:[["type","text","mask","separator.2","thousandSeparator",".","placeholder","0,00","decimalMarker",",",1,"form-control",3,"ngModelChange","blur","dropSpecialCharacters","ngModel"]],template:function(s,n){1&s&&(e.j41(0,"input",0),e.bIt("ngModelChange",function(l){return n.onChangeValue(l)})("blur",function(){return n.onTouched()}),e.k0s()),2&s&&e.Y8G("dropSpecialCharacters",!1)("ngModel",n.value)},dependencies:[i.me,i.BC,i.vS,Z.Zr],encapsulation:2})}}return o})();var x=r(6356),ee=r(7186),te=r(43),ne=r(272),oe=r(1272);const se=(o,d)=>({"is-invalid":o,"is-valid":d});function ie(o,d){if(1&o&&(e.j41(0,"option",3),e.EFF(1),e.k0s()),2&o){const t=d.$implicit;e.Y8G("ngValue",t),e.R7$(),e.SpI(" ",t.name," ")}}let le=(()=>{class o{constructor(t){this.service=t,this.disabled=!1,this.control=null,this.value=null,this.groups=[],this.onChange=()=>{},this.onTouch=()=>{},this.loadCategories()}loadCategories(){this.service.getGroups().subscribe({next:t=>{this.groups=t}})}writeValue(t){this.value=t}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouch=t}setDisabledState(t){this.disabled=t}onSelectionChange(t){this.value=t,this.onChange(t),this.onTouch()}isInvalid(){return!(!this.control||!this.control.invalid||!this.control.dirty&&!this.control.touched)}isValid(){return!(!this.control||!this.control.valid||!this.control.dirty&&!this.control.touched)}static{this.\u0275fac=function(s){return new(s||o)(e.rXU(S.M))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-group-select"]],inputs:{disabled:"disabled",control:"control"},features:[e.Jv_([{provide:i.kq,useExisting:(0,e.Rfq)(()=>o),multi:!0}])],decls:4,vars:8,consts:[[1,"form-select",3,"ngModelChange","disabled","ngClass","ngModel"],[1,"text-muted",3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"]],template:function(s,n){1&s&&(e.j41(0,"select",0),e.mxI("ngModelChange",function(l){return e.DH7(n.value,l)||(n.value=l),l}),e.bIt("ngModelChange",function(l){return n.onSelectionChange(l)}),e.j41(1,"option",1),e.EFF(2,"Selecione..."),e.k0s(),e.DNE(3,ie,2,2,"option",2),e.k0s()),2&s&&(e.Y8G("disabled",n.disabled)("ngClass",e.l_i(5,se,n.isInvalid(),n.isValid())),e.R50("ngModel",n.value),e.R7$(),e.Y8G("ngValue",null),e.R7$(2),e.Y8G("ngForOf",n.groups))},dependencies:[c.YU,c.Sq,i.xH,i.y7,i.wz,i.BC,i.vS],encapsulation:2})}}return o})();function ae(o,d){if(1&o){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.nI1(5,"group"),e.k0s(),e.j41(6,"td"),e.EFF(7),e.k0s(),e.j41(8,"td"),e.EFF(9),e.k0s(),e.j41(10,"td"),e.EFF(11),e.k0s(),e.j41(12,"td"),e.EFF(13),e.nI1(14,"currency"),e.k0s(),e.j41(15,"td",43)(16,"ul",44)(17,"li",45)(18,"a",46),e.bIt("click",function(){const n=e.eBV(t).$implicit,a=e.XpG(3);return e.Njj(a.delete(n))}),e.nrm(19,"i",47),e.k0s()()()()()}if(2&o){const t=d.$implicit;e.R7$(2),e.JRh(t.customer.name),e.R7$(2),e.Lme("",e.bMT(5,7,t.category.group)," ",t.category.name,""),e.R7$(3),e.JRh(t.place.name),e.R7$(2),e.JRh(t.place.number),e.R7$(2),e.JRh(t.place.letter),e.R7$(2),e.JRh(e.i5U(14,9,t.total,"BRL"))}}function re(o,d){if(1&o&&(e.j41(0,"tbody",41),e.DNE(1,ae,20,12,"tr",42),e.k0s()),2&o){const t=e.XpG(2);e.R7$(),e.Y8G("ngForOf",t.page.content)("ngForTrackBy",t.trackById)}}function ce(o,d){if(1&o&&(e.j41(0,"div",32)(1,"table",33)(2,"thead",34)(3,"tr")(4,"th",35),e.EFF(5,"Nome"),e.k0s(),e.j41(6,"th",36),e.EFF(7,"Categoria"),e.k0s(),e.j41(8,"th",37),e.EFF(9,"Local"),e.k0s(),e.j41(10,"th",38),e.EFF(11,"N\xfamero"),e.k0s(),e.j41(12,"th",38),e.EFF(13,"Letra"),e.k0s(),e.j41(14,"th",38),e.EFF(15,"Valor"),e.k0s(),e.j41(16,"th",39),e.EFF(17,"A\xe7\xf5es"),e.k0s()()(),e.DNE(18,re,2,2,"tbody",40),e.k0s()()),2&o){const t=e.XpG();e.R7$(18),e.Y8G("ngIf",!t.loading)}}const de=[{path:"",component:(()=>{class o{constructor(t,s){this.service=t,this.modalService=s,this.reference=null,this.page=null,this.filter={category:null,address:null,letter:null,group:null,number:null,page:0,size:20,sort_orders:[{property:"customer.normalizedName",direction:"ASC"}]},this.loading=!0}ngOnInit(){this.search()}onPageChange(t){this.filter.page=t-1,this.search()}search(){this.loading=!0,this.service.paginate(this.filter).subscribe({next:t=>{this.page=t,this.loading=!1},error:()=>{this.loading=!1}})}clear(){this.filter={category:null,address:null,group:null,letter:null,number:null,page:0,size:20,sort_orders:[{property:"customer.normalizedName",direction:"ASC"}]},this.search()}trackById(t,s){return s.id}loadPage(t){this.page&&(t<0||t>=this.page.total_pages||(this.filter.page=t,this.search()))}create(){this.openModal(Q)}delete(t){}edit(t){}openModal(t,s){const n=this.modalService.open(t,{centered:!0}).componentInstance;s&&Object.assign(n,s),n.sent.subscribe(()=>this.search())}static{this.\u0275fac=function(s){return new(s||o)(e.rXU(M),e.rXU(C.Bq))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-link"]],decls:66,vars:9,consts:[[1,"row","mb-3"],[1,"col-lg-12"],[1,"accordion","w-100"],[1,"accordion-item"],["id","headingOne",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseOne","aria-expanded","false","aria-controls","collapseOne",1,"accordion-button","collapsed"],["id","collapseOne","aria-labelledby","headingOne","data-bs-parent","#accordionExample",1,"accordion-collapse","collapse"],[1,"accordion-body"],[1,"container-fluid"],[1,"row","g-2","align-items-end"],[1,"col-md-6","col-12"],[1,"form-label"],["type","text","placeholder","Nome",1,"form-control",3,"ngModelChange","keydown.enter","ngModel"],[1,"col-md-3","col-12"],[3,"ngModelChange","change","ngModel"],[1,"col-md-2","col-4"],["type","text","placeholder","N\xba",1,"form-control",3,"ngModelChange","keydown.enter","ngModel"],["type","text","placeholder","Letra",1,"form-control",3,"ngModelChange","keydown.enter","ngModel"],["placeholder","Valor",3,"ngModelChange","keydown.enter","ngModel"],[1,"row"],[1,"col-6","col-md-3","offset-md-6","d-grid"],[1,"form-label","invisible"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"mdi","mdi-magnify"],[1,"col-6","col-md-3","d-grid"],["type","button",1,"btn","btn-outline-primary",3,"click"],[1,"card-title","flex-grow-1","mb-0"],[1,"d-flex","gap-1","flex-wrap","justify-content-end"],["btnType","success","outline","",3,"click"],[1,"ri-add-line","me-1"],["class","table-responsive table-card",4,"ngIf"],[3,"pageChange","page"],[1,"table-responsive","table-card"],[1,"table","table-hover","table-striped","align-middle","table-nowrap","mb-0"],[1,"table-light"],[2,"width","40%"],[2,"width","20%"],[2,"width","10%"],[2,"width","5%"],[1,"text-center",2,"width","5%"],["class","list form-check-all",4,"ngIf"],[1,"list","form-check-all"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"text-center"],[1,"list-inline","hstack","gap-2","mb-0","justify-content-center"],[1,"list-inline-item"],["ngbTooltip","Remover","placement","top",1,"text-danger",3,"click"],[1,"ri-delete-bin-5-fill","fs-16"]],template:function(s,n){1&s&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4)(5,"button",5),e.EFF(6,"Filtros"),e.k0s()(),e.j41(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"div",10)(12,"label",11),e.EFF(13,"Nome"),e.k0s(),e.j41(14,"input",12),e.mxI("ngModelChange",function(l){return e.DH7(n.filter.name,l)||(n.filter.name=l),l}),e.bIt("keydown.enter",function(){return n.search()}),e.k0s()(),e.j41(15,"div",13)(16,"label",11),e.EFF(17,"Grupos"),e.k0s(),e.j41(18,"app-group-select",14),e.mxI("ngModelChange",function(l){return e.DH7(n.filter.group,l)||(n.filter.group=l),l}),e.bIt("change",function(){return n.search()}),e.k0s()(),e.j41(19,"div",13)(20,"label",11),e.EFF(21,"Categoria"),e.k0s(),e.j41(22,"app-category-select",14),e.mxI("ngModelChange",function(l){return e.DH7(n.filter.category,l)||(n.filter.category=l),l}),e.bIt("change",function(){return n.search()}),e.k0s()(),e.j41(23,"div",10)(24,"label",11),e.EFF(25,"Endere\xe7o"),e.k0s(),e.j41(26,"app-address-select",14),e.mxI("ngModelChange",function(l){return e.DH7(n.filter.address,l)||(n.filter.address=l),l}),e.bIt("change",function(){return n.search()}),e.k0s()(),e.j41(27,"div",15)(28,"label",11),e.EFF(29,"N\xfamero"),e.k0s(),e.j41(30,"input",16),e.mxI("ngModelChange",function(l){return e.DH7(n.filter.number,l)||(n.filter.number=l),l}),e.bIt("keydown.enter",function(){return n.search()}),e.k0s()(),e.j41(31,"div",15)(32,"label",11),e.EFF(33,"Letra"),e.k0s(),e.j41(34,"input",17),e.mxI("ngModelChange",function(l){return e.DH7(n.filter.letter,l)||(n.filter.letter=l),l}),e.bIt("keydown.enter",function(){return n.search()}),e.k0s()(),e.j41(35,"div",15)(36,"label",11),e.EFF(37,"Valor"),e.k0s(),e.j41(38,"monetary",18),e.mxI("ngModelChange",function(l){return e.DH7(n.filter.total,l)||(n.filter.total=l),l}),e.bIt("keydown.enter",function(){return n.search()}),e.k0s()()(),e.j41(39,"div",19)(40,"div",20)(41,"label",21),e.EFF(42,"Limpar"),e.k0s(),e.j41(43,"button",22),e.bIt("click",function(){return n.clear()}),e.nrm(44,"i",23),e.EFF(45," Limpar"),e.k0s()(),e.j41(46,"div",24)(47,"label",21),e.EFF(48,"Buscar"),e.k0s(),e.j41(49,"button",25),e.bIt("click",function(){return n.search()}),e.nrm(50,"i",23),e.EFF(51," Buscar"),e.k0s()()()()()()()()()(),e.j41(52,"div",19)(53,"div",1)(54,"app-card")(55,"app-card-header")(56,"h5",26),e.EFF(57,"Liga\xe7\xf5es"),e.k0s(),e.j41(58,"div",27)(59,"app-button",28),e.bIt("click",function(){return n.create()}),e.nrm(60,"i",29),e.EFF(61," Adicionar "),e.k0s()()(),e.j41(62,"app-card-body"),e.DNE(63,ce,19,1,"div",30),e.k0s(),e.j41(64,"app-card-footer")(65,"app-pagination",31),e.bIt("pageChange",function(l){return n.onPageChange(l)}),e.k0s()()()()()),2&s&&(e.R7$(14),e.R50("ngModel",n.filter.name),e.R7$(4),e.R50("ngModel",n.filter.group),e.R7$(4),e.R50("ngModel",n.filter.category),e.R7$(4),e.R50("ngModel",n.filter.address),e.R7$(4),e.R50("ngModel",n.filter.number),e.R7$(4),e.R50("ngModel",n.filter.letter),e.R7$(4),e.R50("ngModel",n.filter.total),e.R7$(25),e.Y8G("ngIf",n.page),e.R7$(2),e.Y8G("page",n.page))},dependencies:[c.Sq,c.bT,i.me,i.BC,i.vS,q,E.Q,x.i,ee.l,te.q,ne.R,j,I,oe.e,le,c.oe,R.c],encapsulation:2})}}return o})()}];let ue=(()=>{class o{static{this.\u0275fac=function(s){return new(s||o)}}static{this.\u0275mod=e.$C({type:o})}static{this.\u0275inj=e.G2t({imports:[T.iI.forChild(de),T.iI]})}}return o})(),pe=(()=>{class o{static{this.\u0275fac=function(s){return new(s||o)}}static{this.\u0275mod=e.$C({type:o})}static{this.\u0275inj=e.G2t({providers:[M],imports:[c.MD,i.YN,i.X1,ue,u.M.pick(h.Wzl),C.c9,f.G,g.h,m.i]})}}return o})()}}]);