"use strict";(self.webpackChunkvelzon=self.webpackChunkvelzon||[]).push([[353],{6353:(j,p,a)=>{a.r(p),a.d(p,{AddressModule:()=>y});var h=a(177),i=a(9417),c=a(8147),b=a(3887),o=a(1188),f=a(467),t=a(3953),A=a(5312),S=a(1626);let l=(()=>{class s{constructor(e){this.http=e,this.apiUrl=`${A.c.apiUrl}/address`}getAddresses(){return this.http.get(this.apiUrl)}createAddress(e){return this.http.post(this.apiUrl,e)}updateAddress(e){return this.http.put(this.apiUrl,e)}deleteAddress(e){return this.http.delete(`${this.apiUrl}/${e}`)}static{this.\u0275fac=function(r){return new(r||s)(t.KVO(S.Qq))}}static{this.\u0275prov=t.jDH({token:s,factory:s.\u0275fac})}}return s})(),v=(()=>{class s{constructor(e,r,n,d){this.fb=e,this.addressService=r,this.router=n,this.route=d,this.addressForm=this.fb.group({name:["",i.k0.required]})}onSubmit(){var e=this;return(0,f.A)(function*(){e.addressForm.valid&&e.addressService.createAddress(e.addressForm.value).subscribe({next:()=>e.back(),error:()=>e.addressForm.reset()})})()}back(){this.router.navigate(["../"],{relativeTo:this.route})}static{this.\u0275fac=function(r){return new(r||s)(t.rXU(i.ok),t.rXU(l),t.rXU(o.Ix),t.rXU(o.nX))}}static{this.\u0275cmp=t.VBU({type:s,selectors:[["app-address-create"]],decls:11,vars:11,consts:[[3,"ngSubmit","formGroup"],[1,"input-group","mb-3"],["type","text","formControlName","name",1,"form-control",3,"placeholder"],["type","submit",1,"btn","btn-success",3,"disabled"],[1,"ri-check-line"],["type","button",1,"btn","btn-secondary","ms-2",3,"click"]],template:function(r,n){1&r&&(t.j41(0,"form",0),t.bIt("ngSubmit",function(){return n.onSubmit()}),t.j41(1,"div",1),t.nrm(2,"input",2),t.nI1(3,"translate"),t.j41(4,"button",3)(5,"i",4),t.EFF(6),t.nI1(7,"translate"),t.k0s()(),t.j41(8,"button",5),t.bIt("click",function(){return n.back()}),t.EFF(9),t.nI1(10,"translate"),t.k0s()()()),2&r&&(t.Y8G("formGroup",n.addressForm),t.R7$(2),t.FS9("placeholder",t.bMT(3,5,"PAGES.ADDRESS.NAME")),t.R7$(2),t.Y8G("disabled",n.addressForm.invalid),t.R7$(2),t.SpI(" ",t.bMT(7,7,"PAGES.ACTIONS.SAVE")," "),t.R7$(3),t.SpI(" ",t.bMT(10,9,"PAGES.ACTIONS.CANCEL")," "))},dependencies:[i.qT,i.me,i.BC,i.cb,i.j4,i.JD,c.D9],encapsulation:2})}}return s})();var E=a(6364);let I=(()=>{class s{ngOnInit(){this.breadCrumbItems=[{label:"Dashboards"},{label:"Endere\xe7os",active:!0}]}static{this.\u0275fac=function(r){return new(r||s)}}static{this.\u0275cmp=t.VBU({type:s,selectors:[["app-address"]],decls:2,vars:1,consts:[["title","Endere\xe7os",3,"breadcrumbItems"]],template:function(r,n){1&r&&t.nrm(0,"app-breadcrumbs",0)(1,"router-outlet"),2&r&&t.Y8G("breadcrumbItems",n.breadCrumbItems)},dependencies:[o.n3,E.m],encapsulation:2})}}return s})();var C=a(4412);let u=(()=>{class s{constructor(){this.selectedAddress=new C.t(null),this.selectedAddress$=this.selectedAddress.asObservable()}setSelected(e){this.selectedAddress.next(e)}static{this.\u0275fac=function(r){return new(r||s)}}static{this.\u0275prov=t.jDH({token:s,factory:s.\u0275fac})}}return s})();const F=()=>["add"];function T(s,G){if(1&s){const e=t.RV6();t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td")(4,"div",14)(5,"button",15),t.bIt("click",function(){const n=t.eBV(e).$implicit,d=t.XpG();return t.Njj(d.edit(n))}),t.EFF(6),t.nI1(7,"translate"),t.k0s(),t.j41(8,"button",16),t.bIt("click",function(){const n=t.eBV(e).$implicit,d=t.XpG();return t.Njj(d.delete(n))}),t.EFF(9),t.nI1(10,"translate"),t.k0s()()()()}if(2&s){const e=G.$implicit;t.R7$(2),t.JRh(e.name),t.R7$(4),t.SpI(" ",t.bMT(7,3,"PAGES.ACTIONS.EDIT")," "),t.R7$(3),t.SpI(" ",t.bMT(10,5,"PAGES.ACTIONS.DELETE")," ")}}const k=[{path:"",component:I,children:[{path:"",component:(()=>{class s{constructor(e,r,n,d){this.addressService=e,this.shared=r,this.router=n,this.route=d,this.addresses=[],this.loading=!0}ngOnInit(){this.loading=!0,this.addressService.getAddresses().subscribe(e=>{this.addresses=e,this.loading=!1},()=>{this.loading=!1})}edit(e){this.shared.setSelected(e),this.router.navigate(["edit"],{relativeTo:this.route.parent})}delete(e){this.shared.setSelected(e),this.router.navigate(["delete"],{relativeTo:this.route.parent})}static{this.\u0275fac=function(r){return new(r||s)(t.rXU(l),t.rXU(u),t.rXU(o.Ix),t.rXU(o.nX))}}static{this.\u0275cmp=t.VBU({type:s,selectors:[["app-address-list"]],decls:20,vars:9,consts:[[1,"row"],[1,"col-xl-12"],[1,"card"],[1,"card-header","align-items-center","d-flex"],[1,"card-title","align-middle","mb-0","flex-grow-1"],[1,"card-body"],[1,"table-responsive","table-card","mt-3","mb-1"],[1,"table","align-middle","table-nowrap","table-striped-columns","mb-0"],[1,"table-light"],[1,"col-11"],[1,"col-1"],["type","button",1,"btn","btn-success","w-100",3,"routerLink"],[1,"ri-file-add-line","align-bottom","me-1"],[4,"ngFor","ngForOf"],[1,"d-flex","gap-2"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-danger",3,"click"]],template:function(r,n){1&r&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4",4),t.EFF(5),t.nI1(6,"translate"),t.k0s()(),t.j41(7,"div",5)(8,"div",6)(9,"table",7)(10,"thead",8)(11,"tr")(12,"th",9),t.EFF(13),t.nI1(14,"translate"),t.k0s(),t.j41(15,"th",10)(16,"button",11),t.nrm(17,"i",12),t.k0s()()()(),t.j41(18,"tbody"),t.DNE(19,T,11,7,"tr",13),t.k0s()()()()()()()),2&r&&(t.R7$(5),t.JRh(t.bMT(6,4,"PAGES.ADDRESS.TITLE")),t.R7$(8),t.SpI("",t.bMT(14,6,"PAGES.ADDRESS.NAME"),":"),t.R7$(3),t.Y8G("routerLink",t.lJ4(8,F)),t.R7$(3),t.Y8G("ngForOf",n.addresses))},dependencies:[h.Sq,o.Wk,c.D9],encapsulation:2})}}return s})()},{path:"add",component:v},{path:"delete",component:(()=>{class s{constructor(e,r,n,d){this.addressService=e,this.shared=r,this.router=n,this.route=d,this.address=null,this.shared.selectedAddress$.subscribe(m=>{m?this.address=m:this.back()})}confirmDelete(){this.address&&this.addressService.deleteAddress(this.address.id).subscribe({next:()=>this.back()})}back(){this.router.navigate(["../"],{relativeTo:this.route})}static{this.\u0275fac=function(r){return new(r||s)(t.rXU(l),t.rXU(u),t.rXU(o.Ix),t.rXU(o.nX))}}static{this.\u0275cmp=t.VBU({type:s,selectors:[["app-address-delete"]],decls:13,vars:10,consts:[[1,"modal-body"],[1,"mb-3"],[1,"input-group","mb-3"],["type","text","disabled","",1,"form-control",3,"value"],["type","button",1,"btn","btn-danger",3,"click"],[1,"ri-delete-bin-2-line"],["type","button","routerLink","../",1,"btn","btn-secondary","ms-2"]],template:function(r,n){1&r&&(t.j41(0,"div",0)(1,"p",1),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"div",2),t.nrm(5,"input",3),t.j41(6,"button",4),t.bIt("click",function(){return n.confirmDelete()}),t.nrm(7,"i",5),t.EFF(8),t.nI1(9,"translate"),t.k0s(),t.j41(10,"button",6),t.EFF(11),t.nI1(12,"translate"),t.k0s()()()),2&r&&(t.R7$(2),t.SpI("",t.bMT(3,4,"PAGES.ADDRESS.CONFIRM"),":"),t.R7$(3),t.Y8G("value",null==n.address?null:n.address.name),t.R7$(3),t.SpI(" ",t.bMT(9,6,"PAGES.ACTIONS.DELETE")," "),t.R7$(3),t.SpI(" ",t.bMT(12,8,"PAGES.ACTIONS.CANCEL")," "))},dependencies:[o.Wk,c.D9],encapsulation:2})}}return s})()},{path:"edit",component:(()=>{class s{constructor(e,r,n,d,m){this.fb=e,this.addressService=r,this.shared=n,this.router=d,this.route=m,this.address=null,this.addressForm=this.fb.group({name:["",i.k0.required]})}ngOnInit(){this.shared.selectedAddress$.subscribe(e=>{e?(this.address=e,this.addressForm.patchValue({name:this.address.name})):this.back()})}onSubmit(){if(this.addressForm.valid&&this.address){const e={...this.address,...this.addressForm.value};this.addressService.updateAddress(e).subscribe(()=>{this.back()})}}back(){this.router.navigate(["../"],{relativeTo:this.route})}static{this.\u0275fac=function(r){return new(r||s)(t.rXU(i.ok),t.rXU(l),t.rXU(u),t.rXU(o.Ix),t.rXU(o.nX))}}static{this.\u0275cmp=t.VBU({type:s,selectors:[["app-address-edit"]],decls:11,vars:11,consts:[[3,"ngSubmit","formGroup"],[1,"input-group","mb-3"],["type","text","formControlName","name",1,"form-control",3,"placeholder"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"ri-check-line"],["type","button",1,"btn","btn-secondary","ms-2",3,"click"]],template:function(r,n){1&r&&(t.j41(0,"form",0),t.bIt("ngSubmit",function(){return n.onSubmit()}),t.j41(1,"div",1),t.nrm(2,"input",2),t.nI1(3,"translate"),t.j41(4,"button",3),t.nrm(5,"i",4),t.EFF(6),t.nI1(7,"translate"),t.k0s(),t.j41(8,"button",5),t.bIt("click",function(){return n.back()}),t.EFF(9),t.nI1(10,"translate"),t.k0s()()()),2&r&&(t.Y8G("formGroup",n.addressForm),t.R7$(2),t.FS9("placeholder",t.bMT(3,5,"PAGES.ADDRESS.NAME")),t.R7$(2),t.Y8G("disabled",n.addressForm.invalid),t.R7$(2),t.SpI(" ",t.bMT(7,7,"PAGES.ACTIONS.SAVE")," "),t.R7$(3),t.SpI(" ",t.bMT(10,9,"PAGES.ACTIONS.CANCEL")," "))},dependencies:[i.qT,i.me,i.BC,i.cb,i.j4,i.JD,c.D9],encapsulation:2})}}return s})()}]}];let g=(()=>{class s{static{this.\u0275fac=function(r){return new(r||s)}}static{this.\u0275mod=t.$C({type:s})}static{this.\u0275inj=t.G2t({imports:[o.iI.forChild(k),o.iI]})}}return s})(),y=(()=>{class s{static{this.\u0275fac=function(r){return new(r||s)}}static{this.\u0275mod=t.$C({type:s})}static{this.\u0275inj=t.G2t({providers:[l,u],imports:[h.MD,g,b.G,c.h,i.X1]})}}return s})()}}]);