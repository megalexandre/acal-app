"use strict";(self.webpackChunkvelzon=self.webpackChunkvelzon||[]).push([[453],{4453:(J,f,o)=>{o.r(f),o.d(f,{PlaceModule:()=>w});var d=o(177),l=o(9417),m=o(7810),v=o(8147),F=o(5464),C=o(6411),k=o(1728),E=o(3887),p=o(8369),b=o(1188),j=o(467),e=o(4438),_=o(6181),h=o(5794),g=o(9459);const u=(n,r)=>({"is-invalid":n,"is-valid":r});function y(n,r){if(1&n&&(e.j41(0,"option",19),e.EFF(1),e.k0s()),2&n){const t=r.$implicit;e.Y8G("ngValue",t),e.R7$(),e.SpI(" ",t.name," ")}}function I(n,r){1&n&&(e.j41(0,"div",20),e.EFF(1,"V\xe1lido"),e.k0s())}function T(n,r){1&n&&(e.qex(0),e.EFF(1," Nome \xe9 obrigat\xf3rio "),e.bVm())}function P(n,r){if(1&n&&(e.j41(0,"div",21),e.DNE(1,T,2,0,"ng-container",22),e.k0s()),2&n){let t;const a=e.XpG();e.R7$(),e.Y8G("ngIf",null==(t=a.getControl("address"))||null==t.errors?null:t.errors.required)}}function R(n,r){1&n&&(e.j41(0,"div",20),e.EFF(1,"V\xe1lido"),e.k0s())}function G(n,r){1&n&&(e.qex(0),e.EFF(1," N\xfamero \xe9 obrigat\xf3rio "),e.bVm())}function $(n,r){if(1&n&&(e.j41(0,"div",21),e.DNE(1,G,2,0,"ng-container",22),e.k0s()),2&n){let t;const a=e.XpG();e.R7$(),e.Y8G("ngIf",null==(t=a.getControl("number"))||null==t.errors?null:t.errors.required)}}function V(n,r){1&n&&(e.j41(0,"div",20),e.EFF(1,"V\xe1lido"),e.k0s())}function S(n,r){1&n&&(e.qex(0),e.EFF(1," Letra \xe9 obrigat\xf3rio "),e.bVm())}function N(n,r){if(1&n&&(e.j41(0,"div",21),e.DNE(1,S,2,0,"ng-container",22),e.k0s()),2&n){let t;const a=e.XpG();e.R7$(),e.Y8G("ngIf",null==(t=a.getControl("letter"))||null==t.errors?null:t.errors.required)}}let Y=(()=>{class n{constructor(t,a,i,s,c){this.fb=t,this.service=a,this.addressService=i,this.activeModal=s,this.t=c,this.sent=new e.bkB,this.submitted=!1,this.addresses=[],this.form=this.fb.group({address:[null,[l.k0.required]],number:[null,[l.k0.required]],letter:[null,[l.k0.required]]})}ngOnInit(){this.addressService.get().subscribe({next:t=>{this.addresses=t.sort((a,i)=>a.name.localeCompare(i.name))},error:()=>{this.addresses=[]}})}onSubmit(){var t=this;return(0,j.A)(function*(){t.submitted=!0,t.form.markAllAsTouched(),t.form.valid&&t.service.create(t.form.value).subscribe({next:()=>{t.sent.emit(),t.close()},error:a=>{t.t.error(a),t.form.reset()}})})()}close(){this.activeModal.close()}isValid(t){return this.getControl(t)?.valid&&this.submitted||!1}isInvalid(t){return this.getControl(t)?.invalid&&this.submitted||!1}getControl(t){return this.form.get(t)}static{this.\u0275fac=function(a){return new(a||n)(e.rXU(l.ok),e.rXU(p.Z),e.rXU(_.E),e.rXU(m.Lw),e.rXU(h.tw))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-place-create"]],outputs:{sent:"sent"},decls:39,vars:21,consts:[[3,"ngSubmit","formGroup"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","outline","","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mb-3"],[1,"form-label"],[1,"text-danger"],["id","address","formControlName","address",1,"form-select",3,"ngClass"],["disabled","",3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["class","valid-feedback",4,"ngIf"],["class","invalid-feedback",4,"ngIf"],["type","text","id","number","formControlName","number","placeholder","N\xfamero:",1,"form-control",3,"ngClass"],["type","text","id","letter","formControlName","letter","placeholder","Letra:",1,"form-control",3,"ngClass"],[1,"modal-footer"],[1,"d-flex","justify-content-between","col-12"],["type","button","btnType","secondary","outline","",3,"click"],["type","submit","btnType","success","outline",""],[3,"ngValue"],[1,"valid-feedback"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(a,i){1&a&&(e.j41(0,"form",0),e.bIt("ngSubmit",function(){return i.onSubmit()}),e.j41(1,"div",1)(2,"h5",2),e.EFF(3,"Criar Resid\xeancia"),e.k0s(),e.j41(4,"button",3),e.bIt("click",function(){return i.close()}),e.k0s()(),e.j41(5,"div",4)(6,"div",5)(7,"label",6),e.EFF(8,"Nome: "),e.j41(9,"span",7),e.EFF(10,"*"),e.k0s()(),e.j41(11,"select",8)(12,"option",9),e.EFF(13,"Selecione um endere\xe7o"),e.k0s(),e.DNE(14,y,2,2,"option",10),e.k0s(),e.DNE(15,I,2,0,"div",11)(16,P,2,1,"div",12),e.k0s(),e.j41(17,"div",5)(18,"label",6),e.EFF(19,"N\xfamero: "),e.j41(20,"span",7),e.EFF(21,"*"),e.k0s()(),e.nrm(22,"input",13),e.DNE(23,R,2,0,"div",11)(24,$,2,1,"div",12),e.k0s(),e.j41(25,"div",5)(26,"label",6),e.EFF(27,"Letra: "),e.j41(28,"span",7),e.EFF(29,"*"),e.k0s()(),e.nrm(30,"input",14),e.DNE(31,V,2,0,"div",11)(32,N,2,1,"div",12),e.k0s()(),e.j41(33,"div",15)(34,"div",16)(35,"app-button",17),e.bIt("click",function(){return i.close()}),e.EFF(36," Cancelar "),e.k0s(),e.j41(37,"app-button",18),e.EFF(38," Salvar "),e.k0s()()()()),2&a&&(e.Y8G("formGroup",i.form),e.R7$(11),e.Y8G("ngClass",e.l_i(12,u,i.isInvalid("address"),i.isValid("address"))),e.R7$(),e.Y8G("ngValue",null),e.R7$(2),e.Y8G("ngForOf",i.addresses),e.R7$(),e.Y8G("ngIf",i.isValid("address")),e.R7$(),e.Y8G("ngIf",i.isInvalid("address")),e.R7$(6),e.Y8G("ngClass",e.l_i(15,u,i.isInvalid("number"),i.isValid("number"))),e.R7$(),e.Y8G("ngIf",i.isValid("number")),e.R7$(),e.Y8G("ngIf",i.isInvalid("number")),e.R7$(6),e.Y8G("ngClass",e.l_i(18,u,i.isInvalid("letter"),i.isValid("letter"))),e.R7$(),e.Y8G("ngIf",i.isValid("letter")),e.R7$(),e.Y8G("ngIf",i.isInvalid("letter")))},dependencies:[d.YU,d.Sq,d.bT,l.qT,l.xH,l.y7,l.me,l.wz,l.BC,l.cb,l.j4,l.JD,g.Q],encapsulation:2})}}return n})(),D=(()=>{class n{constructor(t,a,i){this.placeService=t,this.t=a,this.activeModal=i,this.sent=new e.bkB}close(){this.activeModal.dismiss("cancel")}confirm(){this.placeService.delete(this.place.id).subscribe({next:()=>{this.t.show("Deletado com sucesso"),this.close(),this.sent.emit()}})}static{this.\u0275fac=function(a){return new(a||n)(e.rXU(p.Z),e.rXU(h.tw),e.rXU(m.Lw))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-place-delete"]],inputs:{place:"place"},outputs:{sent:"sent"},decls:20,vars:1,consts:[[1,"modal-content"],[1,"modal-header"],["type","button","data-bs-dismiss","modal","aria-label","Close","id","btn-close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mt-2","text-center"],[1,"text-danger","d-inline-block","remove-item-btn"],[1,"ri-delete-bin-5-fill","fs-48"],[1,"mt-4","pt-2","fs-15","mx-4","mx-sm-5"],[1,"text-muted","mx-4","mb-0"],[1,"d-flex","gap-2","justify-content-center","mt-4","mb-2"],["data-bs-dismiss","modal","id","deleteRecord-close",1,"btn","btn-link","link-success","fw-medium","text-decoration-none",3,"click"],[1,"ri-close-line","me-1","align-middle"],["type","button","id","delete-product",1,"btn","w-sm","btn-danger",3,"click"]],template:function(a,i){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"button",2),e.bIt("click",function(){return i.close()}),e.k0s()(),e.j41(3,"div",3)(4,"div",4)(5,"a",5),e.nrm(6,"i",6),e.k0s(),e.j41(7,"div",7)(8,"h4"),e.EFF(9,"Voc\xea est\xe1 certo que quer deletar isso ?"),e.k0s(),e.j41(10,"p",8),e.EFF(11,"Essa a\xe7\xe3o n\xe3o pode ser desfeita."),e.k0s(),e.j41(12,"p",8),e.EFF(13),e.k0s()()(),e.j41(14,"div",9)(15,"button",10),e.bIt("click",function(){return i.close()}),e.nrm(16,"i",11),e.EFF(17," Cancelar"),e.k0s(),e.j41(18,"button",12),e.bIt("click",function(){return i.confirm()}),e.EFF(19,"Sim, Eu quero deletar!"),e.k0s()()()()),2&a&&(e.R7$(13),e.JRh(i.place.address.name+" "+i.place.number+" "+i.place.letter))},encapsulation:2})}}return n})();var M=o(6356),A=o(7186),X=o(43),B=o(272),U=o(3235),x=o(1272);function O(n,r){if(1&n){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td",32)(8,"ul",33)(9,"li",34),e.bIt("click",function(){const i=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.delete(i))}),e.j41(10,"a",35),e.nrm(11,"i",36),e.k0s()()()()()}if(2&n){const t=r.$implicit;e.R7$(2),e.JRh(t.address.name),e.R7$(2),e.JRh(t.number),e.R7$(2),e.JRh(t.letter)}}const L=[{path:"",component:(()=>{class n{ngOnInit(){this.search()}constructor(t,a,i){this.service=t,this.modalService=a,this.cdr=i,this.filter={address:null,page:0,size:10,sort_orders:[{property:"address.name",direction:"ASC"},{property:"number",direction:"ASC"},{property:"letter",direction:"ASC"}]},this.loading=!0}search(){this.loading=!0,this.service.paginate({...this.filter}).subscribe({next:t=>{this.page={...t},this.loading=!1,this.cdr.markForCheck()},error:()=>{this.loading=!1,this.cdr.markForCheck()}})}clear(){this.filter={address:null,page:0,size:10,sort_orders:[{property:"name",direction:"ASC"}]},this.search()}onPageChange(t){setTimeout(()=>{this.filter.page=t,this.search()})}trackById(t,a){return a.id}create(){this.openModal(Y)}delete(t){this.openModal(D,{place:t})}edit(t){}openModal(t,a){const i=this.modalService.open(t,{centered:!0}).componentInstance;a&&Object.assign(i,a),i.sent.subscribe(()=>this.search())}static{this.\u0275fac=function(a){return new(a||n)(e.rXU(p.Z),e.rXU(m.Bq),e.rXU(e.gRc))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-place"]],decls:54,vars:4,consts:[[1,"row","mb-3"],[1,"col-lg-12"],[1,"accordion","w-100"],[1,"accordion-item"],["id","headingOne",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseOne","aria-expanded","false","aria-controls","collapseOne",1,"accordion-button","collapsed"],["id","collapseOne","aria-labelledby","headingOne","data-bs-parent","#accordionExample",1,"accordion-collapse","collapse"],[1,"accordion-body"],[1,"container-fluid"],[1,"row","g-2","align-items-end"],[1,"col-md-6","col-12"],[1,"form-label"],["placeholder","Nome",3,"ngModelChange","change","ngModel"],[1,"row"],[1,"col-6","col-md-2","offset-md-8","d-grid"],[1,"form-label","invisible"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"mdi","mdi-magnify"],[1,"col-6","col-md-2","d-grid"],["type","button",1,"btn","btn-outline-primary",3,"click"],[1,"card-title","flex-grow-1","mb-0"],[1,"d-flex","gap-1","flex-wrap"],["btnType","success","outline","",3,"click"],[1,"table-responsive","table-card"],[1,"table","table-bordered","table-striped","table-hover","mb-0"],["app-table-header","",1,"table-light"],[2,"width","73%"],[2,"width","12%"],[2,"width","3%"],[1,"list","form-check-all"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"pageChange","page"],[1,"text-center"],[1,"list-inline","hstack","gap-2","mb-0"],["ngbTooltip","Remove","placement","top","data-bs-toggle","tooltip","data-bs-trigger","hover",1,"list-inline-item","me-0",3,"click"],[1,"text-danger","d-inline-block","remove-item-btn"],[1,"ri-delete-bin-5-fill","fs-16"]],template:function(a,i){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4)(5,"button",5),e.EFF(6,"Filtros"),e.k0s()(),e.j41(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"div",10)(12,"label",11),e.EFF(13,"Logradouro"),e.k0s(),e.j41(14,"app-address-select",12),e.mxI("ngModelChange",function(c){return e.DH7(i.filter.address,c)||(i.filter.address=c),c}),e.bIt("change",function(){return i.search()}),e.k0s()()(),e.j41(15,"div",13)(16,"div",14)(17,"label",15),e.EFF(18,"Limpar"),e.k0s(),e.j41(19,"button",16),e.bIt("click",function(){return i.clear()}),e.nrm(20,"i",17),e.EFF(21," Limpar"),e.k0s()(),e.j41(22,"div",18)(23,"label",15),e.EFF(24,"Buscar"),e.k0s(),e.j41(25,"button",19),e.bIt("click",function(){return i.search()}),e.nrm(26,"i",17),e.EFF(27," Buscar"),e.k0s()()()()()()()()()(),e.j41(28,"div",13)(29,"div",1)(30,"app-card")(31,"app-card-header")(32,"h5",20),e.EFF(33,"Resid\xeancias"),e.k0s(),e.j41(34,"div",21)(35,"app-button",22),e.bIt("click",function(){return i.create()}),e.EFF(36," Adicionar "),e.k0s()()(),e.j41(37,"app-card-body")(38,"div",23)(39,"table",24)(40,"thead",25)(41,"tr")(42,"th",26),e.EFF(43,"Name:"),e.k0s(),e.j41(44,"th",27),e.EFF(45,"N\xfamero:"),e.k0s(),e.j41(46,"th",27),e.EFF(47,"Letra:"),e.k0s(),e.j41(48,"th",28),e.EFF(49,"A\xe7\xf5es:"),e.k0s()()(),e.j41(50,"tbody",29),e.DNE(51,O,12,3,"tr",30),e.k0s()()()(),e.j41(52,"app-card-footer")(53,"app-pagination",31),e.bIt("pageChange",function(c){return i.onPageChange(c)}),e.k0s()()()()()),2&a&&(e.R7$(14),e.R50("ngModel",i.filter.address),e.R7$(37),e.Y8G("ngForOf",i.page.content)("ngForTrackBy",i.trackById),e.R7$(2),e.Y8G("page",i.page))},dependencies:[d.Sq,l.BC,l.vS,g.Q,M.i,A.l,X.q,B.R,U.o,x.e],encapsulation:2,changeDetection:0})}}return n})()}];let z=(()=>{class n{static{this.\u0275fac=function(a){return new(a||n)}}static{this.\u0275mod=e.$C({type:n})}static{this.\u0275inj=e.G2t({imports:[b.iI.forChild(L),b.iI]})}}return n})(),w=(()=>{class n{static{this.\u0275fac=function(a){return new(a||n)}}static{this.\u0275mod=e.$C({type:n})}static{this.\u0275inj=e.G2t({providers:[p.Z],imports:[F.M.pick(C.Wzl),d.MD,E.G,v.h,l.YN,l.X1,m.c9,k.i,z]})}}return n})()}}]);