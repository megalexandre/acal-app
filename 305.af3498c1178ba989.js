"use strict";(self.webpackChunkvelzon=self.webpackChunkvelzon||[]).push([[305],{305:(Ce,_,c)=>{c.r(_),c.d(_,{LinkModule:()=>_e});var d=c(177),a=c(9417),u=c(9005),F=c(8147),y=c(5464),T=c(6411),j=c(1728),E=c(3887),M=c(6354),R=c(5312);class g{constructor(r,t,l,n,s,i,h,fe,be){this.id=r,this.number=t,this.category=l,this.customer=n,this.place=s,this.total=i,this.exclusive_member=h,this.active=fe,this.deleted=be}static fromJson(r){return new g(r.id,r.number,r.category,r.customer,r.place,r.total,r.exclusive_member,r.active,r.deleted)}}var e=c(4438),I=c(1626);let p=(()=>{class o{constructor(t){this.http=t,this.apiUrl=`${R.c.apiUrl}/link`}paginate(t){const l={...t,group_name:t.group?t.group.value:null,category_id:t.category?t.category.id:null,address_id:t.address?t.address.id:null};return delete l.group,delete l.category,delete l.address,this.http.post(`${this.apiUrl}/paginate`,l).pipe((0,M.T)(n=>(n.content=n.content.map(s=>g.fromJson(s)),n)))}create(t){return this.http.post(this.apiUrl,t)}update(t){return this.http.put(this.apiUrl,t)}delete(t){return this.http.delete(`${this.apiUrl}/delete/${t}`)}inactivate(t){return this.http.delete(`${this.apiUrl}/inactivate/${t}`)}activate(t){return this.http.delete(`${this.apiUrl}/activate/${t}`)}static{this.\u0275fac=function(l){return new(l||o)(e.KVO(I.Qq))}}static{this.\u0275prov=e.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();var f=c(1188),L=c(467),b=c(5794),m=c(9459),C=c(6271);const G=(o,r)=>({"is-invalid":o,"is-valid":r});function S(o,r){if(1&o&&(e.j41(0,"option",5),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("ngValue",t),e.R7$(),e.SpI(" ",t.name," ")}}function D(o,r){if(1&o&&(e.qex(0),e.j41(1,"optgroup",3),e.DNE(2,S,2,2,"option",4),e.k0s(),e.bVm()),2&o){const t=r.$implicit;e.R7$(),e.Y8G("label",t.group),e.R7$(),e.Y8G("ngForOf",t.categories)}}let k=(()=>{class o{constructor(t){this.service=t,this.disabled=!1,this.control=null,this.groups=[],this.value=null,this.onChange=()=>{},this.onTouch=()=>{},this.loadCategories()}loadCategories(){this.service.get().subscribe({next:t=>{this.groups=this.buildGroups(t)}})}buildGroups(t){return Array.from(new Set(t.map(l=>l.group))).sort((l,n)=>l.localeCompare(n)).map(l=>({group:l,categories:t.filter(n=>n.group===l).sort((n,s)=>n.name.localeCompare(s.name))}))}writeValue(t){this.value=t}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouch=t}setDisabledState(t){this.disabled=t}onSelectionChange(t){this.value=t,this.onChange(t),this.onTouch()}isInvalid(){return!(!this.control||!this.control.invalid||!this.control.dirty&&!this.control.touched)}isValid(){return!(!this.control||!this.control.valid||!this.control.dirty&&!this.control.touched)}static{this.\u0275fac=function(l){return new(l||o)(e.rXU(C.M))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-category-select"]],inputs:{disabled:"disabled",control:"control"},features:[e.Jv_([{provide:a.kq,useExisting:(0,e.Rfq)(()=>o),multi:!0}])],decls:4,vars:8,consts:[[1,"form-select",3,"ngModelChange","disabled","ngClass","ngModel"],[1,"text-muted",3,"ngValue"],[4,"ngFor","ngForOf"],[3,"label"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"]],template:function(l,n){1&l&&(e.j41(0,"select",0),e.mxI("ngModelChange",function(i){return e.DH7(n.value,i)||(n.value=i),i}),e.bIt("ngModelChange",function(i){return n.onSelectionChange(i)}),e.j41(1,"option",1),e.EFF(2,"Selecione..."),e.k0s(),e.DNE(3,D,3,2,"ng-container",2),e.k0s()),2&l&&(e.Y8G("disabled",n.disabled)("ngClass",e.l_i(5,G,n.isInvalid(),n.isValid())),e.R50("ngModel",n.value),e.R7$(),e.Y8G("ngValue",null),e.R7$(2),e.Y8G("ngForOf",n.groups))},dependencies:[d.YU,d.Sq,a.xH,a.y7,a.wz,a.BC,a.vS],encapsulation:2})}}return o})();var v=c(3235),Y=c(2863);const V=(o,r)=>({"is-invalid":o,"is-valid":r});function $(o,r){if(1&o&&(e.j41(0,"option",6),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.id),e.R7$(),e.SpI(" ",t.name+" "+t.identity_card," ")}}let O=(()=>{class o{constructor(t){this.customerService=t,this.control=null,this.customers=[],this.value=null,this.disabled=!1,this.onChange=l=>{},this.onTouched=()=>{}}ngOnInit(){this.customerService.get().subscribe(t=>{this.customers=t.sort((l,n)=>l.name.localeCompare(n.name))})}writeValue(t){this.value=t}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t}onSelectChange(t){this.value=this.customers[t.target.selectedIndex-1]??null,this.onChange(this.value),this.onTouched()}isValid(){return!!this.control&&this.control.valid&&(this.control.dirty||this.control.touched)}isInvalid(){return!!this.control&&this.control.invalid&&(this.control.dirty||this.control.touched)}static{this.\u0275fac=function(l){return new(l||o)(e.rXU(Y.m))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-customer-select"]],inputs:{control:"control"},features:[e.Jv_([{provide:a.kq,useExisting:(0,e.Rfq)(()=>o),multi:!0}])],decls:9,vars:7,consts:[[1,"mb-3"],[1,"form-label"],[1,"text-danger"],[1,"form-select",3,"change","disabled","ngClass"],["value","","disabled","",3,"selected"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(l,n){1&l&&(e.j41(0,"div",0)(1,"label",1),e.EFF(2,"Usu\xe1rio: "),e.j41(3,"span",2),e.EFF(4,"*"),e.k0s()(),e.j41(5,"select",3),e.bIt("change",function(i){return n.onSelectChange(i)}),e.j41(6,"option",4),e.EFF(7,"Selecione"),e.k0s(),e.DNE(8,$,2,2,"option",5),e.k0s()()),2&l&&(e.R7$(5),e.Y8G("disabled",n.disabled)("ngClass",e.l_i(4,V,n.isInvalid(),n.isValid())),e.R7$(),e.Y8G("selected",null===n.value),e.R7$(2),e.Y8G("ngForOf",n.customers))},dependencies:[d.YU,d.Sq,a.xH,a.y7],encapsulation:2})}}return o})();const U=(o,r)=>({"is-invalid":o,"is-valid":r});let N=(()=>{class o{constructor(){this.label="",this.control=null,this.value=null,this.isDisabled=!1,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this.value=t}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.isDisabled=t}onValueChange(t){this.value=t,this.onChange(t),this.onTouched()}isInvalid(){return!(!this.control||!this.control.invalid||!this.control.dirty&&!this.control.touched)}isValid(){return!(!this.control||!this.control.valid||!this.control.dirty&&!this.control.touched)}static{this.\u0275fac=function(l){return new(l||o)}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-yes-or-no-select"]],inputs:{label:"label",control:"control"},features:[e.Jv_([{provide:a.kq,useExisting:(0,e.Rfq)(()=>o),multi:!0}])],decls:9,vars:10,consts:[[1,"form-label"],[1,"form-select",3,"ngModelChange","ngClass","ngModel","disabled"],[3,"ngValue"]],template:function(l,n){1&l&&(e.j41(0,"label",0),e.EFF(1),e.k0s(),e.j41(2,"select",1),e.mxI("ngModelChange",function(i){return e.DH7(n.value,i)||(n.value=i),i}),e.bIt("ngModelChange",function(i){return n.onValueChange(i)}),e.j41(3,"option",2),e.EFF(4,"Selecione"),e.k0s(),e.j41(5,"option",2),e.EFF(6,"Sim"),e.k0s(),e.j41(7,"option",2),e.EFF(8,"N\xe3o"),e.k0s()()),2&l&&(e.R7$(),e.JRh(n.label),e.R7$(),e.Y8G("ngClass",e.l_i(7,U,n.isInvalid(),n.isValid())),e.R50("ngModel",n.value),e.Y8G("disabled",n.isDisabled),e.R7$(),e.Y8G("ngValue",null),e.R7$(2),e.Y8G("ngValue",!0),e.R7$(2),e.Y8G("ngValue",!1))},dependencies:[d.YU,a.xH,a.y7,a.wz,a.BC,a.vS],encapsulation:2})}}return o})();var B=c(8369);const w=(o,r)=>({"is-invalid":o,"is-valid":r});function H(o,r){if(1&o&&(e.j41(0,"option",5),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("ngValue",t),e.R7$(),e.SpI(" ",t.number+" "+t.letter," ")}}function A(o,r){if(1&o&&(e.qex(0),e.j41(1,"optgroup",3),e.DNE(2,H,2,2,"option",4),e.k0s(),e.bVm()),2&o){const t=r.$implicit;e.R7$(),e.Y8G("label",t.name),e.R7$(),e.Y8G("ngForOf",t.itens)}}let X=(()=>{class o{constructor(t){this.service=t,this.disabled=!1,this.address=null,this.control=null,this.groups=null,this.value=null,this.onChange=()=>{},this.onTouch=()=>{}}ngOnChanges(t){t.address&&this.address&&this.load(this.address)}load(t){t?this.service.get().subscribe({next:l=>{this.groups=this.build(l,t)}}):this.groups=[]}build(t,l){const n=t.filter(s=>s.address.id===l.id);return Array.from(new Set(n.map(s=>s.address.name))).sort((s,i)=>s.localeCompare(i)).map(s=>({name:s,itens:n.filter(i=>i.address.name===s).sort((i,h)=>i.address.name.localeCompare(h.address.name))}))}writeValue(t){this.value=t}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouch=t}setDisabledState(t){this.disabled=t}onSelectionChange(t){this.value=t,this.onChange(t),this.onTouch()}isInvalid(){return!(!this.control||!this.control.invalid||!this.control.dirty&&!this.control.touched)}isValid(){return!(!this.control||!this.control.valid||!this.control.dirty&&!this.control.touched)}static{this.\u0275fac=function(l){return new(l||o)(e.rXU(B.Z))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-place-address-select"]],inputs:{disabled:"disabled",address:"address",control:"control"},features:[e.Jv_([{provide:a.kq,useExisting:(0,e.Rfq)(()=>o),multi:!0}]),e.OA$],decls:4,vars:8,consts:[[1,"form-select",3,"ngModelChange","disabled","ngClass","ngModel"],[1,"text-muted",3,"ngValue"],[4,"ngFor","ngForOf"],[3,"label"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"]],template:function(l,n){1&l&&(e.j41(0,"select",0),e.mxI("ngModelChange",function(i){return e.DH7(n.value,i)||(n.value=i),i}),e.bIt("ngModelChange",function(i){return n.onSelectionChange(i)}),e.j41(1,"option",1),e.EFF(2,"Selecione..."),e.k0s(),e.DNE(3,A,3,2,"ng-container",2),e.k0s()),2&l&&(e.Y8G("disabled",n.disabled)("ngClass",e.l_i(5,w,n.isInvalid(),n.isValid())),e.R50("ngModel",n.value),e.R7$(),e.Y8G("ngValue",null),e.R7$(2),e.Y8G("ngForOf",n.groups))},dependencies:[d.YU,d.Sq,a.xH,a.y7,a.wz,a.BC,a.vS],encapsulation:2})}}return o})();const J=()=>({standalone:!0});function z(o,r){if(1&o&&(e.j41(0,"div",6)(1,"label",7),e.EFF(2," Local: "),e.j41(3,"span",8),e.EFF(4,"*"),e.k0s()(),e.nrm(5,"app-place-address-select",17),e.k0s()),2&o){const t=e.XpG();e.R7$(5),e.Y8G("address",t.address)("control",t.placeControl)("disabled",!t.address)}}let P=(()=>{class o{constructor(t,l,n,s){this.fb=t,this.service=l,this.activeModal=n,this.t=s,this.sent=new e.bkB,this.submitted=!1,this.address=null,this.form=this.fb.group({number:["A",[a.k0.required]],customer_id:[null,[a.k0.required]],place_id:[null,[a.k0.required]],category_id:[null,[a.k0.required]],exclusive_member:[!1,[a.k0.required]]})}ngOnInit(){}onSubmit(){var t=this;return(0,L.A)(function*(){t.submitted=!0,t.form.markAllAsTouched(),t.form.valid&&t.service.create({number:"2025",customer_id:t.customerControl.value.id,place_id:t.placeControl.value.id,category_id:t.categoryControl.value.id,exclusive_member:t.exclusiveMenberControl.value}).subscribe({next:()=>{t.sent.emit(),t.close()},error:n=>{t.form.reset(),t.t.error("Error","DUPLICATE_LINK"===n.message?"J\xe1 existe um link com ativo nesse endere\xe7o.":"Erro ao criar link: "+n.message)}})})()}close(){this.activeModal.close()}isValid(t){return this.getControl(t)?.valid&&this.submitted||!1}isInvalid(t){return this.getControl(t)?.invalid&&this.submitted||!1}getControl(t){return this.form.get(t)}get customerControl(){return this.form.get("customer_id")}get categoryControl(){return this.form.get("category_id")}get exclusiveMenberControl(){return this.form.get("exclusive_member")}get placeControl(){return this.form.get("place_id")}static{this.\u0275fac=function(l){return new(l||o)(e.rXU(a.ok),e.rXU(p),e.rXU(u.Lw),e.rXU(b.tw))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["ng-component"]],outputs:{sent:"sent"},decls:28,vars:8,consts:[[3,"ngSubmit","formGroup"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","outline","","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["formControlName","customer_id",3,"control"],[1,"mb-3"],[1,"form-label"],[1,"text-danger"],["formControlName","category_id",3,"control"],[3,"ngModelChange","ngModel","ngModelOptions"],["class","mb-3",4,"ngIf"],["formControlName","exclusive_member","label","\xc9 exclusivamente s\xf3cio?",3,"control"],[1,"modal-footer"],[1,"d-flex","justify-content-between","col-12"],["type","button","btnType","secondary","outline","",3,"click"],["type","submit","btnType","success","outline",""],["formControlName","place_id",3,"address","control","disabled"]],template:function(l,n){1&l&&(e.j41(0,"form",0),e.bIt("ngSubmit",function(){return n.onSubmit()}),e.j41(1,"div",1)(2,"h5",2),e.EFF(3,"Criar Liga\xe7\xe3o"),e.k0s(),e.j41(4,"button",3),e.bIt("click",function(){return n.close()}),e.k0s()(),e.j41(5,"div",4),e.nrm(6,"app-customer-select",5),e.j41(7,"div",6)(8,"label",7),e.EFF(9,"Categoria: "),e.j41(10,"span",8),e.EFF(11,"*"),e.k0s()(),e.nrm(12,"app-category-select",9),e.k0s(),e.j41(13,"div",6)(14,"label",7),e.EFF(15," Rua: "),e.j41(16,"span",8),e.EFF(17,"*"),e.k0s()(),e.j41(18,"app-address-select",10),e.mxI("ngModelChange",function(i){return e.DH7(n.address,i)||(n.address=i),i}),e.k0s()(),e.DNE(19,z,6,3,"div",11),e.j41(20,"div",6),e.nrm(21,"app-yes-or-no-select",12),e.k0s()(),e.j41(22,"div",13)(23,"div",14)(24,"app-button",15),e.bIt("click",function(){return n.close()}),e.EFF(25," Cancelar "),e.k0s(),e.j41(26,"app-button",16),e.EFF(27," Salvar "),e.k0s()()()()),2&l&&(e.Y8G("formGroup",n.form),e.R7$(6),e.Y8G("control",n.customerControl),e.R7$(6),e.Y8G("control",n.categoryControl),e.R7$(6),e.R50("ngModel",n.address),e.Y8G("ngModelOptions",e.lJ4(7,J)),e.R7$(),e.Y8G("ngIf",n.address),e.R7$(2),e.Y8G("control",n.exclusiveMenberControl))},dependencies:[d.bT,a.qT,a.BC,a.cb,a.vS,a.j4,a.JD,m.Q,k,v.o,O,N,X],encapsulation:2})}}return o})();function Q(o,r){if(1&o){const t=e.RV6();e.j41(0,"app-button",15),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.inactivate())}),e.EFF(1," Inativar "),e.k0s()}}function x(o,r){if(1&o){const t=e.RV6();e.j41(0,"app-button",16),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.activate())}),e.EFF(1," Ativar "),e.k0s()}}function K(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",11),e.DNE(1,Q,2,0,"app-button",12)(2,x,2,0,"app-button",13),e.j41(3,"app-button",14),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.delete())}),e.EFF(4," Deletar "),e.k0s()()}if(2&o){const t=e.XpG();e.R7$(),e.Y8G("ngIf",t.link.active),e.R7$(),e.Y8G("ngIf",!t.link.active)}}let W=(()=>{class o{constructor(t,l,n){this.service=t,this.activeModal=l,this.t=n,this.sent=new e.bkB}ngOnInit(){}delete(){this.service.delete(this.link.id).subscribe({next:()=>{this.t.success("Link deletado"),this.activeModal.close(),this.sent.emit(this.link.id)},error:t=>{this.t.error("Error deleting link: "+t.message)}})}inactivate(){this.service.inactivate(this.link.id).subscribe({next:()=>{this.t.success("Link inativado"),this.activeModal.close(),this.sent.emit(this.link.id)},error:t=>{this.t.error("Error deleting link: "+t.message)}})}activate(){this.service.activate(this.link.id).subscribe({next:()=>{this.t.success("Link ativado"),this.activeModal.close(),this.sent.emit(this.link.id)},error:t=>{this.t.error("Error activating link: "+t.message)}})}close(){this.activeModal.close()}static{this.\u0275fac=function(l){return new(l||o)(e.rXU(p),e.rXU(u.Lw),e.rXU(b.tw))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["ng-component"]],inputs:{link:"link"},outputs:{sent:"sent"},decls:30,vars:11,consts:[[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","outline","","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mb-3"],[1,"form-label"],["type","text",1,"form-control",3,"ngModelChange","ngModel","disabled"],[1,"modal-footer"],[1,"d-flex","justify-content-between","col-12"],["type","button","btnType","secondary","outline","",3,"click"],["class","d-flex",4,"ngIf"],[1,"d-flex"],["type","button","btnType","warning","outline","","class","ms-2",3,"click",4,"ngIf"],["type","button","btnType","success","outline","","class","ms-2",3,"click",4,"ngIf"],["type","button","btnType","danger","outline","",1,"ms-2",3,"click"],["type","button","btnType","warning","outline","",1,"ms-2",3,"click"],["type","button","btnType","success","outline","",1,"ms-2",3,"click"]],template:function(l,n){1&l&&(e.j41(0,"div",0)(1,"h5",1),e.EFF(2,"Deletar Liga\xe7\xe3o"),e.k0s(),e.j41(3,"button",2),e.bIt("click",function(){return n.close()}),e.k0s()(),e.j41(4,"div",3)(5,"div",4)(6,"label",5),e.EFF(7,"Cliente:"),e.k0s(),e.j41(8,"input",6),e.mxI("ngModelChange",function(i){return e.DH7(n.link.customer.name,i)||(n.link.customer.name=i),i}),e.k0s()(),e.j41(9,"div",4)(10,"label",5),e.EFF(11,"Idenfica\xe7\xe3o:"),e.k0s(),e.j41(12,"input",6),e.mxI("ngModelChange",function(i){return e.DH7(n.link.customer.identity_card,i)||(n.link.customer.identity_card=i),i}),e.k0s()(),e.j41(13,"div",4)(14,"label",5),e.EFF(15,"Categoria:"),e.k0s(),e.j41(16,"input",6),e.mxI("ngModelChange",function(i){return e.DH7(n.link.category.name,i)||(n.link.category.name=i),i}),e.k0s()(),e.j41(17,"div",4)(18,"label",5),e.EFF(19,"Local:"),e.k0s(),e.j41(20,"input",6),e.mxI("ngModelChange",function(i){return e.DH7(n.link.place.address.name,i)||(n.link.place.address.name=i),i}),e.k0s()(),e.j41(21,"div",4)(22,"label",5),e.EFF(23,"\xc9 exclusivamente s\xf3cio?"),e.k0s(),e.j41(24,"input",6),e.mxI("ngModelChange",function(i){return e.DH7(n.link.exclusive_member,i)||(n.link.exclusive_member=i),i}),e.k0s()()(),e.j41(25,"div",7)(26,"div",8)(27,"app-button",9),e.bIt("click",function(){return n.close()}),e.EFF(28," Cancelar "),e.k0s(),e.DNE(29,K,5,2,"div",10),e.k0s()()),2&l&&(e.R7$(8),e.R50("ngModel",n.link.customer.name),e.Y8G("disabled",!0),e.R7$(4),e.R50("ngModel",n.link.customer.identity_card),e.Y8G("disabled",!0),e.R7$(4),e.R50("ngModel",n.link.category.name),e.Y8G("disabled",!0),e.R7$(4),e.R50("ngModel",n.link.place.address.name),e.Y8G("disabled",!0),e.R7$(4),e.R50("ngModel",n.link.exclusive_member),e.Y8G("disabled",!0),e.R7$(5),e.Y8G("ngIf",!n.link.deleted))},dependencies:[d.bT,a.me,a.BC,a.vS,m.Q],encapsulation:2})}}return o})();var Z=c(6356),q=c(7186),ee=c(43),te=c(272),ne=c(9986),oe=c(1272);const ie=(o,r)=>({"is-invalid":o,"is-valid":r});function le(o,r){if(1&o&&(e.j41(0,"option",3),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("ngValue",t),e.R7$(),e.SpI(" ",t.name," ")}}let se=(()=>{class o{constructor(t){this.service=t,this.disabled=!1,this.control=null,this.value=null,this.groups=[],this.onChange=()=>{},this.onTouch=()=>{},this.loadCategories()}loadCategories(){this.service.getGroups().subscribe({next:t=>{this.groups=t}})}writeValue(t){this.value=t}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouch=t}setDisabledState(t){this.disabled=t}onSelectionChange(t){this.value=t,this.onChange(t),this.onTouch()}isInvalid(){return!(!this.control||!this.control.invalid||!this.control.dirty&&!this.control.touched)}isValid(){return!(!this.control||!this.control.valid||!this.control.dirty&&!this.control.touched)}static{this.\u0275fac=function(l){return new(l||o)(e.rXU(C.M))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-group-select"]],inputs:{disabled:"disabled",control:"control"},features:[e.Jv_([{provide:a.kq,useExisting:(0,e.Rfq)(()=>o),multi:!0}])],decls:4,vars:8,consts:[[1,"form-select",3,"ngModelChange","disabled","ngClass","ngModel"],[1,"text-muted",3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"]],template:function(l,n){1&l&&(e.j41(0,"select",0),e.mxI("ngModelChange",function(i){return e.DH7(n.value,i)||(n.value=i),i}),e.bIt("ngModelChange",function(i){return n.onSelectionChange(i)}),e.j41(1,"option",1),e.EFF(2,"Selecione..."),e.k0s(),e.DNE(3,le,2,2,"option",2),e.k0s()),2&l&&(e.Y8G("disabled",n.disabled)("ngClass",e.l_i(5,ie,n.isInvalid(),n.isValid())),e.R50("ngModel",n.value),e.R7$(),e.Y8G("ngValue",null),e.R7$(2),e.Y8G("ngForOf",n.groups))},dependencies:[d.YU,d.Sq,a.xH,a.y7,a.wz,a.BC,a.vS],encapsulation:2})}}return o})();var ae=c(922);const re=(o,r)=>({"table-danger":o,"table-warning":r});function ce(o,r){1&o&&(e.j41(0,"span",50),e.EFF(1,"Inativo"),e.k0s())}function de(o,r){1&o&&(e.j41(0,"span",50),e.EFF(1,"Deletado"),e.k0s())}function ue(o,r){if(1&o){const t=e.RV6();e.j41(0,"tr",43)(1,"td"),e.EFF(2),e.DNE(3,ce,2,0,"span",44)(4,de,2,0,"span",44),e.k0s(),e.j41(5,"td"),e.EFF(6),e.nI1(7,"group"),e.k0s(),e.j41(8,"td"),e.EFF(9),e.k0s(),e.j41(10,"td"),e.EFF(11),e.k0s(),e.j41(12,"td"),e.EFF(13),e.k0s(),e.j41(14,"td"),e.EFF(15),e.nI1(16,"currency"),e.k0s(),e.j41(17,"td",45)(18,"ul",46)(19,"li",47)(20,"a",48),e.bIt("click",function(){const n=e.eBV(t).$implicit,s=e.XpG(3);return e.Njj(s.delete(n))}),e.nrm(21,"i",49),e.k0s()()()()()}if(2&o){const t=r.$implicit;e.Y8G("ngClass",e.l_i(15,re,t.deleted,!t.active)),e.R7$(2),e.SpI(" ",t.customer.name," "),e.R7$(),e.Y8G("ngIf",!t.active),e.R7$(),e.Y8G("ngIf",t.deleted),e.R7$(2),e.Lme("",e.bMT(7,10,t.category.group)," ",t.category.name,""),e.R7$(3),e.JRh(t.place.address.name),e.R7$(2),e.JRh(t.place.number),e.R7$(2),e.JRh(t.place.letter),e.R7$(2),e.JRh(e.i5U(16,12,t.total,"BRL"))}}function pe(o,r){if(1&o&&(e.j41(0,"tbody",41),e.DNE(1,ue,22,18,"tr",42),e.k0s()),2&o){const t=e.XpG(2);e.R7$(),e.Y8G("ngForOf",t.page.content)("ngForTrackBy",t.trackById)}}function ge(o,r){if(1&o&&(e.j41(0,"app-table")(1,"thead",34)(2,"tr")(3,"th",35),e.EFF(4,"Nome"),e.k0s(),e.j41(5,"th",36),e.EFF(6,"Categoria"),e.k0s(),e.j41(7,"th",37),e.EFF(8,"Local"),e.k0s(),e.j41(9,"th",38),e.EFF(10,"N\xfamero"),e.k0s(),e.j41(11,"th",38),e.EFF(12,"Letra"),e.k0s(),e.j41(13,"th",38),e.EFF(14,"Valor"),e.k0s(),e.j41(15,"th",39),e.EFF(16,"A\xe7\xf5es"),e.k0s()()(),e.DNE(17,pe,2,2,"tbody",40),e.k0s()),2&o){const t=e.XpG();e.R7$(17),e.Y8G("ngIf",!t.loading)}}const me=[{path:"",component:(()=>{class o{constructor(t,l){this.service=t,this.modalService=l,this.reference=null,this.page=null,this.loading=!0,this.filter=this.initializeFilter()}ngOnInit(){this.search()}onPageChange(t){this.filter.page=t-1,this.search()}search(){this.loading=!0,this.service.paginate(this.filter).subscribe({next:t=>{this.page=t,this.loading=!1},error:()=>{this.loading=!1}})}initializeFilter(){return{category:null,address:null,group:null,letter:null,deleted:!1,active:null,number:null,page:0,size:20,sort_orders:[{property:"customer.normalizedName",direction:"ASC"}]}}clear(){this.filter=this.initializeFilter(),this.search()}trackById(t,l){return l.id}loadPage(t){this.page&&(t<0||t>=this.page.total_pages||(this.filter.page=t,this.search()))}create(){this.openModal(P).componentInstance.sent.subscribe(()=>{this.search()})}delete(t){this.openModal(W,{link:t}).componentInstance.sent.subscribe(()=>{this.search()})}edit(t){}openModal(t,l){const n=this.modalService.open(t,{centered:!0});return l&&Object.assign(n.componentInstance,l),n}static{this.\u0275fac=function(l){return new(l||o)(e.rXU(p),e.rXU(u.Bq))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-link"]],decls:82,vars:16,consts:[[1,"row","mb-3"],[1,"col-lg-12"],[1,"accordion","w-100"],[1,"accordion-item"],["id","headingOne",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseOne","aria-expanded","false","aria-controls","collapseOne",1,"accordion-button","collapsed"],["id","collapseOne","aria-labelledby","headingOne","data-bs-parent","#accordionExample",1,"accordion-collapse","collapse"],[1,"accordion-body"],[1,"container-fluid"],[1,"row","g-2","align-items-end"],[1,"col-md-6","col-12"],[1,"form-label"],["type","text","placeholder","Nome",1,"form-control",3,"ngModelChange","keydown.enter","ngModel"],[1,"col-md-3","col-12"],[3,"ngModelChange","change","ngModel"],[1,"col-md-4","col-12"],[1,"col-md-2","col-6"],["type","text","placeholder","N\xba",1,"form-control",3,"ngModelChange","keydown.enter","ngModel"],["type","text","placeholder","Letra",1,"form-control",3,"ngModelChange","keydown.enter","ngModel"],[1,"form-select",3,"ngModelChange","change","ngModel"],[3,"value"],[1,"row"],[1,"col-6","col-md-2","offset-md-8","d-grid"],[1,"form-label","invisible"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"mdi","mdi-magnify"],[1,"col-6","col-md-2","d-grid"],["type","button",1,"btn","btn-outline-primary",3,"click"],[1,"card-title","flex-grow-1","mb-0"],[1,"d-flex","gap-1","flex-wrap","justify-content-end"],["btnType","success","outline","",3,"click"],[1,"ri-add-line","me-1"],[4,"ngIf"],[3,"pageChange","page"],["table-header","",1,"table-light"],[2,"width","40%"],[2,"width","20%"],[2,"width","10%"],[2,"width","5%"],[1,"text-center",2,"width","5%"],["table-body","",4,"ngIf"],["table-body",""],[3,"ngClass",4,"ngFor","ngForOf","ngForTrackBy"],[3,"ngClass"],["class","badge bg-info-subtle text-body badge-border float-end",4,"ngIf"],[1,"text-center"],[1,"list-inline","hstack","gap-2","mb-0","justify-content-center"],[1,"list-inline-item"],["ngbTooltip","Remover","placement","top",1,"text-danger",3,"click"],[1,"ri-delete-bin-5-fill","fs-16"],[1,"badge","bg-info-subtle","text-body","badge-border","float-end"]],template:function(l,n){1&l&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4)(5,"button",5),e.EFF(6,"Filtros"),e.k0s()(),e.j41(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"div",10)(12,"label",11),e.EFF(13,"Nome"),e.k0s(),e.j41(14,"input",12),e.mxI("ngModelChange",function(i){return e.DH7(n.filter.name,i)||(n.filter.name=i),i}),e.bIt("keydown.enter",function(){return n.search()}),e.k0s()(),e.j41(15,"div",13)(16,"label",11),e.EFF(17,"Grupos"),e.k0s(),e.j41(18,"app-group-select",14),e.mxI("ngModelChange",function(i){return e.DH7(n.filter.group,i)||(n.filter.group=i),i}),e.bIt("change",function(){return n.search()}),e.k0s()(),e.j41(19,"div",13)(20,"label",11),e.EFF(21,"Categoria"),e.k0s(),e.j41(22,"app-category-select",14),e.mxI("ngModelChange",function(i){return e.DH7(n.filter.category,i)||(n.filter.category=i),i}),e.bIt("change",function(){return n.search()}),e.k0s()(),e.j41(23,"div",15)(24,"label",11),e.EFF(25,"Endere\xe7o"),e.k0s(),e.j41(26,"app-address-select",14),e.mxI("ngModelChange",function(i){return e.DH7(n.filter.address,i)||(n.filter.address=i),i}),e.bIt("change",function(){return n.search()}),e.k0s()(),e.j41(27,"div",16)(28,"label",11),e.EFF(29,"N\xfamero"),e.k0s(),e.j41(30,"input",17),e.mxI("ngModelChange",function(i){return e.DH7(n.filter.number,i)||(n.filter.number=i),i}),e.bIt("keydown.enter",function(){return n.search()}),e.k0s()(),e.j41(31,"div",16)(32,"label",11),e.EFF(33,"Letra"),e.k0s(),e.j41(34,"input",18),e.mxI("ngModelChange",function(i){return e.DH7(n.filter.letter,i)||(n.filter.letter=i),i}),e.bIt("keydown.enter",function(){return n.search()}),e.k0s()(),e.j41(35,"div",16)(36,"label",11),e.EFF(37,"Ativos"),e.k0s(),e.j41(38,"select",19),e.mxI("ngModelChange",function(i){return e.DH7(n.filter.active,i)||(n.filter.active=i),i}),e.bIt("change",function(){return n.search()}),e.j41(39,"option",20),e.EFF(40,"Todos"),e.k0s(),e.j41(41,"option",20),e.EFF(42,"Somente Ativos"),e.k0s(),e.j41(43,"option",20),e.EFF(44,"Somente Inativos"),e.k0s()()(),e.j41(45,"div",16)(46,"label",11),e.EFF(47,"Deletados"),e.k0s(),e.j41(48,"select",19),e.mxI("ngModelChange",function(i){return e.DH7(n.filter.deleted,i)||(n.filter.deleted=i),i}),e.bIt("change",function(){return n.search()}),e.j41(49,"option",20),e.EFF(50,"Todos"),e.k0s(),e.j41(51,"option",20),e.EFF(52,"Somente Ativos"),e.k0s(),e.j41(53,"option",20),e.EFF(54,"Somente Deletados"),e.k0s()()()(),e.j41(55,"div",21)(56,"div",22)(57,"label",23),e.EFF(58,"Limpar"),e.k0s(),e.j41(59,"button",24),e.bIt("click",function(){return n.clear()}),e.nrm(60,"i",25),e.EFF(61," Limpar"),e.k0s()(),e.j41(62,"div",26)(63,"label",23),e.EFF(64,"Buscar"),e.k0s(),e.j41(65,"button",27),e.bIt("click",function(){return n.search()}),e.nrm(66,"i",25),e.EFF(67," Buscar"),e.k0s()()()()()()()()()(),e.j41(68,"div",21)(69,"div",1)(70,"app-card")(71,"app-card-header")(72,"h5",28),e.EFF(73,"Liga\xe7\xf5es"),e.k0s(),e.j41(74,"div",29)(75,"app-button",30),e.bIt("click",function(){return n.create()}),e.nrm(76,"i",31),e.EFF(77," Adicionar "),e.k0s()()(),e.j41(78,"app-card-body"),e.DNE(79,ge,18,1,"app-table",32),e.k0s(),e.j41(80,"app-card-footer")(81,"app-pagination",33),e.bIt("pageChange",function(i){return n.onPageChange(i)}),e.k0s()()()()()),2&l&&(e.R7$(14),e.R50("ngModel",n.filter.name),e.R7$(4),e.R50("ngModel",n.filter.group),e.R7$(4),e.R50("ngModel",n.filter.category),e.R7$(4),e.R50("ngModel",n.filter.address),e.R7$(4),e.R50("ngModel",n.filter.number),e.R7$(4),e.R50("ngModel",n.filter.letter),e.R7$(4),e.R50("ngModel",n.filter.active),e.R7$(),e.Y8G("value",null),e.R7$(2),e.Y8G("value",!0),e.R7$(2),e.Y8G("value",!1),e.R7$(5),e.R50("ngModel",n.filter.deleted),e.R7$(),e.Y8G("value",null),e.R7$(2),e.Y8G("value",!1),e.R7$(2),e.Y8G("value",!0),e.R7$(26),e.Y8G("ngIf",n.page),e.R7$(2),e.Y8G("page",n.page))},dependencies:[d.YU,d.Sq,d.bT,a.xH,a.y7,a.me,a.wz,a.BC,a.vS,m.Q,Z.i,q.l,ee.q,te.R,ne.O,k,v.o,oe.e,se,d.oe,ae.c],encapsulation:2})}}return o})()}];let he=(()=>{class o{static{this.\u0275fac=function(l){return new(l||o)}}static{this.\u0275mod=e.$C({type:o})}static{this.\u0275inj=e.G2t({imports:[f.iI.forChild(me),f.iI]})}}return o})(),_e=(()=>{class o{static{this.\u0275fac=function(l){return new(l||o)}}static{this.\u0275mod=e.$C({type:o})}static{this.\u0275inj=e.G2t({providers:[p],imports:[d.MD,a.YN,a.X1,he,y.M.pick(T.Wzl),u.c9,E.G,F.h,j.i]})}}return o})()}}]);